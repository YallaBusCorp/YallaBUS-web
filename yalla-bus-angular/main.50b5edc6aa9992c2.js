(self.webpackChunkYallaBusAngular=self.webpackChunkYallaBusAngular||[]).push([[179],{106:(Uo,wr,_t)=>{"use strict";var ze=_t(367),wt=_t(461),L=_t(655),fe=_t(492),Tt=_t(3);function Xr(B){return B&&"object"==typeof B&&"default"in B?B:{default:B}}var In,cr=Xr(ze),at=((In={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",In["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",In["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",In["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",In["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",In["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",In["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",In["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",In["recaptcha-error"]="ReCAPTCHA error.",In),_e=new fe.ErrorFactory("appCheck","AppCheck",at),Je=new Map,Ue={activated:!1,tokenObservers:[]},Me={enabled:!1};function He(B){return Je.get(B)||Ue}function Ct(B,q){Je.set(B,q)}function cn(){return Me}var Be="https://content-firebaseappcheck.googleapis.com/v1beta",Nt=function(){function B(q,ee,ue,Se,Oe){if(this.operation=q,this.retryPolicy=ee,this.getWaitDuration=ue,this.lowerBound=Se,this.upperBound=Oe,this.pending=null,this.nextErrorWaitInterval=Se,Se>Oe)throw new Error("Proactive refresh lower bound greater than upper bound!")}return B.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},B.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},B.prototype.isRunning=function(){return!!this.pending},B.prototype.process=function(q){return L.__awaiter(this,void 0,void 0,function(){var ee;return L.__generator(this,function(ue){switch(ue.label){case 0:this.stop(),ue.label=1;case 1:return ue.trys.push([1,6,,7]),this.pending=new fe.Deferred,[4,ct(this.getNextRun(q))];case 2:return ue.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return ue.sent(),this.pending=new fe.Deferred,[4,this.operation()];case 4:return ue.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return ue.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return ee=ue.sent(),this.retryPolicy(ee)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},B.prototype.getNextRun=function(q){if(q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var ee=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ee},B}();function ct(B){return new Promise(function(q){setTimeout(q,B)})}function Gn(){return self.grecaptcha}function ai(B){if(!He(B).activated)throw _e.create("use-before-activation",{appName:B.name})}function ie(B){return fe.base64.encodeString(JSON.stringify(B),!1)}function me(B,q){var ee=B.url,ue=B.body;return L.__awaiter(this,void 0,void 0,function(){var Se,Oe,lt,fn,tr,It,nr,pr,os,Or;return L.__generator(this,function(wn){switch(wn.label){case 0:Se={"Content-Type":"application/json"},(Oe=q.getImmediate({optional:!0}))&&(Se["X-Firebase-Client"]=Oe.getPlatformInfoString()),lt={method:"POST",body:JSON.stringify(ue),headers:Se},wn.label=1;case 1:return wn.trys.push([1,3,,4]),[4,fetch(ee,lt)];case 2:return fn=wn.sent(),[3,4];case 3:throw tr=wn.sent(),_e.create("fetch-network-error",{originalErrorMessage:tr.message});case 4:if(200!==fn.status)throw _e.create("fetch-status-error",{httpStatus:fn.status});wn.label=5;case 5:return wn.trys.push([5,7,,8]),[4,fn.json()];case 6:return It=wn.sent(),[3,8];case 7:throw nr=wn.sent(),_e.create("fetch-parse-error",{originalErrorMessage:nr.message});case 8:if(!(pr=It.ttl.match(/^([\d.]+)(s)$/))||!pr[2]||isNaN(Number(pr[1])))throw _e.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+It.ttl});return os=1e3*Number(pr[1]),Or=Date.now(),[2,{token:It.attestationToken,expireTimeMillis:Or+os,issuedAtTimeMillis:Or}]}})})}function ge(B,q){var ee=B.options;return{url:Be+"/projects/"+ee.projectId+"/apps/"+ee.appId+":exchangeRecaptchaToken?key="+ee.apiKey,body:{recaptcha_token:q}}}function Ae(B,q){var ee=B.options;return{url:Be+"/projects/"+ee.projectId+"/apps/"+ee.appId+":exchangeDebugToken?key="+ee.apiKey,body:{debug_token:q}}}var Re="firebase-app-check-store",Ye="debug-token",Jt=null;function Rr(){return Jt||(Jt=new Promise(function(B,q){try{var ee=indexedDB.open("firebase-app-check-database",1);ee.onsuccess=function(ue){B(ue.target.result)},ee.onerror=function(ue){var Se;q(_e.create("storage-open",{originalErrorMessage:null===(Se=ue.target.error)||void 0===Se?void 0:Se.message}))},ee.onupgradeneeded=function(ue){0===ue.oldVersion&&ue.target.result.createObjectStore(Re,{keyPath:"compositeKey"})}}catch(ue){q(_e.create("storage-open",{originalErrorMessage:ue.message}))}}))}function kt(B){return Et(Bt(B))}function zt(B,q){return L.__awaiter(this,void 0,void 0,function(){var ee,ue,Se,Oe;return L.__generator(this,function(lt){switch(lt.label){case 0:return[4,Rr()];case 1:return ee=lt.sent(),ue=ee.transaction(Re,"readwrite"),Se=ue.objectStore(Re),Oe=Se.put({compositeKey:B,value:q}),[2,new Promise(function(fn,tr){Oe.onsuccess=function(It){fn()},ue.onerror=function(It){var nr;tr(_e.create("storage-set",{originalErrorMessage:null===(nr=It.target.error)||void 0===nr?void 0:nr.message}))}})]}})})}function Et(B){return L.__awaiter(this,void 0,void 0,function(){var q,ee,ue,Se;return L.__generator(this,function(Oe){switch(Oe.label){case 0:return[4,Rr()];case 1:return q=Oe.sent(),ee=q.transaction(Re,"readonly"),ue=ee.objectStore(Re),Se=ue.get(B),[2,new Promise(function(lt,fn){Se.onsuccess=function(tr){var It=tr.target.result;lt(It?It.value:void 0)},ee.onerror=function(tr){var It;fn(_e.create("storage-get",{originalErrorMessage:null===(It=tr.target.error)||void 0===It?void 0:It.message}))}})]}})})}function Bt(B){return B.options.appId+"-"+B.name}var zr=new Tt.Logger("@firebase/app-check");function k(B,q){return fe.isIndexedDBAvailable()?function en(B,q){return zt(Bt(B),q)}(B,q).catch(function(ee){zr.warn("Failed to write token to indexeddb. Error: "+ee)}):Promise.resolve()}function Ni(){return L.__awaiter(this,void 0,void 0,function(){var B;return L.__generator(this,function(q){if((B=cn()).enabled&&B.token)return[2,B.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var hn={error:"UNKNOWN_ERROR"};function tn(B,q,ee){return void 0===ee&&(ee=!1),L.__awaiter(this,void 0,void 0,function(){var ue,Se,Oe,lt,fn,tr,It,nr,pr,os;return L.__generator(this,function(Or){switch(Or.label){case 0:return ai(B),ue=He(B),Oe=void 0,(Se=ue.token)?[3,2]:[4,ue.cachedTokenPromise];case 1:(lt=Or.sent())&&qt(lt)&&(Se=lt,Ct(B,L.__assign(L.__assign({},ue),{token:Se})),ui(B,{token:Se.token})),Or.label=2;case 2:return!ee&&Se&&qt(Se)?[2,{token:Se.token}]:function Zs(){return cn().enabled}()?(tr=me,It=Ae,nr=[B],[4,Ni()]):[3,6];case 3:return[4,tr.apply(void 0,[It.apply(void 0,nr.concat([Or.sent()])),q])];case 4:return fn=Or.sent(),[4,k(B,fn)];case 5:return Or.sent(),Ct(B,L.__assign(L.__assign({},ue),{token:fn})),[2,{token:fn.token}];case 6:return Or.trys.push([6,8,,9]),[4,ue.provider.getToken()];case 7:return Se=Or.sent(),[3,9];case 8:return pr=Or.sent(),zr.error(pr),Oe=pr,[3,9];case 9:return Se?[3,10]:(os=function Vr(B){return{token:ie(hn),error:B}}(Oe),[3,12]);case 10:return os={token:Se.token},Ct(B,L.__assign(L.__assign({},ue),{token:Se})),[4,k(B,Se)];case 11:Or.sent(),Or.label=12;case 12:return ui(B,os),[2,os]}})})}function fr(B,q,ee,ue,Se){var Oe=He(B),lt={next:ue,error:Se,type:ee},fn=L.__assign(L.__assign({},Oe),{tokenObservers:L.__spreadArray(L.__spreadArray([],Oe.tokenObservers),[lt])});if(!fn.tokenRefresher){var tr=function Ln(B,q){var ee=this;return new Nt(function(){return L.__awaiter(ee,void 0,void 0,function(){var Se;return L.__generator(this,function(Oe){switch(Oe.label){case 0:return He(B).token?[3,2]:[4,tn(B,q)];case 1:return Se=Oe.sent(),[3,4];case 2:return[4,tn(B,q,!0)];case 3:Se=Oe.sent(),Oe.label=4;case 4:if(Se.error)throw Se.error;return[2]}})})},function(){return!0},function(){var ue=He(B);if(ue.token){var Se=ue.token.issuedAtTimeMillis+.5*(ue.token.expireTimeMillis-ue.token.issuedAtTimeMillis)+3e5;return Se=Math.min(Se,ue.token.expireTimeMillis-3e5),Math.max(0,Se-Date.now())}return 0},3e4,96e4)}(B,q);fn.tokenRefresher=tr}if(!fn.tokenRefresher.isRunning()&&Oe.isTokenAutoRefreshEnabled&&fn.tokenRefresher.start(),Oe.token&&qt(Oe.token)){var It=Oe.token;Promise.resolve().then(function(){return ue({token:It.token})}).catch(function(){})}else null==Oe.token&&Oe.cachedTokenPromise.then(function(nr){nr&&qt(nr)&&ue({token:nr.token})}).catch(function(){});Ct(B,fn)}function Tn(B,q){var ee=He(B),ue=ee.tokenObservers.filter(function(Se){return Se.next!==q});0===ue.length&&ee.tokenRefresher&&ee.tokenRefresher.isRunning()&&ee.tokenRefresher.stop(),Ct(B,L.__assign(L.__assign({},ee),{tokenObservers:ue}))}function ui(B,q){for(var ue=0,Se=He(B).tokenObservers;ue<Se.length;ue++){var Oe=Se[ue];try{"EXTERNAL"===Oe.type&&null!=q.error?Oe.error(q.error):Oe.next(q)}catch(lt){}}}function qt(B){return B.expireTimeMillis-Date.now()>0}function ln(B){return L.__awaiter(this,void 0,void 0,function(){var ee;return L.__generator(this,function(ue){switch(ue.label){case 0:return ai(B),[4,He(B).reCAPTCHAState.initialized.promise];case 1:return ee=ue.sent(),[2,new Promise(function(Se,Oe){var lt=He(B).reCAPTCHAState;ee.ready(function(){Se(ee.execute(lt.widgetId,{action:"fire_app_check"}))})})]}})})}function ci(B,q,ee,ue){var Se=ee.render(ue,{sitekey:q,size:"invisible"}),Oe=He(B);Ct(B,L.__assign(L.__assign({},Oe),{reCAPTCHAState:L.__assign(L.__assign({},Oe.reCAPTCHAState),{widgetId:Se})}))}var Xi=function(){function B(q){this._siteKey=q}return B.prototype.getToken=function(){return L.__awaiter(this,void 0,void 0,function(){var q;return L.__generator(this,function(ee){switch(ee.label){case 0:if(!this._app||!this._platformLoggerProvider)throw _e.create("use-before-activation",{appName:""});ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,ln(this._app)];case 2:return q=ee.sent(),[3,4];case 3:throw ee.sent(),_e.create("recaptcha-error");case 4:return[2,me(ge(this._app,q),this._platformLoggerProvider)]}})})},B.prototype.initialize=function(q,ee){this._app=q,this._platformLoggerProvider=ee,function ea(B,q){var ee=He(B),ue=new fe.Deferred;Ct(B,L.__assign(L.__assign({},ee),{reCAPTCHAState:{initialized:ue}}));var Se="fire_app_check_"+B.name,Oe=document.createElement("div");Oe.id=Se,Oe.style.display="none",document.body.appendChild(Oe);var lt=Gn();return lt?lt.ready(function(){ci(B,q,lt,Se),ue.resolve(lt)}):function mo(B){var q=document.createElement("script");q.src="https://www.google.com/recaptcha/api.js",q.onload=B,document.head.appendChild(q)}(function(){var fn=Gn();if(!fn)throw new Error("no recaptcha");fn.ready(function(){ci(B,q,fn,Se),ue.resolve(fn)})}),ue.promise}(q,this._siteKey).catch(function(){})},B}(),qn=function(){function B(q){this._customProviderOptions=q}return B.prototype.getToken=function(){return L.__awaiter(this,void 0,void 0,function(){var q,ee,ue;return L.__generator(this,function(Se){switch(Se.label){case 0:if(!this._app)throw _e.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return q=Se.sent(),ee=fe.issuedAtTime(q.token),ue=null!==ee&&ee<Date.now()&&ee>0?1e3*ee:Date.now(),[2,L.__assign(L.__assign({},q),{issuedAtTimeMillis:ue})]}})})},B.prototype.initialize=function(q){this._app=q},B}();function Xl(B,q){return{app:B,activate:function(ee,ue){return function Pr(B,q,ee,ue){var Se=He(B);if(Se.activated)throw _e.create("already-activated",{appName:B.name});var Oe=L.__assign(L.__assign({},Se),{activated:!0});Oe.cachedTokenPromise=function ye(B){return L.__awaiter(this,void 0,void 0,function(){var q,ee;return L.__generator(this,function(ue){switch(ue.label){case 0:if(!fe.isIndexedDBAvailable())return[3,5];q=void 0,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,kt(B)];case 2:return q=ue.sent(),[3,4];case 3:return ee=ue.sent(),zr.warn("Failed to read token from indexeddb. Error: "+ee),[3,4];case 4:return[2,q];case 5:return[2,void 0]}})})}(B).then(function(lt){return lt&&qt(lt)&&Ct(B,L.__assign(L.__assign({},He(B)),{token:lt})),lt}),Oe.provider="string"==typeof q?new Xi(q):q instanceof Xi||q instanceof qn?q:new qn({getToken:q.getToken}),Oe.isTokenAutoRefreshEnabled=void 0===ue?B.automaticDataCollectionEnabled:ue,Ct(B,Oe),Oe.provider.initialize(B,ee)}(B,ee,q,ue)},setTokenAutoRefreshEnabled:function(ee){return function Cr(B,q){var ee=He(B);ee.tokenRefresher&&(!0===q?ee.tokenRefresher.start():ee.tokenRefresher.stop()),Ct(B,L.__assign(L.__assign({},ee),{isTokenAutoRefreshEnabled:q}))}(B,ee)},getToken:function(ee){return function Fi(B,q,ee){return L.__awaiter(this,void 0,void 0,function(){var ue;return L.__generator(this,function(Se){switch(Se.label){case 0:return[4,tn(B,q,ee)];case 1:if((ue=Se.sent()).error)throw ue.error;return[2,{token:ue.token}]}})})}(B,q,ee)},onTokenChanged:function(ee,ue,Se){return function Qn(B,q,ee,ue,Se){var Oe,lt=function(){};return Oe=null!=ee.next?ee.next.bind(ee):ee,null!=ee.error?lt=ee.error.bind(ee):ue&&(lt=ue),fr(B,q,"EXTERNAL",Oe,lt),function(){return Tn(B,Oe)}}(B,q,ee,ue)},INTERNAL:{delete:function(){for(var ue=0,Se=He(B).tokenObservers;ue<Se.length;ue++)Tn(B,Se[ue].next);return Promise.resolve()}}}}var X="app-check-internal";(function re(B){B.INTERNAL.registerComponent(new wt.Component("appCheck",function(q){return Xl(q.getProvider("app").getImmediate(),q.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Xi,CustomProvider:qn}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(q,ee,ue){q.getProvider(X).initialize()})),B.INTERNAL.registerComponent(new wt.Component(X,function(q){return function Zl(B,q){return{getToken:function(ee){return tn(B,q,ee)},addTokenListener:function(ee){return fr(B,q,"INTERNAL",ee)},removeTokenListener:function(ee){return Tn(B,ee)}}}(q.getProvider("app").getImmediate(),q.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),B.registerVersion("@firebase/app-check","0.3.2")})(cr.default),function ks(){var B=fe.getGlobal();if("string"==typeof B.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===B.FIREBASE_APPCHECK_DEBUG_TOKEN){var q=cn();q.enabled=!0;var ee=new fe.Deferred;q.token=ee,ee.resolve("string"==typeof B.FIREBASE_APPCHECK_DEBUG_TOKEN?B.FIREBASE_APPCHECK_DEBUG_TOKEN:function li(){return L.__awaiter(this,void 0,void 0,function(){var B,q;return L.__generator(this,function(ee){switch(ee.label){case 0:B=void 0,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,Et(Ye)];case 2:return B=ee.sent(),[3,4];case 3:return ee.sent(),[3,4];case 4:return B?[2,B]:(q=function dn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(B){var q=16*Math.random()|0;return("x"===B?q:3&q|8).toString(16)})}(),function Ie(B){return zt(Ye,B)}(q).catch(function(ue){return zr.warn("Failed to persist debug token to indexeddb. Error: "+ue)}),console.log("AppCheck debug token: "+q+". You will need to whitelist it in the Firebase console for it to work"),[2,q])}})})}())}}()},367:(Uo,wr,_t)=>{"use strict";_t.r(wr),_t.d(wr,{default:()=>en,firebase:()=>kt});var Tt,ct,ze=_t(655),wt=_t(492),L=_t(461),fe=_t(3),Xr=((Tt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Tt["bad-app-name"]="Illegal App name: '{$appName}",Tt["duplicate-app"]="Firebase App named '{$appName}' already exists",Tt["app-deleted"]="Firebase App named '{$appName}' already deleted",Tt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Tt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Tt),cr=new wt.ErrorFactory("app","Firebase",Xr),In="@firebase/app",Gn="[DEFAULT]",ai=((ct={})[In]="fire-core",ct["@firebase/analytics"]="fire-analytics",ct["@firebase/app-check"]="fire-app-check",ct["@firebase/auth"]="fire-auth",ct["@firebase/database"]="fire-rtdb",ct["@firebase/functions"]="fire-fn",ct["@firebase/installations"]="fire-iid",ct["@firebase/messaging"]="fire-fcm",ct["@firebase/performance"]="fire-perf",ct["@firebase/remote-config"]="fire-rc",ct["@firebase/storage"]="fire-gcs",ct["@firebase/firestore"]="fire-fst",ct["fire-js"]="fire-js",ct["firebase-wrapper"]="fire-js-all",ct),dn=new fe.Logger("@firebase/app"),ie=function(){function Ie(Ge,zt,Et){var Bt=this;this.firebase_=Et,this.isDeleted_=!1,this.name_=zt.name,this.automaticDataCollectionEnabled_=zt.automaticDataCollectionEnabled||!1,this.options_=(0,wt.deepCopy)(Ge),this.container=new L.ComponentContainer(zt.name),this._addComponent(new L.Component("app",function(){return Bt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(zr){return Bt._addComponent(zr)})}return Object.defineProperty(Ie.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ge){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ge},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ie.prototype.delete=function(){var Ge=this;return new Promise(function(zt){Ge.checkDestroyed_(),zt()}).then(function(){return Ge.firebase_.INTERNAL.removeApp(Ge.name_),Promise.all(Ge.container.getProviders().map(function(zt){return zt.delete()}))}).then(function(){Ge.isDeleted_=!0})},Ie.prototype._getService=function(Ge,zt){var Et;void 0===zt&&(zt=Gn),this.checkDestroyed_();var Bt=this.container.getProvider(Ge);return!Bt.isInitialized()&&"EXPLICIT"===(null===(Et=Bt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&Bt.initialize(),Bt.getImmediate({identifier:zt})},Ie.prototype._removeServiceInstance=function(Ge,zt){void 0===zt&&(zt=Gn),this.container.getProvider(Ge).clearInstance(zt)},Ie.prototype._addComponent=function(Ge){try{this.container.addComponent(Ge)}catch(zt){dn.debug("Component "+Ge.name+" failed to register with FirebaseApp "+this.name,zt)}},Ie.prototype._addOrOverwriteComponent=function(Ge){this.container.addOrOverwriteComponent(Ge)},Ie.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ie.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw cr.create("app-deleted",{appName:this.name_})},Ie}();ie.prototype.name&&ie.prototype.options||ie.prototype.delete||console.log("dc");var ve=function Ae(){var Ie=function ge(Ie){var Ge={},zt=new Map,Et={__esModule:!0,initializeApp:function ye(hn,tn){void 0===tn&&(tn={}),("object"!=typeof tn||null===tn)&&(tn={name:tn});var Tn=tn;void 0===Tn.name&&(Tn.name=Gn);var Ln=Tn.name;if("string"!=typeof Ln||!Ln)throw cr.create("bad-app-name",{appName:String(Ln)});if((0,wt.contains)(Ge,Ln))throw cr.create("duplicate-app",{appName:Ln});var ui=new Ie(hn,Tn,Et);return Ge[Ln]=ui,ui},app:zr,registerVersion:function Zs(hn,tn,fr){var Tn,Ln=null!==(Tn=ai[hn])&&void 0!==Tn?Tn:hn;fr&&(Ln+="-"+fr);var ui=Ln.match(/\s|\//),qt=tn.match(/\s|\//);if(ui||qt){var Vr=['Unable to register library "'+Ln+'" with version "'+tn+'":'];return ui&&Vr.push('library name "'+Ln+'" contains illegal characters (whitespace or "/")'),ui&&qt&&Vr.push("and"),qt&&Vr.push('version name "'+tn+'" contains illegal characters (whitespace or "/")'),void dn.warn(Vr.join(" "))}li(new L.Component(Ln+"-version",function(){return{library:Ln,version:tn}},"VERSION"))},setLogLevel:fe.setLogLevel,onLog:function Ni(hn,tn){if(null!==hn&&"function"!=typeof hn)throw cr.create("invalid-log-argument");(0,fe.setUserLogHandler)(hn,tn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:li,removeApp:function Bt(hn){delete Ge[hn]},components:zt,useAsService:function ks(hn,tn){return"serverAuth"===tn?null:tn}}};function zr(hn){if(!(0,wt.contains)(Ge,hn=hn||Gn))throw cr.create("no-app",{appName:hn});return Ge[hn]}function li(hn){var tn=hn.name;if(zt.has(tn))return dn.debug("There were multiple attempts to register component "+tn+"."),"PUBLIC"===hn.type?Et[tn]:null;if(zt.set(tn,hn),"PUBLIC"===hn.type){var fr=function(qt){if(void 0===qt&&(qt=zr()),"function"!=typeof qt[tn])throw cr.create("invalid-app-argument",{appName:tn});return qt[tn]()};void 0!==hn.serviceProps&&(0,wt.deepExtend)(fr,hn.serviceProps),Et[tn]=fr,Ie.prototype[tn]=function(){for(var qt=[],Vr=0;Vr<arguments.length;Vr++)qt[Vr]=arguments[Vr];return this._getService.bind(this,tn).apply(this,hn.multipleInstances?qt:[])}}for(var Tn=0,Ln=Object.keys(Ge);Tn<Ln.length;Tn++)Ge[Ln[Tn]]._addComponent(hn);return"PUBLIC"===hn.type?Et[tn]:null}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function k(){return Object.keys(Ge).map(function(hn){return Ge[hn]})}}),zr.App=Ie,Et}(ie);return Ie.INTERNAL=(0,ze.__assign)((0,ze.__assign)({},Ie.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Ge(zt){(0,wt.deepExtend)(Ie,zt)},createSubscribe:wt.createSubscribe,ErrorFactory:wt.ErrorFactory,deepExtend:wt.deepExtend}),Ie}(),ke=function(){function Ie(Ge){this.container=Ge}return Ie.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(zt){if(function Re(Ie){var Ge=Ie.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(zt)){var Et=zt.getImmediate();return Et.library+"/"+Et.version}return null}).filter(function(zt){return zt}).join(" ")},Ie}();if((0,wt.isBrowser)()&&void 0!==self.firebase){dn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jt=self.firebase.SDK_VERSION;Jt&&Jt.indexOf("LITE")>=0&&dn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Rr=ve.initializeApp;ve.initializeApp=function(){for(var Ie=[],Ge=0;Ge<arguments.length;Ge++)Ie[Ge]=arguments[Ge];return(0,wt.isNode)()&&dn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Rr.apply(void 0,Ie)};var kt=ve;!function Ye(Ie,Ge){Ie.INTERNAL.registerComponent(new L.Component("platform-logger",function(zt){return new ke(zt)},"PRIVATE")),Ie.registerVersion(In,"0.6.30",Ge),Ie.registerVersion("fire-js","")}(kt);const en=kt},461:(Uo,wr,_t)=>{"use strict";_t.r(wr),_t.d(wr,{Component:()=>L,ComponentContainer:()=>In,Provider:()=>Tt});var ze=_t(655),wt=_t(492),L=function(){function at(_e,Je,Ue){this.name=_e,this.instanceFactory=Je,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return at.prototype.setInstantiationMode=function(_e){return this.instantiationMode=_e,this},at.prototype.setMultipleInstances=function(_e){return this.multipleInstances=_e,this},at.prototype.setServiceProps=function(_e){return this.serviceProps=_e,this},at.prototype.setInstanceCreatedCallback=function(_e){return this.onInstanceCreated=_e,this},at}(),fe="[DEFAULT]",Tt=function(){function at(_e,Je){this.name=_e,this.container=Je,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return at.prototype.get=function(_e){var Je=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Je)){var Ue=new wt.Deferred;if(this.instancesDeferred.set(Je,Ue),this.isInitialized(Je)||this.shouldAutoInitialize())try{var Me=this.getOrInitializeService({instanceIdentifier:Je});Me&&Ue.resolve(Me)}catch(He){}}return this.instancesDeferred.get(Je).promise},at.prototype.getImmediate=function(_e){var Je,Ue=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),Me=null!==(Je=null==_e?void 0:_e.optional)&&void 0!==Je&&Je;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(He){if(Me)return null;throw He}},at.prototype.getComponent=function(){return this.component},at.prototype.setComponent=function(_e){var Je,Ue;if(_e.name!==this.name)throw Error("Mismatching Component "+_e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=_e,this.shouldAutoInitialize()){if(function cr(at){return"EAGER"===at.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(Pt){}try{for(var Me=(0,ze.__values)(this.instancesDeferred.entries()),He=Me.next();!He.done;He=Me.next()){var Ct=(0,ze.__read)(He.value,2),Be=Ct[1],tt=this.normalizeInstanceIdentifier(Ct[0]);try{var ht=this.getOrInitializeService({instanceIdentifier:tt});Be.resolve(ht)}catch(Pt){}}}catch(Pt){Je={error:Pt}}finally{try{He&&!He.done&&(Ue=Me.return)&&Ue.call(Me)}finally{if(Je)throw Je.error}}}},at.prototype.clearInstance=function(_e){void 0===_e&&(_e=fe),this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)},at.prototype.delete=function(){return(0,ze.__awaiter)(this,void 0,void 0,function(){var _e;return(0,ze.__generator)(this,function(Je){switch(Je.label){case 0:return _e=Array.from(this.instances.values()),[4,Promise.all((0,ze.__spreadArray)((0,ze.__spreadArray)([],(0,ze.__read)(_e.filter(function(Ue){return"INTERNAL"in Ue}).map(function(Ue){return Ue.INTERNAL.delete()}))),(0,ze.__read)(_e.filter(function(Ue){return"_delete"in Ue}).map(function(Ue){return Ue._delete()}))))];case 1:return Je.sent(),[2]}})})},at.prototype.isComponentSet=function(){return null!=this.component},at.prototype.isInitialized=function(_e){return void 0===_e&&(_e=fe),this.instances.has(_e)},at.prototype.getOptions=function(_e){return void 0===_e&&(_e=fe),this.instancesOptions.get(_e)||{}},at.prototype.initialize=function(_e){var Je,Ue;void 0===_e&&(_e={});var Me=_e.options,He=void 0===Me?{}:Me,Ct=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ct))throw Error(this.name+"("+Ct+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var cn=this.getOrInitializeService({instanceIdentifier:Ct,options:He});try{for(var Be=(0,ze.__values)(this.instancesDeferred.entries()),tt=Be.next();!tt.done;tt=Be.next()){var ht=(0,ze.__read)(tt.value,2),Nt=ht[1];Ct===this.normalizeInstanceIdentifier(ht[0])&&Nt.resolve(cn)}}catch(Gn){Je={error:Gn}}finally{try{tt&&!tt.done&&(Ue=Be.return)&&Ue.call(Be)}finally{if(Je)throw Je.error}}return cn},at.prototype.onInit=function(_e,Je){var Ue,Me=this.normalizeInstanceIdentifier(Je),He=null!==(Ue=this.onInitCallbacks.get(Me))&&void 0!==Ue?Ue:new Set;He.add(_e),this.onInitCallbacks.set(Me,He);var Ct=this.instances.get(Me);return Ct&&_e(Ct,Me),function(){He.delete(_e)}},at.prototype.invokeOnInitCallbacks=function(_e,Je){var Ue,Me,He=this.onInitCallbacks.get(Je);if(He)try{for(var Ct=(0,ze.__values)(He),cn=Ct.next();!cn.done;cn=Ct.next()){var Be=cn.value;try{Be(_e,Je)}catch(tt){}}}catch(tt){Ue={error:tt}}finally{try{cn&&!cn.done&&(Me=Ct.return)&&Me.call(Ct)}finally{if(Ue)throw Ue.error}}},at.prototype.getOrInitializeService=function(_e){var Je=_e.instanceIdentifier,Ue=_e.options,Me=void 0===Ue?{}:Ue,He=this.instances.get(Je);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:Xr(Je),options:Me}),this.instances.set(Je,He),this.instancesOptions.set(Je,Me),this.invokeOnInitCallbacks(He,Je),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Je,He)}catch(Ct){}return He||null},at.prototype.normalizeInstanceIdentifier=function(_e){return void 0===_e&&(_e=fe),this.component?this.component.multipleInstances?_e:fe:_e},at.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},at}();function Xr(at){return at===fe?void 0:at}var In=function(){function at(_e){this.name=_e,this.providers=new Map}return at.prototype.addComponent=function(_e){var Je=this.getProvider(_e.name);if(Je.isComponentSet())throw new Error("Component "+_e.name+" has already been registered with "+this.name);Je.setComponent(_e)},at.prototype.addOrOverwriteComponent=function(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)},at.prototype.getProvider=function(_e){if(this.providers.has(_e))return this.providers.get(_e);var Je=new Tt(_e,this);return this.providers.set(_e,Je),Je},at.prototype.getProviders=function(){return Array.from(this.providers.values())},at}()},89:(Uo,wr,_t)=>{"use strict";var ze=_t(367),wt=_t(461),L=_t(492),fe=_t(655),Tt=_t(3);Uo=_t.hmd(Uo);var In="";function at(h){In=h}var h,_e=function(){function h(d){this.domStorage_=d,this.prefix_="firebase:"}return h.prototype.set=function(d,f){null==f?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,L.stringify)(f))},h.prototype.get=function(d){var f=this.domStorage_.getItem(this.prefixedName_(d));return null==f?null:(0,L.jsonEval)(f)},h.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},h.prototype.prefixedName_=function(d){return this.prefix_+d},h.prototype.toString=function(){return this.domStorage_.toString()},h}(),Je=function(){function h(){this.cache_={},this.isInMemoryStorage=!0}return h.prototype.set=function(d,f){null==f?delete this.cache_[d]:this.cache_[d]=f},h.prototype.get=function(d){return(0,L.contains)(this.cache_,d)?this.cache_[d]:null},h.prototype.remove=function(d){delete this.cache_[d]},h}(),Ue=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){var d=window[h];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new _e(d)}}catch(f){}return new Je},Me=Ue("localStorage"),He=Ue("sessionStorage"),Ct=new Tt.Logger("@firebase/database"),cn=(h=1,function(){return h++}),Be=function(h){var d=(0,L.stringToByteArray)(h),f=new L.Sha1;f.update(d);var g=f.digest();return L.base64.encodeByteArray(g)},tt=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];for(var f="",g=0;g<h.length;g++){var _=h[g];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?f+=tt.apply(null,_):f+="object"==typeof _?(0,L.stringify)(_):_,f+=" "}return f},ht=null,Pt=!0,Nt=function(h,d){(0,L.assert)(!d||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ct.logLevel=Tt.LogLevel.VERBOSE,ht=Ct.log.bind(Ct),d&&He.set("logging_enabled",!0)):"function"==typeof h?ht=h:(ht=null,He.remove("logging_enabled"))},ct=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(!0===Pt&&(Pt=!1,null===ht&&!0===He.get("logging_enabled")&&Nt(!0)),ht){var f=tt.apply(null,h);ht(f)}},Gn=function(h){return function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];ct.apply(void 0,(0,fe.__spreadArray)([h],(0,fe.__read)(d)))}},ai=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var f="FIREBASE INTERNAL ERROR: "+tt.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(h)));Ct.error(f)},dn=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var f="FIREBASE FATAL ERROR: "+tt.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(h)));throw Ct.error(f),new Error(f)},ie=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var f="FIREBASE WARNING: "+tt.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(h)));Ct.warn(f)},ge=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},ve="[MIN_NAME]",ke="[MAX_NAME]",Re=function(h,d){if(h===d)return 0;if(h===ve||d===ke)return-1;if(d===ve||h===ke)return 1;var f=k(h),g=k(d);return null!==f?null!==g?f-g==0?h.length-d.length:f-g:-1:null!==g?1:h<d?-1:1},Ye=function(h,d){return h===d?0:h<d?-1:1},Jt=function(h,d){if(d&&h in d)return d[h];throw new Error("Missing required key ("+h+") in object: "+(0,L.stringify)(d))},Rr=function(h){if("object"!=typeof h||null===h)return(0,L.stringify)(h);var d=[];for(var f in h)d.push(f);d.sort();for(var g="{",_=0;_<d.length;_++)0!==_&&(g+=","),g+=(0,L.stringify)(d[_]),g+=":",g+=Rr(h[d[_]]);return g+"}"},kt=function(h,d){var f=h.length;if(f<=d)return[h];for(var g=[],_=0;_<f;_+=d)g.push(h.substring(_,_+d>f?f:_+d));return g};function en(h,d){for(var f in h)h.hasOwnProperty(f)&&d(f,h[f])}var Ie=function(h){(0,L.assert)(!ge(h),"Invalid JSON number");var _,S,M,V,U,g=1023;0===h?(S=0,M=0,_=1/h==-1/0?1:0):(_=h<0,(h=Math.abs(h))>=Math.pow(2,1-g)?(S=(V=Math.min(Math.floor(Math.log(h)/Math.LN2),g))+g,M=Math.round(h*Math.pow(2,52-V)-Math.pow(2,52))):(S=0,M=Math.round(h/Math.pow(2,-1074))));var $=[];for(U=52;U;U-=1)$.push(M%2?1:0),M=Math.floor(M/2);for(U=11;U;U-=1)$.push(S%2?1:0),S=Math.floor(S/2);$.push(_?1:0),$.reverse();var K=$.join(""),se="";for(U=0;U<64;U+=8){var pe=parseInt(K.substr(U,8),2).toString(16);1===pe.length&&(pe="0"+pe),se+=pe}return se.toLowerCase()},Bt=new RegExp("^-?(0*)\\d{1,10}$"),zr=-2147483648,ye=2147483647,k=function(h){if(Bt.test(h)){var d=Number(h);if(d>=zr&&d<=ye)return d}return null},li=function(h){try{h()}catch(d){setTimeout(function(){throw ie("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},Ni=function(h,d){var f=setTimeout(h,d);return"object"==typeof f&&f.unref&&f.unref(),f},ks=function(){function h(d,f){var g=this;this.appName_=d,this.appCheckProvider=f,this.appCheck=null==f?void 0:f.getImmediate({optional:!0}),this.appCheck||null==f||f.get().then(function(_){return g.appCheck=_})}return h.prototype.getToken=function(d){var f=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(g,_){setTimeout(function(){f.appCheck?f.getToken(d).then(g,_):g(null)},0)})},h.prototype.addTokenChangeListener=function(d){var f;null===(f=this.appCheckProvider)||void 0===f||f.get().then(function(g){return g.addTokenListener(d)})},h.prototype.notifyForInvalidToken=function(){ie('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},h}(),hn=function(){function h(d,f,g){var _=this;this.appName_=d,this.firebaseOptions_=f,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.onInit(function(S){return _.auth_=S})}return h.prototype.getToken=function(d){var f=this;return this.auth_?this.auth_.getToken(d).catch(function(g){return g&&"auth/token-not-initialized"===g.code?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)}):new Promise(function(g,_){setTimeout(function(){f.auth_?f.getToken(d).then(g,_):g(null)},0)})},h.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(f){return f.addAuthTokenListener(d)})},h.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(f){return f.removeAuthTokenListener(d)})},h.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';ie(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},h}(),tn=function(){function h(d){this.accessToken=d}return h.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},h.prototype.addTokenChangeListener=function(d){d(this.accessToken)},h.prototype.removeTokenChangeListener=function(d){},h.prototype.notifyForInvalidToken=function(){},h.OWNER="owner",h}(),Vr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ci="websocket",mo="long_polling",Xi=function(){function h(d,f,g,_,S,M,V){void 0===S&&(S=!1),void 0===M&&(M=""),void 0===V&&(V=!1),this.secure=f,this.namespace=g,this.webSocketOnly=_,this.nodeAdmin=S,this.persistenceKey=M,this.includeNamespaceInQueryParams=V,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Me.get("host:"+d)||this._host}return h.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},h.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(h.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Me.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),h.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},h.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},h}();function Pr(h,d,f){var g;if((0,L.assert)("string"==typeof d,"typeof type must == string"),(0,L.assert)("object"==typeof f,"typeof params must == object"),d===ci)g=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(d!==mo)throw new Error("Unknown connection type: "+d);g=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function qn(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(f.ns=h.namespace);var _=[];return en(f,function(S,M){_.push(S+"="+M)}),g+_.join("&")}var Cr=function(){function h(){this.counters_={}}return h.prototype.incrementCounter=function(d,f){void 0===f&&(f=1),(0,L.contains)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=f},h.prototype.get=function(){return(0,L.deepCopy)(this.counters_)},h}(),Fi={},Qn={};function Xl(h){var d=h.toString();return Fi[d]||(Fi[d]=new Cr),Fi[d]}var cl=function(){function h(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return h.prototype.closeAfter=function(d,f){this.closeAfterResponse=d,this.onClose=f,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},h.prototype.handleResponse=function(d,f){var g=this;this.pendingResponses[d]=f;for(var _=function(){var V=S.pendingResponses[S.currentResponseNum];delete S.pendingResponses[S.currentResponseNum];for(var U=function(K){V[K]&&li(function(){g.onMessage_(V[K])})},$=0;$<V.length;++$)U($);if(S.currentResponseNum===S.closeAfterResponse)return S.onClose&&(S.onClose(),S.onClose=null),"break";S.currentResponseNum++},S=this;this.pendingResponses[this.currentResponseNum]&&"break"!==_(););},h}(),Z="close",Or=function(){function h(d,f,g,_,S,M,V){var U=this;this.connId=d,this.repoInfo=f,this.applicationId=g,this.appCheckToken=_,this.authToken=S,this.transportSessionId=M,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gn(d),this.stats_=Xl(f),this.urlFn=function($){return U.appCheckToken&&($.ac=U.appCheckToken),Pr(f,mo,$)}}return h.prototype.open=function(d,f){var g=this;this.curSegmentNum=0,this.onDisconnect_=f,this.myPacketOrderer=new cl(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){g.log_("Timed out trying to connect."),g.onClosed_(),g.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,L.isNodeSdk)()||"complete"===document.readyState)h();else{var d=!1,f=function(){document.body?d||(d=!0,h()):setTimeout(f,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()}),window.attachEvent("onload",f))}}(function(){if(!g.isClosed_){g.scriptTagHolder=new wn(function(){for(var M=[],V=0;V<arguments.length;V++)M[V]=arguments[V];var U=(0,fe.__read)(M,5),$=U[0],K=U[1],se=U[2];if(g.incrementIncomingBytes_(M),g.scriptTagHolder)if(g.connectTimeoutTimer_&&(clearTimeout(g.connectTimeoutTimer_),g.connectTimeoutTimer_=null),g.everConnected_=!0,"start"===$)g.id=K,g.password=se;else{if($!==Z)throw new Error("Unrecognized command received: "+$);K?(g.scriptTagHolder.sendNewPolls=!1,g.myPacketOrderer.closeAfter(K,function(){g.onClosed_()})):g.onClosed_()}},function(){for(var M=[],V=0;V<arguments.length;V++)M[V]=arguments[V];var U=(0,fe.__read)(M,2),$=U[0],K=U[1];g.incrementIncomingBytes_(M),g.myPacketOrderer.handleResponse($,K)},function(){g.onClosed_()},g.urlFn);var _={start:"t"};_.ser=Math.floor(1e8*Math.random()),g.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=g.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",g.transportSessionId&&(_.s=g.transportSessionId),g.lastSessionId&&(_.ls=g.lastSessionId),g.applicationId&&(_.p=g.applicationId),g.appCheckToken&&(_.ac=g.appCheckToken),"undefined"!=typeof location&&location.hostname&&Vr.test(location.hostname)&&(_.r="f");var S=g.urlFn(_);g.log_("Connecting via long-poll to "+S),g.scriptTagHolder.addTag(S,function(){})}})},h.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},h.forceAllow=function(){h.forceAllow_=!0},h.forceDisallow=function(){h.forceDisallow_=!0},h.isAvailable=function(){return!((0,L.isNodeSdk)()||!h.forceAllow_&&(h.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},h.prototype.markConnectionHealthy=function(){},h.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},h.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},h.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},h.prototype.send=function(d){var f=(0,L.stringify)(d);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);for(var g=(0,L.base64Encode)(f),_=kt(g,1840),S=0;S<_.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[S]),this.curSegmentNum++},h.prototype.addDisconnectPingFrame=function(d,f){if(!(0,L.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var g={dframe:"t"};g.id=d,g.pw=f,this.myDisconnFrame.src=this.urlFn(g),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},h.prototype.incrementIncomingBytes_=function(d){var f=(0,L.stringify)(d).length;this.bytesReceived+=f,this.stats_.incrementCounter("bytes_received",f)},h}(),wn=function(){function h(d,f,g,_){if(this.onDisconnect=g,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.isNodeSdk)())this.commandCB=d,this.onMessageCB=f;else{this.uniqueCallbackIdentifier=cn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=f,this.myIFrame=h.createIFrame_();var S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(S='<script>document.domain="'+document.domain+'";<\/script>');var V="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(V),this.myIFrame.doc.close()}catch(U){ct("frame writing exception"),U.stack&&ct(U.stack),ct(U)}}}return h.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||ct("No IE domain setting required")}catch(_){var g=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+g+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},h.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var f=this.onDisconnect;f&&(this.onDisconnect=null,f())},h.prototype.startLongPoll=function(d,f){for(this.myID=d,this.myPW=f,this.alive=!0;this.newRequest_(););},h.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var f=this.urlFn(d),g="",_=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+g.length<=1870;){var M=this.pendingSegs.shift();g=g+"&seg"+_+"="+M.seg+"&ts"+_+"="+M.ts+"&d"+_+"="+M.d,_++}return this.addLongPollTag_(f+=g,this.currentSerial),!0}return!1},h.prototype.enqueueSegment=function(d,f,g){this.pendingSegs.push({seg:d,ts:f,d:g}),this.alive&&this.newRequest_()},h.prototype.addLongPollTag_=function(d,f){var g=this;this.outstandingRequests.add(f);var _=function(){g.outstandingRequests.delete(f),g.newRequest_()},S=setTimeout(_,Math.floor(25e3));this.addTag(d,function(){clearTimeout(S),_()})},h.prototype.addTag=function(d,f){var g=this;(0,L.isNodeSdk)()?this.doNodeLongPoll(d,f):setTimeout(function(){try{if(!g.sendNewPolls)return;var _=g.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=d,_.onload=_.onreadystatechange=function(){var S=_.readyState;(!S||"loaded"===S||"complete"===S)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),f())},_.onerror=function(){ct("Long-poll script failed to load: "+d),g.sendNewPolls=!1,g.close()},g.myIFrame.doc.body.appendChild(_)}catch(S){}},Math.floor(1))},h}(),hl=null;"undefined"!=typeof MozWebSocket?hl=MozWebSocket:"undefined"!=typeof WebSocket&&(hl=WebSocket);var fl=function(){function h(d,f,g,_,S,M,V){this.connId=d,this.applicationId=g,this.appCheckToken=_,this.authToken=S,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gn(this.connId),this.stats_=Xl(f),this.connURL=h.connectionURL_(f,M,V,_),this.nodeAdmin=f.nodeAdmin}return h.connectionURL_=function(d,f,g,_){var S={v:"5"};return!(0,L.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&Vr.test(location.hostname)&&(S.r="f"),f&&(S.s=f),g&&(S.ls=g),_&&(S.ac=_),Pr(d,ci,S)},h.prototype.open=function(d,f){var g=this;this.onDisconnect=f,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Me.set("previous_websocket_failure",!0);try{if((0,L.isNodeSdk)()){var S={headers:{"User-Agent":"Firebase/5/"+In+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(S.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(S.headers["X-Firebase-AppCheck"]=this.appCheckToken);var M=process.env,V=0===this.connURL.indexOf("wss://")?M.HTTPS_PROXY||M.https_proxy:M.HTTP_PROXY||M.http_proxy;V&&(S.proxy={origin:V}),this.mySock=new hl(this.connURL,[],S)}else this.mySock=new hl(this.connURL,[],S={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch($){this.log_("Error instantiating WebSocket.");var U=$.message||$.data;return U&&this.log_(U),void this.onClosed_()}this.mySock.onopen=function(){g.log_("Websocket connected."),g.everConnected_=!0},this.mySock.onclose=function(){g.log_("Websocket connection was disconnected."),g.mySock=null,g.onClosed_()},this.mySock.onmessage=function($){g.handleIncomingFrame($)},this.mySock.onerror=function($){g.log_("WebSocket error.  Closing connection.");var K=$.message||$.data;K&&g.log_(K),g.onClosed_()}},h.prototype.start=function(){},h.forceDisallow=function(){h.forceDisallow_=!0},h.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(d=!0)}return!d&&null!==hl&&!h.forceDisallow_},h.previouslyFailed=function(){return Me.isInMemoryStorage||!0===Me.get("previous_websocket_failure")},h.prototype.markConnectionHealthy=function(){Me.remove("previous_websocket_failure")},h.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var f=this.frames.join("");this.frames=null;var g=(0,L.jsonEval)(f);this.onMessage(g)}},h.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},h.prototype.extractFrameCount_=function(d){if((0,L.assert)(null===this.frames,"We already have a frame buffer"),d.length<=6){var f=Number(d);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),d},h.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var f=d.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{var g=this.extractFrameCount_(f);null!==g&&this.appendFrame_(g)}}},h.prototype.send=function(d){this.resetKeepAlive();var f=(0,L.stringify)(d);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);var g=kt(f,16384);g.length>1&&this.sendString_(String(g.length));for(var _=0;_<g.length;_++)this.sendString_(g[_])},h.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},h.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},h.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},h.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},h.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h}(),dr=function(){function h(d){this.initTransports_(d)}return Object.defineProperty(h,"ALL_TRANSPORTS",{get:function(){return[Or,fl]},enumerable:!1,configurable:!0}),h.prototype.initTransports_=function(d){var f,g,_=fl&&fl.isAvailable(),S=_&&!fl.previouslyFailed();if(d.webSocketOnly&&(_||ie("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),S=!0),S)this.transports_=[fl];else{var M=this.transports_=[];try{for(var V=(0,fe.__values)(h.ALL_TRANSPORTS),U=V.next();!U.done;U=V.next()){var $=U.value;$&&$.isAvailable()&&M.push($)}}catch(K){f={error:K}}finally{try{U&&!U.done&&(g=V.return)&&g.call(V)}finally{if(f)throw f.error}}}},h.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},h.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},h}(),Rp=function(){function h(d,f,g,_,S,M,V,U,$,K){this.id=d,this.repoInfo_=f,this.applicationId_=g,this.appCheckToken_=_,this.authToken_=S,this.onMessage_=M,this.onReady_=V,this.onDisconnect_=U,this.onKill_=$,this.lastSessionId=K,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gn("c:"+this.id+":"),this.transportManager_=new dr(f),this.log_("Connection created"),this.start_()}return h.prototype.start_=function(){var d=this,f=this.transportManager_.initialTransport();this.conn_=new f(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=f.responsesRequiredToBeHealthy||0;var g=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(g,_)},Math.floor(0));var S=f.healthyTimeout||0;S>0&&(this.healthyTimeout_=Ni(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(S)))},h.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},h.prototype.disconnReceiver_=function(d){var f=this;return function(g){d===f.conn_?f.onConnectionLost_(g):d===f.secondaryConn_?(f.log_("Secondary connection lost."),f.onSecondaryConnectionLost_()):f.log_("closing an old connection")}},h.prototype.connReceiver_=function(d){var f=this;return function(g){2!==f.state_&&(d===f.rx_?f.onPrimaryMessageReceived_(g):d===f.secondaryConn_?f.onSecondaryMessageReceived_(g):f.log_("message on old connection"))}},h.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},h.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},h.prototype.onSecondaryControl_=function(d){if("t"in d){var f=d.t;"a"===f?this.upgradeIfSecondaryHealthy_():"r"===f?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===f&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},h.prototype.onSecondaryMessageReceived_=function(d){var f=Jt("t",d),g=Jt("d",d);if("c"===f)this.onSecondaryControl_(g);else{if("d"!==f)throw new Error("Unknown protocol layer: "+f);this.pendingDataMessages.push(g)}},h.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},h.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},h.prototype.onPrimaryMessageReceived_=function(d){var f=Jt("t",d),g=Jt("d",d);"c"===f?this.onControl_(g):"d"===f&&this.onDataMessage_(g)},h.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},h.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},h.prototype.onControl_=function(d){var f=Jt("t",d);if("d"in d){var g=d.d;if("h"===f)this.onHandshake_(g);else if("n"===f){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===f?this.onConnectionShutdown_(g):"r"===f?this.onReset_(g):"e"===f?ai("Server Error: "+g):"o"===f?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ai("Unknown control packet command: "+f)}},h.prototype.onHandshake_=function(d){var f=d.ts,g=d.v,_=d.h;this.sessionId=d.s,this.repoInfo_.host=_,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,f),"5"!==g&&ie("Protocol version mismatch detected"),this.tryStartUpgrade_())},h.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},h.prototype.startUpgrade_=function(d){var f=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var g=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,_),Ni(function(){f.secondaryConn_&&(f.log_("Timed out trying to upgrade."),f.secondaryConn_.close())},Math.floor(6e4))},h.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},h.prototype.onConnectionEstablished_=function(d,f){var g=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(f,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ni(function(){g.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},h.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},h.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},h.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Me.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},h.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},h.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},h.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},h.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},h}(),go=function(){function h(){}return h.prototype.put=function(d,f,g,_){},h.prototype.merge=function(d,f,g,_){},h.prototype.refreshAuthToken=function(d){},h.prototype.refreshAppCheckToken=function(d){},h.prototype.onDisconnectPut=function(d,f,g){},h.prototype.onDisconnectMerge=function(d,f,g){},h.prototype.onDisconnectCancel=function(d,f){},h.prototype.reportStats=function(d){},h}(),Ji=function(){function h(d){this.allowedEvents_=d,this.listeners_={},(0,L.assert)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return h.prototype.trigger=function(d){for(var f=[],g=1;g<arguments.length;g++)f[g-1]=arguments[g];if(Array.isArray(this.listeners_[d]))for(var _=(0,fe.__spreadArray)([],(0,fe.__read)(this.listeners_[d])),S=0;S<_.length;S++)_[S].callback.apply(_[S].context,f)},h.prototype.on=function(d,f,g){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:f,context:g});var _=this.getInitialEvent(d);_&&f.apply(g,_)},h.prototype.off=function(d,f,g){this.validateEventType_(d);for(var _=this.listeners_[d]||[],S=0;S<_.length;S++)if(_[S].callback===f&&(!g||g===_[S].context))return void _.splice(S,1)},h.prototype.validateEventType_=function(d){(0,L.assert)(this.allowedEvents_.find(function(f){return f===d}),"Unknown event: "+d)},h}(),kv=function(h){function d(){var f=h.call(this,["online"])||this;return f.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.isMobileCordova)()&&(window.addEventListener("online",function(){f.online_||(f.online_=!0,f.trigger("online",!0))},!1),window.addEventListener("offline",function(){f.online_&&(f.online_=!1,f.trigger("online",!1))},!1)),f}return(0,fe.__extends)(d,h),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(f){return(0,L.assert)("online"===f,"Unknown event type: "+f),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}(Ji),Kn=function(){function h(d,f){if(void 0===f){this.pieces_=d.split("/");for(var g=0,_=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[g]=this.pieces_[_],g++);this.pieces_.length=g,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=f}return h.prototype.toString=function(){for(var d="",f=this.pieceNum_;f<this.pieces_.length;f++)""!==this.pieces_[f]&&(d+="/"+this.pieces_[f]);return d||"/"},h}();function Vn(){return new Kn("")}function pn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function pl(h){return h.pieces_.length-h.pieceNum_}function mn(h){var d=h.pieceNum_;return d<h.pieces_.length&&d++,new Kn(h.pieces_,d)}function rr(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Zu(h,d){return void 0===d&&(d=0),h.pieces_.slice(h.pieceNum_+d)}function Rv(h){if(h.pieceNum_>=h.pieces_.length)return null;for(var d=[],f=h.pieceNum_;f<h.pieces_.length-1;f++)d.push(h.pieces_[f]);return new Kn(d,0)}function be(h,d){for(var f=[],g=h.pieceNum_;g<h.pieces_.length;g++)f.push(h.pieces_[g]);if(d instanceof Kn)for(g=d.pieceNum_;g<d.pieces_.length;g++)f.push(d.pieces_[g]);else{var _=d.split("/");for(g=0;g<_.length;g++)_[g].length>0&&f.push(_[g])}return new Kn(f,0)}function _n(h){return h.pieceNum_>=h.pieces_.length}function Dt(h,d){var f=pn(h),g=pn(d);if(null===f)return d;if(f===g)return Dt(mn(h),mn(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+h+")")}function Ch(h,d){for(var f=Zu(h,0),g=Zu(d,0),_=0;_<f.length&&_<g.length;_++){var S=Re(f[_],g[_]);if(0!==S)return S}return f.length===g.length?0:f.length<g.length?-1:1}function td(h,d){if(pl(h)!==pl(d))return!1;for(var f=h.pieceNum_,g=d.pieceNum_;f<=h.pieces_.length;f++,g++)if(h.pieces_[f]!==d.pieces_[g])return!1;return!0}function jo(h,d){var f=h.pieceNum_,g=d.pieceNum_;if(pl(h)>pl(d))return!1;for(;f<h.pieces_.length;){if(h.pieces_[f]!==d.pieces_[g])return!1;++f,++g}return!0}var Pp=function h(d,f){this.errorPrefix_=f,this.parts_=Zu(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var g=0;g<this.parts_.length;g++)this.byteLength_+=(0,L.stringLength)(this.parts_[g]);Ju(this)};function Ju(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ta(h))}function ta(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}var rd,eu,Pv=function(h){function d(){var g,_,f=h.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(_="visibilitychange",g="hidden"):void 0!==document.mozHidden?(_="mozvisibilitychange",g="mozHidden"):void 0!==document.msHidden?(_="msvisibilitychange",g="msHidden"):void 0!==document.webkitHidden&&(_="webkitvisibilitychange",g="webkitHidden")),f.visible_=!0,_&&document.addEventListener(_,function(){var S=!document[g];S!==f.visible_&&(f.visible_=S,f.trigger("visible",S))},!1),f}return(0,fe.__extends)(d,h),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(f){return(0,L.assert)("visible"===f,"Unknown event type: "+f),[this.visible_]},d}(Ji),Ot=1e3,gl=function(h){function d(f,g,_,S,M,V,U,$){var K=h.call(this)||this;if(K.repoInfo_=f,K.applicationId_=g,K.onDataUpdate_=_,K.onConnectStatus_=S,K.onServerInfoUpdate_=M,K.authTokenProvider_=V,K.appCheckTokenProvider_=U,K.authOverride_=$,K.id=d.nextPersistentConnectionId_++,K.log_=Gn("p:"+K.id+":"),K.interruptReasons_={},K.listens=new Map,K.outstandingPuts_=[],K.outstandingGets_=[],K.outstandingPutCount_=0,K.outstandingGetCount_=0,K.onDisconnectRequestQueue_=[],K.connected_=!1,K.reconnectDelay_=Ot,K.maxReconnectDelay_=3e5,K.securityDebugCallback_=null,K.lastSessionId=null,K.establishConnectionTimer_=null,K.visible_=!1,K.requestCBHash_={},K.requestNumber_=0,K.realtime_=null,K.authToken_=null,K.appCheckToken_=null,K.forceTokenRefresh_=!1,K.invalidAuthTokenCount_=0,K.invalidAppCheckTokenCount_=0,K.firstConnection_=!0,K.lastConnectionAttemptTime_=null,K.lastConnectionEstablishedTime_=null,$&&!(0,L.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pv.getInstance().on("visible",K.onVisible_,K),-1===f.host.indexOf("fblocal")&&kv.getInstance().on("online",K.onOnline_,K),K}return(0,fe.__extends)(d,h),d.prototype.sendRequest=function(f,g,_){var S=++this.requestNumber_,M={r:S,a:f,b:g};this.log_((0,L.stringify)(M)),(0,L.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),_&&(this.requestCBHash_[S]=_)},d.prototype.get=function(f){var g=this;this.initConnection_();var _=new L.Deferred,S={p:f._path.toString(),q:f._queryObject},M={action:"g",request:S,onComplete:function(U){var $=U.d;"ok"===U.s?(g.onDataUpdate_(S.p,$,!1,null),_.resolve($)):_.reject($)}};this.outstandingGets_.push(M),this.outstandingGetCount_++;var V=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var U=g.outstandingGets_[V];void 0===U||M!==U||(delete g.outstandingGets_[V],g.outstandingGetCount_--,0===g.outstandingGetCount_&&(g.outstandingGets_=[]),g.log_("get "+V+" timed out on connection"),_.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(V),_.promise},d.prototype.listen=function(f,g,_,S){this.initConnection_();var M=f._queryIdentifier,V=f._path.toString();this.log_("Listen called for "+V+" "+M),this.listens.has(V)||this.listens.set(V,new Map),(0,L.assert)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.assert)(!this.listens.get(V).has(M),"listen() called twice for same path/queryId.");var U={onComplete:S,hashFn:g,query:f,tag:_};this.listens.get(V).set(M,U),this.connected_&&this.sendListen_(U)},d.prototype.sendGet_=function(f){var g=this,_=this.outstandingGets_[f];this.sendRequest("g",_.request,function(S){delete g.outstandingGets_[f],g.outstandingGetCount_--,0===g.outstandingGetCount_&&(g.outstandingGets_=[]),_.onComplete&&_.onComplete(S)})},d.prototype.sendListen_=function(f){var g=this,_=f.query,S=_._path.toString(),M=_._queryIdentifier;this.log_("Listen on "+S+" for "+M);var V={p:S};f.tag&&(V.q=_._queryObject,V.t=f.tag),V.h=f.hashFn(),this.sendRequest("q",V,function($){var K=$.d,se=$.s;d.warnOnListenWarnings_(K,_),(g.listens.get(S)&&g.listens.get(S).get(M))===f&&(g.log_("listen response",$),"ok"!==se&&g.removeListen_(S,M),f.onComplete&&f.onComplete(se,K))})},d.warnOnListenWarnings_=function(f,g){if(f&&"object"==typeof f&&(0,L.contains)(f,"w")){var _=(0,L.safeGet)(f,"w");if(Array.isArray(_)&&~_.indexOf("no_index")){var S='".indexOn": "'+g._queryParams.getIndex().toString()+'"',M=g._path.toString();ie("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+S+" at "+M+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(f){this.authToken_=f,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(f)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(f){(f&&40===f.length||(0,L.isAdmin)(f))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(f){this.appCheckToken_=f,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var f=this;if(this.connected_&&this.authToken_){var g=this.authToken_,_=(0,L.isValidFormat)(g)?"auth":"gauth",S={cred:g};null===this.authOverride_?S.noauth=!0:"object"==typeof this.authOverride_&&(S.authvar=this.authOverride_),this.sendRequest(_,S,function(M){var V=M.s,U=M.d||"error";f.authToken_===g&&("ok"===V?f.invalidAuthTokenCount_=0:f.onAuthRevoked_(V,U))})}},d.prototype.tryAppCheck=function(){var f=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(g){var _=g.s,S=g.d||"error";"ok"===_?f.invalidAppCheckTokenCount_=0:f.onAppCheckRevoked_(_,S)})},d.prototype.unlisten=function(f,g){var _=f._path.toString(),S=f._queryIdentifier;this.log_("Unlisten called for "+_+" "+S),(0,L.assert)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_,S)&&this.connected_&&this.sendUnlisten_(_,S,f._queryObject,g)},d.prototype.sendUnlisten_=function(f,g,_,S){this.log_("Unlisten on "+f+" for "+g);var M={p:f};S&&(M.q=_,M.t=S),this.sendRequest("n",M)},d.prototype.onDisconnectPut=function(f,g,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",f,g,_):this.onDisconnectRequestQueue_.push({pathString:f,action:"o",data:g,onComplete:_})},d.prototype.onDisconnectMerge=function(f,g,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",f,g,_):this.onDisconnectRequestQueue_.push({pathString:f,action:"om",data:g,onComplete:_})},d.prototype.onDisconnectCancel=function(f,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",f,null,g):this.onDisconnectRequestQueue_.push({pathString:f,action:"oc",data:null,onComplete:g})},d.prototype.sendOnDisconnect_=function(f,g,_,S){var M={p:g,d:_};this.log_("onDisconnect "+f,M),this.sendRequest(f,M,function(V){S&&setTimeout(function(){S(V.s,V.d)},Math.floor(0))})},d.prototype.put=function(f,g,_,S){this.putInternal("p",f,g,_,S)},d.prototype.merge=function(f,g,_,S){this.putInternal("m",f,g,_,S)},d.prototype.putInternal=function(f,g,_,S,M){this.initConnection_();var V={p:g,d:_};void 0!==M&&(V.h=M),this.outstandingPuts_.push({action:f,request:V,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+g)},d.prototype.sendPut_=function(f){var g=this,_=this.outstandingPuts_[f].action,S=this.outstandingPuts_[f].request,M=this.outstandingPuts_[f].onComplete;this.outstandingPuts_[f].queued=this.connected_,this.sendRequest(_,S,function(V){g.log_(_+" response",V),delete g.outstandingPuts_[f],g.outstandingPutCount_--,0===g.outstandingPutCount_&&(g.outstandingPuts_=[]),M&&M(V.s,V.d)})},d.prototype.reportStats=function(f){var g=this;if(this.connected_){var _={c:f};this.log_("reportStats",_),this.sendRequest("s",_,function(S){"ok"!==S.s&&g.log_("reportStats","Error sending stats: "+S.d)})}},d.prototype.onDataMessage_=function(f){if("r"in f){this.log_("from server: "+(0,L.stringify)(f));var g=f.r,_=this.requestCBHash_[g];_&&(delete this.requestCBHash_[g],_(f.b))}else{if("error"in f)throw"A server-side error has occurred: "+f.error;"a"in f&&this.onDataPush_(f.a,f.b)}},d.prototype.onDataPush_=function(f,g){this.log_("handleServerMessage",f,g),"d"===f?this.onDataUpdate_(g.p,g.d,!1,g.t):"m"===f?this.onDataUpdate_(g.p,g.d,!0,g.t):"c"===f?this.onListenRevoked_(g.p,g.q):"ac"===f?this.onAuthRevoked_(g.s,g.d):"apc"===f?this.onAppCheckRevoked_(g.s,g.d):"sd"===f?this.onSecurityDebugPacket_(g):ai("Unrecognized action received from server: "+(0,L.stringify)(f)+"\nAre you using the latest client?")},d.prototype.onReady_=function(f,g){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(f),this.lastSessionId=g,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(f){var g=this;(0,L.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){g.establishConnectionTimer_=null,g.establishConnection_()},Math.floor(f))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(f){f&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)),this.visible_=f},d.prototype.onOnline_=function(f){f?(this.log_("Browser went online."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ot),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var g=(new Date).getTime()-this.lastConnectionAttemptTime_,_=Math.max(0,this.reconnectDelay_-g);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return(0,fe.__awaiter)(this,void 0,void 0,function(){var f,g,_,S,M,V,U,$,se,pe,Fe,Xe,Ht,yt=this;return(0,fe.__generator)(this,function(gn){switch(gn.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,f=this.onDataMessage_.bind(this),g=this.onReady_.bind(this),_=this.onRealtimeDisconnect_.bind(this),S=this.id+":"+d.nextConnectionId_++,M=this.lastSessionId,V=!1,U=null,this.realtime_={close:$=function(){U?U.close():(V=!0,_())},sendRequest:function(pi){(0,L.assert)(U,"sendRequest call when we're not connected not allowed."),U.sendRequest(pi)}},se=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,gn.label=1;case 1:return gn.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(se),this.appCheckTokenProvider_.getToken(se)])];case 2:return pe=fe.__read.apply(void 0,[gn.sent(),2]),Fe=pe[0],Xe=pe[1],V?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=Fe&&Fe.accessToken,this.appCheckToken_=Xe&&Xe.token,U=new Rp(S,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,f,g,_,function(pi){ie(pi+" ("+yt.repoInfo_.toString()+")"),yt.interrupt("server_kill")},M)),[3,4];case 3:return Ht=gn.sent(),this.log_("Failed to get token: "+Ht),V||(this.repoInfo_.nodeAdmin&&ie(Ht),$()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(f){ct("Interrupting connection for reason: "+f),this.interruptReasons_[f]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(f){ct("Resuming connection for reason: "+f),delete this.interruptReasons_[f],(0,L.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(f){var g=f-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:g})},d.prototype.cancelSentTransactions_=function(){for(var f=0;f<this.outstandingPuts_.length;f++){var g=this.outstandingPuts_[f];g&&"h"in g.request&&g.queued&&(g.onComplete&&g.onComplete("disconnect"),delete this.outstandingPuts_[f],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(f,g){var _;_=g?g.map(function(M){return Rr(M)}).join("$"):"default";var S=this.removeListen_(f,_);S&&S.onComplete&&S.onComplete("permission_denied")},d.prototype.removeListen_=function(f,g){var S,_=new Kn(f).toString();if(this.listens.has(_)){var M=this.listens.get(_);S=M.get(g),M.delete(g),0===M.size&&this.listens.delete(_)}else S=void 0;return S},d.prototype.onAuthRevoked_=function(f,g){ct("Auth token revoked: "+f+"/"+g),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===f||"permission_denied"===f)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(f,g){ct("App check token revoked: "+f+"/"+g),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===f||"permission_denied"===f)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(f){this.securityDebugCallback_?this.securityDebugCallback_(f):"msg"in f&&console.log("FIREBASE: "+f.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var f,g,_,S;this.tryAuth(),this.tryAppCheck();try{for(var M=(0,fe.__values)(this.listens.values()),V=M.next();!V.done;V=M.next()){var U=V.value;try{for(var $=(_=void 0,(0,fe.__values)(U.values())),K=$.next();!K.done;K=$.next())this.sendListen_(K.value)}catch(Xe){_={error:Xe}}finally{try{K&&!K.done&&(S=$.return)&&S.call($)}finally{if(_)throw _.error}}}}catch(Xe){f={error:Xe}}finally{try{V&&!V.done&&(g=M.return)&&g.call(M)}finally{if(f)throw f.error}}for(var pe=0;pe<this.outstandingPuts_.length;pe++)this.outstandingPuts_[pe]&&this.sendPut_(pe);for(;this.onDisconnectRequestQueue_.length;){var Fe=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Fe.action,Fe.pathString,Fe.data,Fe.onComplete)}for(pe=0;pe<this.outstandingGets_.length;pe++)this.outstandingGets_[pe]&&this.sendGet_(pe)},d.prototype.sendConnectStats_=function(){var f={},g="js";(0,L.isNodeSdk)()&&(g=this.repoInfo_.nodeAdmin?"admin_node":"node"),f["sdk."+g+"."+In.replace(/\./g,"-")]=1,(0,L.isMobileCordova)()?f["framework.cordova"]=1:(0,L.isReactNative)()&&(f["framework.reactnative"]=1),this.reportStats(f)},d.prototype.shouldReconnect_=function(){var f=kv.getInstance().currentlyOnline();return(0,L.isEmpty)(this.interruptReasons_)&&f},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(go),Dn=function(){function h(d,f){this.name=d,this.node=f}return h.Wrap=function(d,f){return new h(d,f)},h}(),eo=function(){function h(){}return h.prototype.getCompare=function(){return this.compare.bind(this)},h.prototype.indexedValueChanged=function(d,f){var g=new Dn(ve,d),_=new Dn(ve,f);return 0!==this.compare(g,_)},h.prototype.minPost=function(){return Dn.MIN},h}(),Np=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return rd},set:function(f){rd=f},enumerable:!1,configurable:!0}),d.prototype.compare=function(f,g){return Re(f.name,g.name)},d.prototype.isDefinedOn=function(f){throw(0,L.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(f,g){return!1},d.prototype.minPost=function(){return Dn.MIN},d.prototype.maxPost=function(){return new Dn(ke,rd)},d.prototype.makePost=function(f,g){return(0,L.assert)("string"==typeof f,"KeyIndex indexValue must always be a string."),new Dn(f,rd)},d.prototype.toString=function(){return".key"},d}(eo),xs=new Np,Sh=function(){function h(d,f,g,_,S){void 0===S&&(S=null),this.isReverse_=_,this.resultGenerator_=S,this.nodeStack_=[];for(var M=1;!d.isEmpty();)if(d=d,M=f?g(d.key,f):1,_&&(M*=-1),M<0)d=this.isReverse_?d.left:d.right;else{if(0===M){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return h.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var f,d=this.nodeStack_.pop();if(f=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return f},h.prototype.hasNext=function(){return this.nodeStack_.length>0},h.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},h}(),yn=function(){function h(d,f,g,_,S){this.key=d,this.value=f,this.color=null!=g?g:h.RED,this.left=null!=_?_:Aa.EMPTY_NODE,this.right=null!=S?S:Aa.EMPTY_NODE}return h.prototype.copy=function(d,f,g,_,S){return new h(null!=d?d:this.key,null!=f?f:this.value,null!=g?g:this.color,null!=_?_:this.left,null!=S?S:this.right)},h.prototype.count=function(){return this.left.count()+1+this.right.count()},h.prototype.isEmpty=function(){return!1},h.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},h.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},h.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},h.prototype.minKey=function(){return this.min_().key},h.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},h.prototype.insert=function(d,f,g){var _=this,S=g(d,_.key);return(_=S<0?_.copy(null,null,null,_.left.insert(d,f,g),null):0===S?_.copy(null,f,null,null,null):_.copy(null,null,null,null,_.right.insert(d,f,g))).fixUp_()},h.prototype.removeMin_=function(){if(this.left.isEmpty())return Aa.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},h.prototype.remove=function(d,f){var g,_;if(f(d,(g=this).key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(d,f),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===f(d,g.key)){if(g.right.isEmpty())return Aa.EMPTY_NODE;_=g.right.min_(),g=g.copy(_.key,_.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(d,f))}return g.fixUp_()},h.prototype.isRed_=function(){return this.color},h.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},h.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},h.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},h.prototype.rotateLeft_=function(){var d=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},h.prototype.rotateRight_=function(){var d=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},h.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,f)},h.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},h.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},h.RED=!0,h.BLACK=!1,h}(),g0=function(){function h(){}return h.prototype.copy=function(d,f,g,_,S){return this},h.prototype.insert=function(d,f,g){return new yn(d,f,null)},h.prototype.remove=function(d,f){return this},h.prototype.count=function(){return 0},h.prototype.isEmpty=function(){return!0},h.prototype.inorderTraversal=function(d){return!1},h.prototype.reverseTraversal=function(d){return!1},h.prototype.minKey=function(){return null},h.prototype.maxKey=function(){return null},h.prototype.check_=function(){return 0},h.prototype.isRed_=function(){return!1},h}(),Aa=function(){function h(d,f){void 0===f&&(f=h.EMPTY_NODE),this.comparator_=d,this.root_=f}return h.prototype.insert=function(d,f){return new h(this.comparator_,this.root_.insert(d,f,this.comparator_).copy(null,null,yn.BLACK,null,null))},h.prototype.remove=function(d){return new h(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,yn.BLACK,null,null))},h.prototype.get=function(d){for(var f,g=this.root_;!g.isEmpty();){if(0===(f=this.comparator_(d,g.key)))return g.value;f<0?g=g.left:f>0&&(g=g.right)}return null},h.prototype.getPredecessorKey=function(d){for(var f,g=this.root_,_=null;!g.isEmpty();){if(0===(f=this.comparator_(d,g.key))){if(g.left.isEmpty())return _?_.key:null;for(g=g.left;!g.right.isEmpty();)g=g.right;return g.key}f<0?g=g.left:f>0&&(_=g,g=g.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},h.prototype.isEmpty=function(){return this.root_.isEmpty()},h.prototype.count=function(){return this.root_.count()},h.prototype.minKey=function(){return this.root_.minKey()},h.prototype.maxKey=function(){return this.root_.maxKey()},h.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},h.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},h.prototype.getIterator=function(d){return new Sh(this.root_,null,this.comparator_,!1,d)},h.prototype.getIteratorFrom=function(d,f){return new Sh(this.root_,d,this.comparator_,!1,f)},h.prototype.getReverseIteratorFrom=function(d,f){return new Sh(this.root_,d,this.comparator_,!0,f)},h.prototype.getReverseIterator=function(d){return new Sh(this.root_,null,this.comparator_,!0,d)},h.EMPTY_NODE=new g0,h}();function Jl(h,d){return Re(h.name,d.name)}function Zn(h,d){return Re(h,d)}var ss,Fp,Ft,Le,to,ec=function(h){return"number"==typeof h?"number:"+Ie(h):"string:"+h},Dh=function(h){if(h.isLeafNode()){var d=h.val();(0,L.assert)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,L.contains)(d,".sv"),"Priority must be a string or number.")}else(0,L.assert)(h===eu||h.isEmpty(),"priority of unexpected type.");(0,L.assert)(h===eu||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Rs=function(){function h(d,f){void 0===f&&(f=h.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=f,this.lazyHash_=null,(0,L.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Dh(this.priorityNode_)}return Object.defineProperty(h,"__childrenNodeConstructor",{get:function(){return ss},set:function(d){ss=d},enumerable:!1,configurable:!0}),h.prototype.isLeafNode=function(){return!0},h.prototype.getPriority=function(){return this.priorityNode_},h.prototype.updatePriority=function(d){return new h(this.value_,d)},h.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE},h.prototype.getChild=function(d){return _n(d)?this:".priority"===pn(d)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE},h.prototype.hasChild=function(){return!1},h.prototype.getPredecessorChildName=function(d,f){return null},h.prototype.updateImmediateChild=function(d,f){return".priority"===d?this.updatePriority(f):f.isEmpty()&&".priority"!==d?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,f).updatePriority(this.priorityNode_)},h.prototype.updateChild=function(d,f){var g=pn(d);return null===g?f:f.isEmpty()&&".priority"!==g?this:((0,L.assert)(".priority"!==g||1===pl(d),".priority must be the last token in a path"),this.updateImmediateChild(g,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(mn(d),f)))},h.prototype.isEmpty=function(){return!1},h.prototype.numChildren=function(){return 0},h.prototype.forEachChild=function(d,f){return!1},h.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},h.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+ec(this.priorityNode_.val())+":");var f=typeof this.value_;d+=f+":",d+="number"===f?Ie(this.value_):this.value_,this.lazyHash_=Be(d)}return this.lazyHash_},h.prototype.getValue=function(){return this.value_},h.prototype.compareTo=function(d){return d===h.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof h.__childrenNodeConstructor?-1:((0,L.assert)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},h.prototype.compareToLeafNode_=function(d){var f=typeof d.value_,g=typeof this.value_,_=h.VALUE_TYPE_ORDER.indexOf(f),S=h.VALUE_TYPE_ORDER.indexOf(g);return(0,L.assert)(_>=0,"Unknown leaf type: "+f),(0,L.assert)(S>=0,"Unknown leaf type: "+g),_===S?"object"===g?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:S-_},h.prototype.withIndex=function(){return this},h.prototype.isIndexed=function(){return!0},h.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h}(),Vp=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),d.prototype.compare=function(f,g){var _=f.node.getPriority(),S=g.node.getPriority(),M=_.compareTo(S);return 0===M?Re(f.name,g.name):M},d.prototype.isDefinedOn=function(f){return!f.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(f,g){return!f.getPriority().equals(g.getPriority())},d.prototype.minPost=function(){return Dn.MIN},d.prototype.maxPost=function(){return new Dn(ke,new Rs("[PRIORITY-POST]",Ft))},d.prototype.makePost=function(f,g){var _=Fp(f);return new Dn(g,new Rs("[PRIORITY-POST]",_))},d.prototype.toString=function(){return".priority"},d}(eo),ur=new Vp,Cn=Math.log(2),Nv=function(){function h(d){this.count=parseInt(Math.log(d+1)/Cn,10),this.current_=this.count-1;var _=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&_}return h.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},h}(),tc=function(h,d,f,g){h.sort(d);var _=function(U,$){var se,pe,K=$-U;if(0===K)return null;if(1===K)return se=h[U],pe=f?f(se):se,new yn(pe,se.node,yn.BLACK,null,null);var Fe=parseInt(K/2,10)+U,Xe=_(U,Fe),Ht=_(Fe+1,$);return se=h[Fe],pe=f?f(se):se,new yn(pe,se.node,yn.BLACK,Xe,Ht)},V=function(U){for(var $=null,K=null,se=h.length,pe=function(gn,pi){var Ls=se-gn,ym=se;se-=gn;var y_=_(Ls+1,ym),vc=h[Ls],pD=f?f(vc):vc;Fe(new yn(pD,vc.node,pi,null,y_))},Fe=function(gn){$?($.left=gn,$=gn):(K=gn,$=gn)},Xe=0;Xe<U.count;++Xe){var Ht=U.nextBitIsOne(),yt=Math.pow(2,U.count-(Xe+1));Ht?pe(yt,yn.BLACK):(pe(yt,yn.BLACK),pe(yt,yn.RED))}return K}(new Nv(h.length));return new Aa(g||d,V)},qr={},$r=function(){function h(d,f){this.indexes_=d,this.indexSet_=f}return Object.defineProperty(h,"Default",{get:function(){return(0,L.assert)(qr&&ur,"ChildrenNode.ts has not been loaded"),Le=Le||new h({".priority":qr},{".priority":ur})},enumerable:!1,configurable:!0}),h.prototype.get=function(d){var f=(0,L.safeGet)(this.indexes_,d);if(!f)throw new Error("No index defined for "+d);return f instanceof Aa?f:null},h.prototype.hasIndex=function(d){return(0,L.contains)(this.indexSet_,d.toString())},h.prototype.addIndex=function(d,f){(0,L.assert)(d!==xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var g=[],_=!1,S=f.getIterator(Dn.Wrap),M=S.getNext();M;)_=_||d.isDefinedOn(M.node),g.push(M),M=S.getNext();var V;V=_?tc(g,d.getCompare()):qr;var U=d.toString(),$=(0,fe.__assign)({},this.indexSet_);$[U]=d;var K=(0,fe.__assign)({},this.indexes_);return K[U]=V,new h(K,$)},h.prototype.addToIndexes=function(d,f){var g=this;return new h((0,L.map)(this.indexes_,function(S,M){var V=(0,L.safeGet)(g.indexSet_,M);if((0,L.assert)(V,"Missing index implementation for "+M),S===qr){if(V.isDefinedOn(d.node)){for(var U=[],$=f.getIterator(Dn.Wrap),K=$.getNext();K;)K.name!==d.name&&U.push(K),K=$.getNext();return U.push(d),tc(U,V.getCompare())}return qr}var se=f.get(d.name),pe=S;return se&&(pe=pe.remove(new Dn(d.name,se))),pe.insert(d,d.node)}),this.indexSet_)},h.prototype.removeFromIndexes=function(d,f){return new h((0,L.map)(this.indexes_,function(_){if(_===qr)return _;var S=f.get(d.name);return S?_.remove(new Dn(d.name,S)):_}),this.indexSet_)},h}(),Mt=function(){function h(d,f,g){this.children_=d,this.priorityNode_=f,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Dh(this.priorityNode_),this.children_.isEmpty()&&(0,L.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(h,"EMPTY_NODE",{get:function(){return to||(to=new h(new Aa(Zn),null,$r.Default))},enumerable:!1,configurable:!0}),h.prototype.isLeafNode=function(){return!1},h.prototype.getPriority=function(){return this.priorityNode_||to},h.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new h(this.children_,d,this.indexMap_)},h.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var f=this.children_.get(d);return null===f?to:f},h.prototype.getChild=function(d){var f=pn(d);return null===f?this:this.getImmediateChild(f).getChild(mn(d))},h.prototype.hasChild=function(d){return null!==this.children_.get(d)},h.prototype.updateImmediateChild=function(d,f){if((0,L.assert)(f,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(f);var g=new Dn(d,f),_=void 0,S=void 0;f.isEmpty()?(_=this.children_.remove(d),S=this.indexMap_.removeFromIndexes(g,this.children_)):(_=this.children_.insert(d,f),S=this.indexMap_.addToIndexes(g,this.children_));var M=_.isEmpty()?to:this.priorityNode_;return new h(_,M,S)},h.prototype.updateChild=function(d,f){var g=pn(d);if(null===g)return f;(0,L.assert)(".priority"!==pn(d)||1===pl(d),".priority must be the last token in a path");var _=this.getImmediateChild(g).updateChild(mn(d),f);return this.updateImmediateChild(g,_)},h.prototype.isEmpty=function(){return this.children_.isEmpty()},h.prototype.numChildren=function(){return this.children_.count()},h.prototype.val=function(d){if(this.isEmpty())return null;var f={},g=0,_=0,S=!0;if(this.forEachChild(ur,function(U,$){f[U]=$.val(d),g++,S&&h.INTEGER_REGEXP_.test(U)?_=Math.max(_,Number(U)):S=!1}),!d&&S&&_<2*g){var M=[];for(var V in f)M[V]=f[V];return M}return d&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f},h.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+ec(this.getPriority().val())+":"),this.forEachChild(ur,function(f,g){var _=g.hash();""!==_&&(d+=":"+f+":"+_)}),this.lazyHash_=""===d?"":Be(d)}return this.lazyHash_},h.prototype.getPredecessorChildName=function(d,f,g){var _=this.resolveIndex_(g);if(_){var S=_.getPredecessorKey(new Dn(d,f));return S?S.name:null}return this.children_.getPredecessorKey(d)},h.prototype.getFirstChildName=function(d){var f=this.resolveIndex_(d);if(f){var g=f.minKey();return g&&g.name}return this.children_.minKey()},h.prototype.getFirstChild=function(d){var f=this.getFirstChildName(d);return f?new Dn(f,this.children_.get(f)):null},h.prototype.getLastChildName=function(d){var f=this.resolveIndex_(d);if(f){var g=f.maxKey();return g&&g.name}return this.children_.maxKey()},h.prototype.getLastChild=function(d){var f=this.getLastChildName(d);return f?new Dn(f,this.children_.get(f)):null},h.prototype.forEachChild=function(d,f){var g=this.resolveIndex_(d);return g?g.inorderTraversal(function(_){return f(_.name,_.node)}):this.children_.inorderTraversal(f)},h.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},h.prototype.getIteratorFrom=function(d,f){var g=this.resolveIndex_(f);if(g)return g.getIteratorFrom(d,function(M){return M});for(var _=this.children_.getIteratorFrom(d.name,Dn.Wrap),S=_.peek();null!=S&&f.compare(S,d)<0;)_.getNext(),S=_.peek();return _},h.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},h.prototype.getReverseIteratorFrom=function(d,f){var g=this.resolveIndex_(f);if(g)return g.getReverseIteratorFrom(d,function(M){return M});for(var _=this.children_.getReverseIteratorFrom(d.name,Dn.Wrap),S=_.peek();null!=S&&f.compare(S,d)>0;)_.getNext(),S=_.peek();return _},h.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===Ia?-1:0},h.prototype.withIndex=function(d){if(d===xs||this.indexMap_.hasIndex(d))return this;var f=this.indexMap_.addIndex(d,this.children_);return new h(this.children_,this.priorityNode_,f)},h.prototype.isIndexed=function(d){return d===xs||this.indexMap_.hasIndex(d)},h.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var f=d;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){for(var g=this.getIterator(ur),_=f.getIterator(ur),S=g.getNext(),M=_.getNext();S&&M;){if(S.name!==M.name||!S.node.equals(M.node))return!1;S=g.getNext(),M=_.getNext()}return null===S&&null===M}return!1}return!1},h.prototype.resolveIndex_=function(d){return d===xs?null:this.indexMap_.get(d.toString())},h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h}(),vo=function(h){function d(){return h.call(this,new Aa(Zn),Mt.EMPTY_NODE,$r.Default)||this}return(0,fe.__extends)(d,h),d.prototype.compareTo=function(f){return f===this?0:1},d.prototype.equals=function(f){return f===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(f){return Mt.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(Mt),Ia=new vo;function $n(h,d){if(void 0===d&&(d=null),null===h)return Mt.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(d=h[".priority"]),(0,L.assert)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Rs(h,$n(d));if(h instanceof Array){var U=Mt.EMPTY_NODE;return en(h,function($,K){if((0,L.contains)(h,$)&&"."!==$.substring(0,1)){var se=$n(K);(se.isLeafNode()||!se.isEmpty())&&(U=U.updateImmediateChild($,se))}}),U.updatePriority($n(d))}var g=[],_=!1;if(en(h,function($,K){if("."!==$.substring(0,1)){var se=$n(K);se.isEmpty()||(_=_||!se.getPriority().isEmpty(),g.push(new Dn($,se)))}}),0===g.length)return Mt.EMPTY_NODE;var M=tc(g,Jl,function($){return $.name},Zn);if(_){var V=tc(g,ur.getCompare());return new Mt(M,$n(d),new $r({".priority":V},{".priority":ur}))}return new Mt(M,$n(d),$r.Default)}Object.defineProperties(Dn,{MIN:{value:new Dn(ve,Mt.EMPTY_NODE)},MAX:{value:new Dn(ke,Ia)}}),Np.__EMPTY_NODE=Mt.EMPTY_NODE,Rs.__childrenNodeConstructor=Mt,function Th(h){eu=h}(Ia),function Lp(h){Ft=h}(Ia),function tu(h){Fp=h}($n);var nu=function(h){function d(f){var g=h.call(this)||this;return g.indexPath_=f,(0,L.assert)(!_n(f)&&".priority"!==pn(f),"Can't create PathIndex with empty path or .priority key"),g}return(0,fe.__extends)(d,h),d.prototype.extractChild=function(f){return f.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(f){return!f.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(f,g){var _=this.extractChild(f.node),S=this.extractChild(g.node),M=_.compareTo(S);return 0===M?Re(f.name,g.name):M},d.prototype.makePost=function(f,g){var _=$n(f),S=Mt.EMPTY_NODE.updateChild(this.indexPath_,_);return new Dn(g,S)},d.prototype.maxPost=function(){var f=Mt.EMPTY_NODE.updateChild(this.indexPath_,Ia);return new Dn(ke,f)},d.prototype.toString=function(){return Zu(this.indexPath_,0).join("/")},d}(eo),ka=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),d.prototype.compare=function(f,g){var _=f.node.compareTo(g.node);return 0===_?Re(f.name,g.name):_},d.prototype.isDefinedOn=function(f){return!0},d.prototype.indexedValueChanged=function(f,g){return!f.equals(g)},d.prototype.minPost=function(){return Dn.MIN},d.prototype.maxPost=function(){return Dn.MAX},d.prototype.makePost=function(f,g){var _=$n(f);return new Dn(g,_)},d.prototype.toString=function(){return".value"},d}(eo),Jr=new ka,ru="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mr=function(){var h=0,d=[];return function(f){var g=f===h;h=f;var _,S=new Array(8);for(_=7;_>=0;_--)S[_]=ru.charAt(f%64),f=Math.floor(f/64);(0,L.assert)(0===f,"Cannot push at time == 0");var M=S.join("");if(g){for(_=11;_>=0&&63===d[_];_--)d[_]=0;d[_]++}else for(_=0;_<12;_++)d[_]=Math.floor(64*Math.random());for(_=0;_<12;_++)M+=ru.charAt(d[_]);return(0,L.assert)(20===M.length,"nextPushId: Length should be 20."),M}}(),no=function(h){if(h===""+ye)return"-";var d=k(h);if(null!=d)return""+(d+1);for(var f=new Array(h.length),g=0;g<f.length;g++)f[g]=h.charAt(g);if(f.length<786)return f.push("-"),f.join("");for(var _=f.length-1;_>=0&&"z"===f[_];)_--;if(-1===_)return ke;var M=ru.charAt(ru.indexOf(f[_])+1);return f[_]=M,f.slice(0,_+1).join("")},Ma=function(h){if(h===""+zr)return ve;var d=k(h);if(null!=d)return""+(d-1);for(var f=new Array(h.length),g=0;g<f.length;g++)f[g]=h.charAt(g);return"-"===f[f.length-1]?1===f.length?""+ye:(delete f[f.length-1],f.join("")):(f[f.length-1]=ru.charAt(ru.indexOf(f[f.length-1])-1),f.join("")+"z".repeat(786-f.length))};function Wr(h){return{type:"value",snapshotNode:h}}function Ho(h,d){return{type:"child_added",snapshotNode:d,childName:h}}function gr(h,d){return{type:"child_removed",snapshotNode:d,childName:h}}function ra(h,d,f){return{type:"child_changed",snapshotNode:d,childName:h,oldSnap:f}}var Qt=function(){function h(d){this.index_=d}return h.prototype.updateChild=function(d,f,g,_,S,M){(0,L.assert)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var V=d.getImmediateChild(f);return V.getChild(_).equals(g.getChild(_))&&V.isEmpty()===g.isEmpty()||(null!=M&&(g.isEmpty()?d.hasChild(f)?M.trackChildChange(gr(f,V)):(0,L.assert)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):V.isEmpty()?M.trackChildChange(Ho(f,g)):M.trackChildChange(ra(f,g,V))),d.isLeafNode()&&g.isEmpty())?d:d.updateImmediateChild(f,g).withIndex(this.index_)},h.prototype.updateFullNode=function(d,f,g){return null!=g&&(d.isLeafNode()||d.forEachChild(ur,function(_,S){f.hasChild(_)||g.trackChildChange(gr(_,S))}),f.isLeafNode()||f.forEachChild(ur,function(_,S){if(d.hasChild(_)){var M=d.getImmediateChild(_);M.equals(S)||g.trackChildChange(ra(_,S,M))}else g.trackChildChange(Ho(_,S))})),f.withIndex(this.index_)},h.prototype.updatePriority=function(d,f){return d.isEmpty()?Mt.EMPTY_NODE:d.updatePriority(f)},h.prototype.filtersNodes=function(){return!1},h.prototype.getIndexedFilter=function(){return this},h.prototype.getIndex=function(){return this.index_},h}(),xa=function(){function h(d){this.indexedFilter_=new Qt(d.getIndex()),this.index_=d.getIndex(),this.startPost_=h.getStartPost_(d),this.endPost_=h.getEndPost_(d)}return h.prototype.getStartPost=function(){return this.startPost_},h.prototype.getEndPost=function(){return this.endPost_},h.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},h.prototype.updateChild=function(d,f,g,_,S,M){return this.matches(new Dn(f,g))||(g=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(d,f,g,_,S,M)},h.prototype.updateFullNode=function(d,f,g){f.isLeafNode()&&(f=Mt.EMPTY_NODE);var _=f.withIndex(this.index_);_=_.updatePriority(Mt.EMPTY_NODE);var S=this;return f.forEachChild(ur,function(M,V){S.matches(new Dn(M,V))||(_=_.updateImmediateChild(M,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,_,g)},h.prototype.updatePriority=function(d,f){return d},h.prototype.filtersNodes=function(){return!0},h.prototype.getIndexedFilter=function(){return this.indexedFilter_},h.prototype.getIndex=function(){return this.index_},h.getStartPost_=function(d){if(d.hasStart()){var f=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),f)}return d.getIndex().minPost()},h.getEndPost_=function(d){if(d.hasEnd()){var f=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),f)}return d.getIndex().maxPost()},h}(),iu=function(){function h(d){this.rangedFilter_=new xa(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return h.prototype.updateChild=function(d,f,g,_,S,M){return this.rangedFilter_.matches(new Dn(f,g))||(g=Mt.EMPTY_NODE),d.getImmediateChild(f).equals(g)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,f,g,_,S,M):this.fullLimitUpdateChild_(d,f,g,S,M)},h.prototype.updateFullNode=function(d,f,g){var _;if(f.isLeafNode()||f.isEmpty())_=Mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<f.numChildren()&&f.isIndexed(this.index_)){_=Mt.EMPTY_NODE.withIndex(this.index_);var S=void 0;S=this.reverse_?f.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var M=0;S.hasNext()&&M<this.limit_;){var V=S.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),V)<=0:this.index_.compare(V,this.rangedFilter_.getEndPost())<=0))break;_=_.updateImmediateChild(V.name,V.node),M++}}else{_=(_=f.withIndex(this.index_)).updatePriority(Mt.EMPTY_NODE);var $=void 0,K=void 0,se=void 0;if(S=void 0,this.reverse_){S=_.getReverseIterator(this.index_),$=this.rangedFilter_.getEndPost(),K=this.rangedFilter_.getStartPost();var pe=this.index_.getCompare();se=function(yt,gn){return pe(gn,yt)}}else S=_.getIterator(this.index_),$=this.rangedFilter_.getStartPost(),K=this.rangedFilter_.getEndPost(),se=this.index_.getCompare();M=0;for(var Fe=!1;S.hasNext();)V=S.getNext(),!Fe&&se($,V)<=0&&(Fe=!0),Fe&&M<this.limit_&&se(V,K)<=0?M++:_=_.updateImmediateChild(V.name,Mt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,_,g)},h.prototype.updatePriority=function(d,f){return d},h.prototype.filtersNodes=function(){return!0},h.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},h.prototype.getIndex=function(){return this.index_},h.prototype.fullLimitUpdateChild_=function(d,f,g,_,S){var M;if(this.reverse_){var V=this.index_.getCompare();M=function(pi,Ls){return V(Ls,pi)}}else M=this.index_.getCompare();var U=d;(0,L.assert)(U.numChildren()===this.limit_,"");var $=new Dn(f,g),K=this.reverse_?U.getFirstChild(this.index_):U.getLastChild(this.index_),se=this.rangedFilter_.matches($);if(U.hasChild(f)){for(var pe=U.getImmediateChild(f),Fe=_.getChildAfterChild(this.index_,K,this.reverse_);null!=Fe&&(Fe.name===f||U.hasChild(Fe.name));)Fe=_.getChildAfterChild(this.index_,Fe,this.reverse_);var Xe=null==Fe?1:M(Fe,$);if(se&&!g.isEmpty()&&Xe>=0)return null!=S&&S.trackChildChange(ra(f,g,pe)),U.updateImmediateChild(f,g);null!=S&&S.trackChildChange(gr(f,pe));var yt=U.updateImmediateChild(f,Mt.EMPTY_NODE);return null!=Fe&&this.rangedFilter_.matches(Fe)?(null!=S&&S.trackChildChange(Ho(Fe.name,Fe.node)),yt.updateImmediateChild(Fe.name,Fe.node)):yt}return g.isEmpty()?d:se&&M(K,$)>=0?(null!=S&&(S.trackChildChange(gr(K.name,K.node)),S.trackChildChange(Ho(f,g))),U.updateImmediateChild(f,g).updateImmediateChild(K.name,Mt.EMPTY_NODE)):d},h}(),id=function(){function h(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ur}return h.prototype.hasStart=function(){return this.startSet_},h.prototype.hasStartAfter=function(){return this.startAfterSet_},h.prototype.hasEndBefore=function(){return this.endBeforeSet_},h.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},h.prototype.getIndexStartValue=function(){return(0,L.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},h.prototype.getIndexStartName=function(){return(0,L.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ve},h.prototype.hasEnd=function(){return this.endSet_},h.prototype.getIndexEndValue=function(){return(0,L.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},h.prototype.getIndexEndName=function(){return(0,L.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ke},h.prototype.hasLimit=function(){return this.limitSet_},h.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},h.prototype.getLimit=function(){return(0,L.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},h.prototype.getIndex=function(){return this.index_},h.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},h.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ur},h.prototype.copy=function(){var d=new h;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},h}();function Ra(h,d,f){var g=h.copy();return g.startSet_=!0,void 0===d&&(d=null),g.indexStartValue_=d,null!=f?(g.startNameSet_=!0,g.indexStartName_=f):(g.startNameSet_=!1,g.indexStartName_=""),g}function Jn(h,d,f){var g=h.copy();return g.endSet_=!0,void 0===d&&(d=null),g.indexEndValue_=d,void 0!==f?(g.endNameSet_=!0,g.indexEndName_=f):(g.endNameSet_=!1,g.indexEndName_=""),g}function rc(h,d){var f=h.copy();return f.index_=d,f}function ls(h){var f,d={};return h.isDefault()||(h.index_===ur?f="$priority":h.index_===Jr?f="$value":h.index_===xs?f="$key":((0,L.assert)(h.index_ instanceof nu,"Unrecognized index type!"),f=h.index_.toString()),d.orderBy=(0,L.stringify)(f),h.startSet_&&(d.startAt=(0,L.stringify)(h.indexStartValue_),h.startNameSet_&&(d.startAt+=","+(0,L.stringify)(h.indexStartName_))),h.endSet_&&(d.endAt=(0,L.stringify)(h.indexEndValue_),h.endNameSet_&&(d.endAt+=","+(0,L.stringify)(h.indexEndName_))),h.limitSet_&&(h.isViewFromLeft()?d.limitToFirst=h.limit_:d.limitToLast=h.limit_)),d}function zo(h){var d={};if(h.startSet_&&(d.sp=h.indexStartValue_,h.startNameSet_&&(d.sn=h.indexStartName_)),h.endSet_&&(d.ep=h.indexEndValue_,h.endNameSet_&&(d.en=h.indexEndName_)),h.limitSet_){d.l=h.limit_;var f=h.viewFrom_;""===f&&(f=h.isViewFromLeft()?"l":"r"),d.vf=f}return h.index_!==ur&&(d.i=h.index_.toString()),d}var Ih=function(h){function d(f,g,_,S){var M=h.call(this)||this;return M.repoInfo_=f,M.onDataUpdate_=g,M.authTokenProvider_=_,M.appCheckTokenProvider_=S,M.log_=Gn("p:rest:"),M.listens_={},M}return(0,fe.__extends)(d,h),d.prototype.reportStats=function(f){throw new Error("Method not implemented.")},d.getListenId_=function(f,g){return void 0!==g?"tag$"+g:((0,L.assert)(f._queryParams.isDefault(),"should have a tag if it's not a default query."),f._path.toString())},d.prototype.listen=function(f,g,_,S){var M=this,V=f._path.toString();this.log_("Listen called for "+V+" "+f._queryIdentifier);var U=d.getListenId_(f,_),$={};this.listens_[U]=$;var K=ls(f._queryParams);this.restRequest_(V+".json",K,function(se,pe){var Fe=pe;404===se&&(Fe=null,se=null),null===se&&M.onDataUpdate_(V,Fe,!1,_),(0,L.safeGet)(M.listens_,U)===$&&S(se?401===se?"permission_denied":"rest_error:"+se:"ok",null)})},d.prototype.unlisten=function(f,g){var _=d.getListenId_(f,g);delete this.listens_[_]},d.prototype.get=function(f){var g=this,_=ls(f._queryParams),S=f._path.toString(),M=new L.Deferred;return this.restRequest_(S+".json",_,function(V,U){var $=U;404===V&&($=null,V=null),null===V?(g.onDataUpdate_(S,$,!1,null),M.resolve($)):M.reject(new Error($))}),M.promise},d.prototype.refreshAuthToken=function(f){},d.prototype.restRequest_=function(f,g,_){var S=this;return void 0===g&&(g={}),g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(M){var V=(0,fe.__read)(M,2),U=V[0],$=V[1];U&&U.accessToken&&(g.auth=U.accessToken),$&&$.token&&(g.ac=$.token);var K=(S.repoInfo_.secure?"https://":"http://")+S.repoInfo_.host+f+"?ns="+S.repoInfo_.namespace+(0,L.querystring)(g);S.log_("Sending REST request for "+K);var se=new XMLHttpRequest;se.onreadystatechange=function(){if(_&&4===se.readyState){S.log_("REST Response for "+K+" received. status:",se.status,"response:",se.responseText);var pe=null;if(se.status>=200&&se.status<300){try{pe=(0,L.jsonEval)(se.responseText)}catch(Fe){ie("Failed to parse JSON response for "+K+": "+se.responseText)}_(null,pe)}else 401!==se.status&&404!==se.status&&ie("Got unsuccessful REST response for "+K+" Status: "+se.status),_(se.status);_=null}},se.open("GET",K,!0),se.send()})},d}(go),od=function(){function h(){this.rootNode_=Mt.EMPTY_NODE}return h.prototype.getNode=function(d){return this.rootNode_.getChild(d)},h.prototype.updateSnapshot=function(d,f){this.rootNode_=this.rootNode_.updateChild(d,f)},h}();function _l(){return{value:null,children:new Map}}function Ci(h,d,f){if(_n(d))h.value=f,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(d,f);else{var g=pn(d);h.children.has(g)||h.children.set(g,_l()),Ci(h.children.get(g),d=mn(d),f)}}function kh(h,d){if(_n(d))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;var f=h.value;return h.value=null,f.forEachChild(ur,function(S,M){Ci(h,new Kn(S),M)}),kh(h,d)}if(h.children.size>0){var g=pn(d);return d=mn(d),h.children.has(g)&&kh(h.children.get(g),d)&&h.children.delete(g),0===h.children.size}return!0}function Up(h,d,f){null!==h.value?f(d,h.value):function Fv(h,d){h.children.forEach(function(f,g){d(g,f)})}(h,function(g,_){Up(_,new Kn(d.toString()+"/"+g),f)})}var jp=function(){function h(d){this.collection_=d,this.last_=null}return h.prototype.get=function(){var d=this.collection_.get(),f=(0,fe.__assign)({},d);return this.last_&&en(this.last_,function(g,_){f[g]=f[g]-_}),this.last_=d,f},h}(),Bv=function(){function h(d,f){this.server_=f,this.statsToReport_={},this.statsListener_=new jp(d);var g=1e4+2e4*Math.random();Ni(this.reportStats_.bind(this),Math.floor(g))}return h.prototype.reportStats_=function(){var d=this,f=this.statsListener_.get(),g={},_=!1;en(f,function(S,M){M>0&&(0,L.contains)(d.statsToReport_,S)&&(g[S]=M,_=!0)}),_&&this.server_.reportStats(g),Ni(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},h}(),us=(()=>(function(h){h[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(us||(us={})),us))();function qp(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}var $p=function(){function h(d,f,g){this.path=d,this.affectedTree=f,this.revert=g,this.type=us.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return h.prototype.operationForChild=function(d){if(_n(this.path)){if(null!=this.affectedTree.value)return(0,L.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var f=this.affectedTree.subtree(new Kn(d));return new h(Vn(),f,this.revert)}return(0,L.assert)(pn(this.path)===d,"operationForChild called for unrelated child."),new h(mn(this.path),this.affectedTree,this.revert)},h}(),Wp=function(){function h(d,f){this.source=d,this.path=f,this.type=us.LISTEN_COMPLETE}return h.prototype.operationForChild=function(d){return _n(this.path)?new h(this.source,Vn()):new h(this.source,mn(this.path))},h}(),sd=function(){function h(d,f,g){this.source=d,this.path=f,this.snap=g,this.type=us.OVERWRITE}return h.prototype.operationForChild=function(d){return _n(this.path)?new h(this.source,Vn(),this.snap.getImmediateChild(d)):new h(this.source,mn(this.path),this.snap)},h}(),ad=function(){function h(d,f,g){this.source=d,this.path=f,this.children=g,this.type=us.MERGE}return h.prototype.operationForChild=function(d){if(_n(this.path)){var f=this.children.subtree(new Kn(d));return f.isEmpty()?null:f.value?new sd(this.source,Vn(),f.value):new h(this.source,Vn(),f)}return(0,L.assert)(pn(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new h(this.source,mn(this.path),this.children)},h.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h}(),yl=function(){function h(d,f,g){this.node_=d,this.fullyInitialized_=f,this.filtered_=g}return h.prototype.isFullyInitialized=function(){return this.fullyInitialized_},h.prototype.isFiltered=function(){return this.filtered_},h.prototype.isCompleteForPath=function(d){if(_n(d))return this.isFullyInitialized()&&!this.filtered_;var f=pn(d);return this.isCompleteForChild(f)},h.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},h.prototype.getNode=function(){return this.node_},h}(),Gp=function h(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function bl(h,d,f,g,_,S){var M=g.filter(function(V){return V.type===f});M.sort(function(V,U){return function y0(h,d,f){if(null==d.childName||null==f.childName)throw(0,L.assertionError)("Should only compare child_ events.");var g=new Dn(d.childName,d.snapshotNode),_=new Dn(f.childName,f.snapshotNode);return h.index_.compare(g,_)}(h,V,U)}),M.forEach(function(V){var U=function _0(h,d,f){return"value"===d.type||"child_removed"===d.type||(d.prevName=f.getPredecessorChildName(d.childName,d.snapshotNode,h.index_)),d}(h,V,S);_.forEach(function($){$.respondsTo(V.type)&&d.push($.createEvent(U,h.query_))})})}function Ps(h,d){return{eventCache:h,serverCache:d}}function ic(h,d,f,g){return Ps(new yl(d,f,g),h.serverCache)}function Nr(h,d,f,g){return Ps(h.eventCache,new yl(d,f,g))}function oc(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function wl(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}var Rh,Bi=function(){function h(d,f){void 0===f&&(Rh||(Rh=new Aa(Ye)),f=Rh),this.value=d,this.children=f}return h.fromObject=function(d){var f=new h(null);return en(d,function(g,_){f=f.set(new Kn(g),_)}),f},h.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},h.prototype.findRootMostMatchingPathAndValue=function(d,f){if(null!=this.value&&f(this.value))return{path:Vn(),value:this.value};if(_n(d))return null;var g=pn(d),_=this.children.get(g);if(null!==_){var S=_.findRootMostMatchingPathAndValue(mn(d),f);return null!=S?{path:be(new Kn(g),S.path),value:S.value}:null}return null},h.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},h.prototype.subtree=function(d){if(_n(d))return this;var f=pn(d),g=this.children.get(f);return null!==g?g.subtree(mn(d)):new h(null)},h.prototype.set=function(d,f){if(_n(d))return new h(f,this.children);var g=pn(d),S=(this.children.get(g)||new h(null)).set(mn(d),f),M=this.children.insert(g,S);return new h(this.value,M)},h.prototype.remove=function(d){if(_n(d))return this.children.isEmpty()?new h(null):new h(null,this.children);var f=pn(d),g=this.children.get(f);if(g){var _=g.remove(mn(d)),S=void 0;return S=_.isEmpty()?this.children.remove(f):this.children.insert(f,_),null===this.value&&S.isEmpty()?new h(null):new h(this.value,S)}return this},h.prototype.get=function(d){if(_n(d))return this.value;var f=pn(d),g=this.children.get(f);return g?g.get(mn(d)):null},h.prototype.setTree=function(d,f){if(_n(d))return f;var M,g=pn(d),S=(this.children.get(g)||new h(null)).setTree(mn(d),f);return M=S.isEmpty()?this.children.remove(g):this.children.insert(g,S),new h(this.value,M)},h.prototype.fold=function(d){return this.fold_(Vn(),d)},h.prototype.fold_=function(d,f){var g={};return this.children.inorderTraversal(function(_,S){g[_]=S.fold_(be(d,_),f)}),f(d,this.value,g)},h.prototype.findOnPath=function(d,f){return this.findOnPath_(d,Vn(),f)},h.prototype.findOnPath_=function(d,f,g){var _=!!this.value&&g(f,this.value);if(_)return _;if(_n(d))return null;var S=pn(d),M=this.children.get(S);return M?M.findOnPath_(mn(d),be(f,S),g):null},h.prototype.foreachOnPath=function(d,f){return this.foreachOnPath_(d,Vn(),f)},h.prototype.foreachOnPath_=function(d,f,g){if(_n(d))return this;this.value&&g(f,this.value);var _=pn(d),S=this.children.get(_);return S?S.foreachOnPath_(mn(d),be(f,_),g):new h(null)},h.prototype.foreach=function(d){this.foreach_(Vn(),d)},h.prototype.foreach_=function(d,f){this.children.inorderTraversal(function(g,_){_.foreach_(be(d,g),f)}),this.value&&f(d,this.value)},h.prototype.foreachChild=function(d){this.children.inorderTraversal(function(f,g){g.value&&d(f,g.value)})},h}(),Os=function(){function h(d){this.writeTree_=d}return h.empty=function(){return new h(new Bi(null))},h}();function Cl(h,d,f){if(_n(d))return new Os(new Bi(f));var g=h.writeTree_.findRootMostValueAndPath(d);if(null!=g){var _=g.path,S=g.value,M=Dt(_,d);return S=S.updateChild(M,f),new Os(h.writeTree_.set(_,S))}var V=new Bi(f),U=h.writeTree_.setTree(d,V);return new Os(U)}function Ph(h,d,f){var g=h;return en(f,function(_,S){g=Cl(g,be(d,_),S)}),g}function _o(h,d){if(_n(d))return Os.empty();var f=h.writeTree_.setTree(d,new Bi(null));return new Os(f)}function su(h,d){return null!=ia(h,d)}function ia(h,d){var f=h.writeTree_.findRootMostValueAndPath(d);return null!=f?h.writeTree_.get(f.path).getChild(Dt(f.path,d)):null}function ld(h){var d=[],f=h.writeTree_.value;return null!=f?f.isLeafNode()||f.forEachChild(ur,function(g,_){d.push(new Dn(g,_))}):h.writeTree_.children.inorderTraversal(function(g,_){null!=_.value&&d.push(new Dn(g,_.value))}),d}function Pa(h,d){if(_n(d))return h;var f=ia(h,d);return new Os(null!=f?new Bi(f):h.writeTree_.subtree(d))}function Oh(h){return h.writeTree_.isEmpty()}function di(h,d){return El(Vn(),h.writeTree_,d)}function El(h,d,f){if(null!=d.value)return f.updateChild(h,d.value);var g=null;return d.children.inorderTraversal(function(_,S){".priority"===_?((0,L.assert)(null!==S.value,"Priority writes must always be leaf nodes"),g=S.value):f=El(be(h,_),S,f)}),!f.getChild(h).isEmpty()&&null!==g&&(f=f.updateChild(be(h,".priority"),g)),f}function au(h,d){return E0(d,h)}function Br(h,d){if(h.snap)return jo(h.path,d);for(var f in h.children)if(h.children.hasOwnProperty(f)&&jo(be(h.path,f),d))return!0;return!1}function Nh(h){return h.visible}function C(h,d,f){for(var g=Os.empty(),_=0;_<h.length;++_){var S=h[_];if(d(S)){var M=S.path,V=void 0;if(S.snap)jo(f,M)?g=Cl(g,V=Dt(f,M),S.snap):jo(M,f)&&(V=Dt(M,f),g=Cl(g,Vn(),S.snap.getChild(V)));else{if(!S.children)throw(0,L.assertionError)("WriteRecord should have .snap or .children");if(jo(f,M))g=Ph(g,V=Dt(f,M),S.children);else if(jo(M,f))if(_n(V=Dt(M,f)))g=Ph(g,Vn(),S.children);else{var U=(0,L.safeGet)(S.children,pn(V));if(U){var $=U.getChild(mn(V));g=Cl(g,Vn(),$)}}}}}return g}function E(h,d,f,g,_){if(g||_){var U=Pa(h.visibleWrites,d);return!_&&Oh(U)?f:_||null!=f||su(U,Vn())?di(C(h.allWrites,function(pe){return(pe.visible||_)&&(!g||!~g.indexOf(pe.writeId))&&(jo(pe.path,d)||jo(d,pe.path))},d),f||Mt.EMPTY_NODE):null}var S=ia(h.visibleWrites,d);if(null!=S)return S;var M=Pa(h.visibleWrites,d);return Oh(M)?f:null!=f||su(M,Vn())?di(M,f||Mt.EMPTY_NODE):null}function ti(h,d,f,g){return E(h.writeTree,h.treePath,d,f,g)}function Ui(h,d){return function O(h,d,f){var g=Mt.EMPTY_NODE,_=ia(h.visibleWrites,d);if(_)return _.isLeafNode()||_.forEachChild(ur,function(V,U){g=g.updateImmediateChild(V,U)}),g;if(f){var S=Pa(h.visibleWrites,d);return f.forEachChild(ur,function(V,U){var $=di(Pa(S,new Kn(V)),U);g=g.updateImmediateChild(V,$)}),ld(S).forEach(function(V){g=g.updateImmediateChild(V.name,V.node)}),g}return ld(Pa(h.visibleWrites,d)).forEach(function(V){g=g.updateImmediateChild(V.name,V.node)}),g}(h.writeTree,h.treePath,d)}function sc(h,d,f,g){return function W(h,d,f,g,_){(0,L.assert)(g||_,"Either existingEventSnap or existingServerSnap must exist");var S=be(d,f);if(su(h.visibleWrites,S))return null;var M=Pa(h.visibleWrites,S);return Oh(M)?_.getChild(f):di(M,_.getChild(f))}(h.writeTree,h.treePath,d,f,g)}function ud(h,d){return function et(h,d){return ia(h.visibleWrites,d)}(h.writeTree,be(h.treePath,d))}function w0(h,d,f){return function Ce(h,d,f,g){var _=be(d,f),S=ia(h.visibleWrites,_);return null!=S?S:g.isCompleteForChild(f)?di(Pa(h.visibleWrites,_),g.getNode().getImmediateChild(f)):null}(h.writeTree,h.treePath,d,f)}function C0(h,d){return E0(be(h.treePath,d),h.writeTree)}function E0(h,d){return{treePath:h,writeTree:d}}var _T=function(){function h(){this.changeMap=new Map}return h.prototype.trackChildChange=function(d){var f=d.type,g=d.childName;(0,L.assert)("child_added"===f||"child_changed"===f||"child_removed"===f,"Only child changes supported for tracking"),(0,L.assert)(".priority"!==g,"Only non-priority child changes can be tracked.");var _=this.changeMap.get(g);if(_){var S=_.type;if("child_added"===f&&"child_removed"===S)this.changeMap.set(g,ra(g,d.snapshotNode,_.snapshotNode));else if("child_removed"===f&&"child_added"===S)this.changeMap.delete(g);else if("child_removed"===f&&"child_changed"===S)this.changeMap.set(g,gr(g,_.oldSnap));else if("child_changed"===f&&"child_added"===S)this.changeMap.set(g,Ho(g,d.snapshotNode));else{if("child_changed"!==f||"child_changed"!==S)throw(0,L.assertionError)("Illegal combination of changes: "+d+" occurred after "+_);this.changeMap.set(g,ra(g,d.snapshotNode,_.oldSnap))}}else this.changeMap.set(g,d)},h.prototype.getChanges=function(){return Array.from(this.changeMap.values())},h}(),S0=function(){function h(){}return h.prototype.getCompleteChild=function(d){return null},h.prototype.getChildAfterChild=function(d,f,g){return null},h}(),T0=new S0,Hv=function(){function h(d,f,g){void 0===g&&(g=null),this.writes_=d,this.viewCache_=f,this.optCompleteServerCache_=g}return h.prototype.getCompleteChild=function(d){var f=this.viewCache_.eventCache;if(f.isCompleteForChild(d))return f.getNode().getImmediateChild(d);var g=null!=this.optCompleteServerCache_?new yl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w0(this.writes_,d,g)},h.prototype.getChildAfterChild=function(d,f,g){var _=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wl(this.viewCache_),S=function Wt(h,d,f,g,_,S){return function Ir(h,d,f,g,_,S,M){var V,U=Pa(h.visibleWrites,d),$=ia(U,Vn());if(null!=$)V=$;else{if(null==f)return[];V=di(U,f)}if((V=V.withIndex(M)).isEmpty()||V.isLeafNode())return[];for(var K=[],se=M.getCompare(),pe=S?V.getReverseIteratorFrom(g,M):V.getIteratorFrom(g,M),Fe=pe.getNext();Fe&&K.length<_;)0!==se(Fe,g)&&K.push(Fe),Fe=pe.getNext();return K}(h.writeTree,h.treePath,d,f,g,_,S)}(this.writes_,_,f,1,g,d);return 0===S.length?null:S[0]},h}();function zv(h,d,f,g,_,S){var M=d.eventCache;if(null!=ud(g,f))return d;var V=void 0,U=void 0;if(_n(f))if((0,L.assert)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var $=wl(d),se=Ui(g,$ instanceof Mt?$:Mt.EMPTY_NODE);V=h.filter.updateFullNode(d.eventCache.getNode(),se,S)}else{var pe=ti(g,wl(d));V=h.filter.updateFullNode(d.eventCache.getNode(),pe,S)}else{var Fe=pn(f);if(".priority"===Fe){(0,L.assert)(1===pl(f),"Can't have a priority with additional path components");var Xe=M.getNode(),Ht=sc(g,f,Xe,U=d.serverCache.getNode());V=null!=Ht?h.filter.updatePriority(Xe,Ht):M.getNode()}else{var yt=mn(f),gn=void 0;if(M.isCompleteForChild(Fe)){U=d.serverCache.getNode();var pi=sc(g,f,M.getNode(),U);gn=null!=pi?M.getNode().getImmediateChild(Fe).updateChild(yt,pi):M.getNode().getImmediateChild(Fe)}else gn=w0(g,Fe,d.serverCache);V=null!=gn?h.filter.updateChild(M.getNode(),Fe,gn,yt,_,S):M.getNode()}}return ic(d,V,M.isFullyInitialized()||_n(f),h.filter.filtersNodes())}function lu(h,d,f,g,_,S,M,V){var $,U=d.serverCache,K=M?h.filter:h.filter.getIndexedFilter();if(_n(f))$=K.updateFullNode(U.getNode(),g,null);else if(K.filtersNodes()&&!U.isFiltered()){var se=U.getNode().updateChild(f,g);$=K.updateFullNode(U.getNode(),se,null)}else{var pe=pn(f);if(!U.isCompleteForPath(f)&&pl(f)>1)return d;var Fe=mn(f),Ht=U.getNode().getImmediateChild(pe).updateChild(Fe,g);$=".priority"===pe?K.updatePriority(U.getNode(),Ht):K.updateChild(U.getNode(),pe,Ht,Fe,T0,null)}var yt=Nr(d,$,U.isFullyInitialized()||_n(f),K.filtersNodes());return zv(h,yt,f,_,new Hv(_,yt,S),V)}function Ns(h,d,f,g,_,S,M){var U,$,V=d.eventCache,K=new Hv(_,d,S);if(_n(f))$=h.filter.updateFullNode(d.eventCache.getNode(),g,M),U=ic(d,$,!0,h.filter.filtersNodes());else{var se=pn(f);if(".priority"===se)$=h.filter.updatePriority(d.eventCache.getNode(),g),U=ic(d,$,V.isFullyInitialized(),V.isFiltered());else{var pe=mn(f),Fe=V.getNode().getImmediateChild(se),Xe=void 0;if(_n(pe))Xe=g;else{var Ht=K.getCompleteChild(se);Xe=null!=Ht?".priority"===rr(pe)&&Ht.getChild(Rv(pe)).isEmpty()?Ht:Ht.updateChild(pe,g):Mt.EMPTY_NODE}U=Fe.equals(Xe)?d:ic(d,h.filter.updateChild(V.getNode(),se,Xe,pe,K,M),V.isFullyInitialized(),h.filter.filtersNodes())}}return U}function Qp(h,d){return h.eventCache.isCompleteForChild(d)}function yT(h,d,f){return f.foreach(function(g,_){d=d.updateChild(g,_)}),d}function $v(h,d,f,g,_,S,M,V){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var $,U=d;$=_n(f)?g:new Bi(null).setTree(f,g);var K=d.serverCache.getNode();return $.children.inorderTraversal(function(se,pe){if(K.hasChild(se)){var Xe=yT(0,d.serverCache.getNode().getImmediateChild(se),pe);U=lu(h,U,new Kn(se),Xe,_,S,M,V)}}),$.children.inorderTraversal(function(se,pe){var Fe=!d.serverCache.isCompleteForChild(se)&&void 0===pe.value;if(!K.hasChild(se)&&!Fe){var Ht=yT(0,d.serverCache.getNode().getImmediateChild(se),pe);U=lu(h,U,new Kn(se),Ht,_,S,M,V)}}),U}var Sl=function(){function h(d,f){this.query_=d,this.eventRegistrations_=[];var g=this.query_._queryParams,_=new Qt(g.getIndex()),S=function ou(h){return h.loadsAllData()?new Qt(h.getIndex()):h.hasLimit()?new iu(h):new xa(h)}(g);this.processor_=function xe(h){return{filter:h}}(S);var M=f.serverCache,V=f.eventCache,U=_.updateFullNode(Mt.EMPTY_NODE,M.getNode(),null),$=S.updateFullNode(Mt.EMPTY_NODE,V.getNode(),null),K=new yl(U,M.isFullyInitialized(),_.filtersNodes()),se=new yl($,V.isFullyInitialized(),S.filtersNodes());this.viewCache_=Ps(se,K),this.eventGenerator_=new Gp(this.query_)}return Object.defineProperty(h.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),h}();function Tl(h,d){var f=wl(h.viewCache_);return f&&(h.query._queryParams.loadsAllData()||!_n(d)&&!f.getImmediateChild(pn(d)).isEmpty())?f.getChild(d):null}function A0(h){return 0===h.eventRegistrations_.length}function k0(h,d,f){var g=[];if(f){(0,L.assert)(null==d,"A cancel should cancel all event registrations.");var _=h.query._path;h.eventRegistrations_.forEach(function(U){var $=U.createCancelEvent(f,_);$&&g.push($)})}if(d){for(var S=[],M=0;M<h.eventRegistrations_.length;++M){var V=h.eventRegistrations_[M];if(V.matches(d)){if(d.hasAnyCallback()){S=S.concat(h.eventRegistrations_.slice(M+1));break}}else S.push(V)}h.eventRegistrations_=S}else h.eventRegistrations_=[];return g}function M0(h,d,f,g){d.type===us.MERGE&&null!==d.source.queryId&&((0,L.assert)(wl(h.viewCache_),"We should always have a full cache before handling merges"),(0,L.assert)(oc(h.viewCache_),"Missing event cache, even though we have a server cache"));var _=h.viewCache_,S=function ft(h,d,f,g,_){var M,V,S=new _T;if(f.type===us.OVERWRITE){var U=f;U.source.fromUser?M=Ns(h,d,U.path,U.snap,g,_,S):((0,L.assert)(U.source.fromServer,"Unknown source."),V=U.source.tagged||d.serverCache.isFiltered()&&!_n(U.path),M=lu(h,d,U.path,U.snap,g,_,V,S))}else if(f.type===us.MERGE){var $=f;$.source.fromUser?M=function qv(h,d,f,g,_,S,M){var V=d;return g.foreach(function(U,$){var K=be(f,U);Qp(d,pn(K))&&(V=Ns(h,V,K,$,_,S,M))}),g.foreach(function(U,$){var K=be(f,U);Qp(d,pn(K))||(V=Ns(h,V,K,$,_,S,M))}),V}(h,d,$.path,$.children,g,_,S):((0,L.assert)($.source.fromServer,"Unknown source."),V=$.source.tagged||d.serverCache.isFiltered(),M=$v(h,d,$.path,$.children,g,_,V,S))}else if(f.type===us.ACK_USER_WRITE){var K=f;M=K.revert?function yo(h,d,f,g,_,S){var M;if(null!=ud(g,f))return d;var V=new Hv(g,d,_),U=d.eventCache.getNode(),$=void 0;if(_n(f)||".priority"===pn(f)){var K=void 0;if(d.serverCache.isFullyInitialized())K=ti(g,wl(d));else{var se=d.serverCache.getNode();(0,L.assert)(se instanceof Mt,"serverChildren would be complete if leaf node"),K=Ui(g,se)}$=h.filter.updateFullNode(U,K=K,S)}else{var pe=pn(f),Fe=w0(g,pe,d.serverCache);null==Fe&&d.serverCache.isCompleteForChild(pe)&&(Fe=U.getImmediateChild(pe)),($=null!=Fe?h.filter.updateChild(U,pe,Fe,mn(f),V,S):d.eventCache.getNode().hasChild(pe)?h.filter.updateChild(U,pe,Mt.EMPTY_NODE,mn(f),V,S):U).isEmpty()&&d.serverCache.isFullyInitialized()&&(M=ti(g,wl(d))).isLeafNode()&&($=h.filter.updateFullNode($,M,S))}return M=d.serverCache.isFullyInitialized()||null!=ud(g,Vn()),ic(d,$,M,h.filter.filtersNodes())}(h,d,K.path,g,_,S):function Xp(h,d,f,g,_,S,M){if(null!=ud(_,f))return d;var V=d.serverCache.isFiltered(),U=d.serverCache;if(null!=g.value){if(_n(f)&&U.isFullyInitialized()||U.isCompleteForPath(f))return lu(h,d,f,U.getNode().getChild(f),_,S,V,M);if(_n(f)){var $=new Bi(null);return U.getNode().forEachChild(xs,function(se,pe){$=$.set(new Kn(se),pe)}),$v(h,d,f,$,_,S,V,M)}return d}var K=new Bi(null);return g.foreach(function(se,pe){var Fe=be(f,se);U.isCompleteForPath(Fe)&&(K=K.set(se,U.getNode().getChild(Fe)))}),$v(h,d,f,K,_,S,V,M)}(h,d,K.path,K.affectedTree,g,_,S)}else{if(f.type!==us.LISTEN_COMPLETE)throw(0,L.assertionError)("Unknown operation type: "+f.type);M=function Zp(h,d,f,g,_){var S=d.serverCache;return zv(h,Nr(d,S.getNode(),S.isFullyInitialized()||_n(f),S.isFiltered()),f,g,T0,_)}(h,d,f.path,g,S)}var se=S.getChanges();return function hi(h,d,f){var g=d.eventCache;if(g.isFullyInitialized()){var _=g.getNode().isLeafNode()||g.getNode().isEmpty(),S=oc(h);(f.length>0||!h.eventCache.isFullyInitialized()||_&&!g.getNode().equals(S)||!g.getNode().getPriority().equals(S.getPriority()))&&f.push(Wr(oc(d)))}}(d,M,se),{viewCache:M,changes:se}}(h.processor_,_,d,f,g);return function Bn(h,d){(0,L.assert)(d.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,L.assert)(d.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,S.viewCache),(0,L.assert)(S.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=S.viewCache,Jp(h,S.changes,S.viewCache.eventCache.getNode(),null)}function Jp(h,d,f,g){return function xh(h,d,f,g){var _=[],S=[];return d.forEach(function(M){"child_changed"===M.type&&h.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&S.push(function vl(h,d){return{type:"child_moved",snapshotNode:d,childName:h}}(M.childName,M.snapshotNode))}),bl(h,_,"child_removed",d,g,f),bl(h,_,"child_added",d,g,f),bl(h,_,"child_moved",S,g,f),bl(h,_,"child_changed",d,g,f),bl(h,_,"value",d,g,f),_}(h.eventGenerator_,d,f,g?[g]:h.eventRegistrations_)}var Fh,Fs,em=function h(){this.views=new Map};function nm(h,d,f,g){var _,S,M=d.source.queryId;if(null!==M){var V=h.views.get(M);return(0,L.assert)(null!=V,"SyncTree gave us an op for an invalid query."),M0(V,d,f,g)}var U=[];try{for(var $=(0,fe.__values)(h.views.values()),K=$.next();!K.done;K=$.next())U=U.concat(M0(V=K.value,d,f,g))}catch(se){_={error:se}}finally{try{K&&!K.done&&(S=$.return)&&S.call($)}finally{if(_)throw _.error}}return U}function Gv(h,d,f,g,_){var M=h.views.get(d._queryIdentifier);if(!M){var V=ti(f,_?g:null),U=!1;V?U=!0:g instanceof Mt?(V=Ui(f,g),U=!1):(V=Mt.EMPTY_NODE,U=!1);var $=Ps(new yl(V,U,!1),new yl(g,_,!1));return new Sl(d,$)}return M}function Lh(h){var d,f,g=[];try{for(var _=(0,fe.__values)(h.views.values()),S=_.next();!S.done;S=_.next()){var M=S.value;M.query._queryParams.loadsAllData()||g.push(M)}}catch(V){d={error:V}}finally{try{S&&!S.done&&(f=_.return)&&f.call(_)}finally{if(d)throw d.error}}return g}function uu(h,d){var f,g,_=null;try{for(var S=(0,fe.__values)(h.views.values()),M=S.next();!M.done;M=S.next())_=_||Tl(M.value,d)}catch(U){f={error:U}}finally{try{M&&!M.done&&(g=S.return)&&g.call(S)}finally{if(f)throw f.error}}return _}function O0(h,d){return d._queryParams.loadsAllData()?Tr(h):h.views.get(d._queryIdentifier)}function ro(h,d){return null!=O0(h,d)}function bo(h){return null!=Tr(h)}function Tr(h){var d,f;try{for(var g=(0,fe.__values)(h.views.values()),_=g.next();!_.done;_=g.next()){var S=_.value;if(S.query._queryParams.loadsAllData())return S}}catch(M){d={error:M}}finally{try{_&&!_.done&&(f=g.return)&&f.call(g)}finally{if(d)throw d.error}}return null}var CT=1,N0=function h(d){this.listenProvider_=d,this.syncPointTree_=new Bi(null),this.pendingWriteTree_=function qo(){return{visibleWrites:Os.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Yv(h,d,f,g,_){return function b0(h,d,f,g,_){(0,L.assert)(g>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===_&&(_=!0),h.allWrites.push({path:d,snap:f,writeId:g,visible:_}),_&&(h.visibleWrites=Cl(h.visibleWrites,d,f)),h.lastWriteId=g}(h.pendingWriteTree_,d,f,g,_),_?dd(h,new sd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,f)):[]}function oa(h,d,f){void 0===f&&(f=!1);var g=function Yp(h,d){for(var f=0;f<h.allWrites.length;f++){var g=h.allWrites[f];if(g.writeId===d)return g}return null}(h.pendingWriteTree_,d);if(function Uv(h,d){var f=h.allWrites.findIndex(function($){return $.writeId===d});(0,L.assert)(f>=0,"removeWrite called with nonexistent writeId.");var g=h.allWrites[f];h.allWrites.splice(f,1);for(var _=g.visible,S=!1,M=h.allWrites.length-1;_&&M>=0;){var V=h.allWrites[M];V.visible&&(M>=f&&Br(V,g.path)?_=!1:jo(g.path,V.path)&&(S=!0)),M--}return!!_&&(S?(function jv(h){h.visibleWrites=C(h.allWrites,Nh,Vn()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(g.snap?h.visibleWrites=_o(h.visibleWrites,g.path):en(g.children,function($){h.visibleWrites=_o(h.visibleWrites,be(g.path,$))}),!0))}(h.pendingWriteTree_,d)){var S=new Bi(null);return null!=g.snap?S=S.set(Vn(),!0):en(g.children,function(M){S=S.set(new Kn(M),!0)}),dd(h,new $p(g.path,S,f))}return[]}function cu(h,d,f){return dd(h,new sd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,f))}function Oa(h,d,f,g){var _=d._path,S=h.syncPointTree_.get(_),M=[];if(S&&("default"===d._queryIdentifier||ro(S,d))){var V=function P0(h,d,f,g){var _,S,M=d._queryIdentifier,V=[],U=[],$=bo(h);if("default"===M)try{for(var K=(0,fe.__values)(h.views.entries()),se=K.next();!se.done;se=K.next()){var Xe,pe=(0,fe.__read)(se.value,2),Fe=pe[0];U=U.concat(k0(Xe=pe[1],f,g)),A0(Xe)&&(h.views.delete(Fe),Xe.query._queryParams.loadsAllData()||V.push(Xe.query))}}catch(Ht){_={error:Ht}}finally{try{se&&!se.done&&(S=K.return)&&S.call(K)}finally{if(_)throw _.error}}else(Xe=h.views.get(M))&&(U=U.concat(k0(Xe,f,g)),A0(Xe)&&(h.views.delete(M),Xe.query._queryParams.loadsAllData()||V.push(Xe.query)));return $&&!bo(h)&&V.push(new(function x0(){return(0,L.assert)(Fh,"Reference.ts has not been loaded"),Fh}())(d._repo,d._path)),{removed:V,events:U}}(S,d,f,g);(function tm(h){return 0===h.views.size})(S)&&(h.syncPointTree_=h.syncPointTree_.remove(_));var U=V.removed;M=V.events;var $=-1!==U.findIndex(function(pi){return pi._queryParams.loadsAllData()}),K=h.syncPointTree_.findOnPath(_,function(pi,Ls){return bo(Ls)});if($&&!K){var se=h.syncPointTree_.subtree(_);if(!se.isEmpty())for(var pe=function B0(h){return h.fold(function(d,f,g){if(f&&bo(f))return[Tr(f)];var S=[];return f&&(S=Lh(f)),en(g,function(M,V){S=S.concat(V)}),S})}(se),Fe=0;Fe<pe.length;++Fe){var Xe=pe[Fe],Ht=Xe.query,yt=DT(h,Xe);h.listenProvider_.startListening(Na(Ht),ac(h,Ht),yt.hashFn,yt.onComplete)}}!K&&U.length>0&&!g&&($?h.listenProvider_.stopListening(Na(d),null):U.forEach(function(pi){var Ls=h.queryToTagMap.get(Bh(pi));h.listenProvider_.stopListening(Na(pi),Ls)})),function AT(h,d){for(var f=0;f<d.length;++f){var g=d[f];if(!g._queryParams.loadsAllData()){var _=Bh(g),S=h.queryToTagMap.get(_);h.queryToTagMap.delete(_),h.tagToQueryMap.delete(S)}}}(h,U)}return M}function L0(h,d,f){var g=d._path,_=null,S=!1;h.syncPointTree_.foreachOnPath(g,function(Ht,yt){var gn=Dt(Ht,g);_=_||uu(yt,gn),S=S||bo(yt)});var V,M=h.syncPointTree_.get(g);M?(S=S||bo(M),_=_||uu(M,Vn())):(M=new em,h.syncPointTree_=h.syncPointTree_.set(g,M)),null!=_?V=!0:(V=!1,_=Mt.EMPTY_NODE,h.syncPointTree_.subtree(g).foreachChild(function(Ht,yt){var gn=uu(yt,Vn());gn&&(_=_.updateImmediateChild(Ht,gn))}));var $=ro(M,d);if(!$&&!d._queryParams.loadsAllData()){var K=Bh(d);(0,L.assert)(!h.queryToTagMap.has(K),"View does not exist, but we have a tag");var se=function fd(){return CT++}();h.queryToTagMap.set(K,se),h.tagToQueryMap.set(se,K)}var Fe=function R0(h,d,f,g,_,S){var M=Gv(h,d,g,_,S);return h.views.has(d._queryIdentifier)||h.views.set(d._queryIdentifier,M),function I0(h,d){h.eventRegistrations_.push(d)}(M,f),function Wv(h,d){var f=h.viewCache_.eventCache,g=[];return f.getNode().isLeafNode()||f.getNode().forEachChild(ur,function(S,M){g.push(Ho(S,M))}),f.isFullyInitialized()&&g.push(Wr(f.getNode())),Jp(h,g,f.getNode(),d)}(M,f)}(M,d,f,au(h.pendingWriteTree_,g),_,V);if(!$&&!S){var Xe=O0(M,d);Fe=Fe.concat(function Zv(h,d,f){var g=d._path,_=ac(h,d),S=DT(h,f),M=h.listenProvider_.startListening(Na(d),_,S.hashFn,S.onComplete),V=h.syncPointTree_.subtree(g);if(_)(0,L.assert)(!bo(V.value),"If we're adding a query, it shouldn't be shadowed");else for(var U=V.fold(function(se,pe,Fe){if(!_n(se)&&pe&&bo(pe))return[Tr(pe).query];var Xe=[];return pe&&(Xe=Xe.concat(Lh(pe).map(function(Ht){return Ht.query}))),en(Fe,function(Ht,yt){Xe=Xe.concat(yt)}),Xe}),$=0;$<U.length;++$){var K=U[$];h.listenProvider_.stopListening(Na(K),ac(h,K))}return M}(h,d,Xe))}return Fe}function du(h,d,f){var _=h.pendingWriteTree_,S=h.syncPointTree_.findOnPath(d,function(M,V){var $=uu(V,Dt(M,d));if($)return $});return E(_,d,S,f,!0)}function dd(h,d){return V0(d,h.syncPointTree_,null,au(h.pendingWriteTree_,Vn()))}function V0(h,d,f,g){if(_n(h.path))return TT(h,d,f,g);var _=d.get(Vn());null==f&&null!=_&&(f=uu(_,Vn()));var S=[],M=pn(h.path),V=h.operationForChild(M),U=d.children.get(M);if(U&&V){var $=f?f.getImmediateChild(M):null,K=C0(g,M);S=S.concat(V0(V,U,$,K))}return _&&(S=S.concat(nm(_,h,g,f))),S}function TT(h,d,f,g){var _=d.get(Vn());null==f&&null!=_&&(f=uu(_,Vn()));var S=[];return d.children.inorderTraversal(function(M,V){var U=f?f.getImmediateChild(M):null,$=C0(g,M),K=h.operationForChild(M);K&&(S=S.concat(TT(K,V,U,$)))}),_&&(S=S.concat(nm(_,h,g,f))),S}function DT(h,d){var f=d.query,g=ac(h,f);return{hashFn:function(){var _=function D0(h){return h.viewCache_.serverCache.getNode()}(d)||Mt.EMPTY_NODE;return _.hash()},onComplete:function(_){if("ok"===_)return g?function ET(h,d,f){var g=Uh(h,f);if(g){var _=hd(g),S=_.path,M=_.queryId,V=Dt(S,d);return im(h,S,new Wp(qp(M),V))}return[]}(h,f._path,g):function F0(h,d){return dd(h,new Wp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(h,f._path);var S=function Et(h,d){var f="Unknown Error";"too_big"===h?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?f="Client doesn't have permission to access the desired data.":"unavailable"===h&&(f="The service is unavailable");var g=new Error(h+" at "+d._path.toString()+": "+f);return g.code=h.toUpperCase(),g}(_,f);return Oa(h,f,null,S)}}}function ac(h,d){var f=Bh(d);return h.queryToTagMap.get(f)}function Bh(h){return h._path.toString()+"$"+h._queryIdentifier}function Uh(h,d){return h.tagToQueryMap.get(d)}function hd(h){var d=h.indexOf("$");return(0,L.assert)(-1!==d&&d<h.length-1,"Bad queryKey."),{queryId:h.substr(d+1),path:new Kn(h.substr(0,d))}}function im(h,d,f){var g=h.syncPointTree_.get(d);return(0,L.assert)(g,"Missing sync point for query tag that we're tracking"),nm(g,f,au(h.pendingWriteTree_,d),null)}function Na(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Kv(){return(0,L.assert)(Fs,"Reference.ts has not been loaded"),Fs}())(h._repo,h._path):h}var om=function(){function h(d){this.node_=d}return h.prototype.getImmediateChild=function(d){return new h(this.node_.getImmediateChild(d))},h.prototype.node=function(){return this.node_},h}(),BO=function(){function h(d,f){this.syncTree_=d,this.path_=f}return h.prototype.getImmediateChild=function(d){var f=be(this.path_,d);return new h(this.syncTree_,f)},h.prototype.node=function(){return du(this.syncTree_,this.path_)},h}(),Jv=function(h,d,f){return h&&"object"==typeof h?((0,L.assert)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?IT(h[".sv"],d,f):"object"==typeof h[".sv"]?kT(h[".sv"],d):void(0,L.assert)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},IT=function(h,d,f){if("timestamp"===h)return f.timestamp;(0,L.assert)(!1,"Unexpected server value: "+h)},kT=function(h,d,f){h.hasOwnProperty("increment")||(0,L.assert)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));var g=h.increment;"number"!=typeof g&&(0,L.assert)(!1,"Unexpected increment value: "+g);var _=d.node();if((0,L.assert)(null!=_,"Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return g;var M=_.getValue();return"number"!=typeof M?g:M+g},pd=function(h,d,f,g){return Hh(d,new BO(f,h),g)},jh=function(h,d,f){return Hh(h,new om(d),f)};function Hh(h,d,f){var S,g=h.getPriority().val(),_=Jv(g,d.getImmediateChild(".priority"),f);if(h.isLeafNode()){var M=h,V=Jv(M.getValue(),d,f);return V!==M.getValue()||_!==M.getPriority().val()?new Rs(V,$n(_)):h}var U=h;return S=U,_!==U.getPriority().val()&&(S=S.updatePriority(new Rs(_))),U.forEachChild(ur,function($,K){var se=Hh(K,d.getImmediateChild($),f);se!==K&&(S=S.updateImmediateChild($,se))}),S}var md=function h(d,f,g){void 0===d&&(d=""),void 0===f&&(f=null),void 0===g&&(g={children:{},childCount:0}),this.name=d,this.parent=f,this.node=g};function lc(h,d){for(var f=d instanceof Kn?d:new Kn(d),g=h,_=pn(f);null!==_;){var S=(0,L.safeGet)(g.node.children,_)||{children:{},childCount:0};g=new md(_,g,S),_=pn(f=mn(f))}return g}function uc(h){return h.node.value}function sm(h,d){h.node.value=d,cc(h)}function e_(h){return h.node.childCount>0}function zh(h,d){en(h.node.children,function(f,g){d(new md(f,h,g))})}function H0(h,d,f,g){f&&!g&&d(h),zh(h,function(_){H0(_,d,!0,g)}),f&&g&&d(h)}function hu(h){return new Kn(null===h.parent?h.name:hu(h.parent)+"/"+h.name)}function cc(h){null!==h.parent&&function xT(h,d,f){var g=function j0(h){return void 0===uc(h)&&!e_(h)}(f),_=(0,L.contains)(h.node.children,d);g&&_?(delete h.node.children[d],h.node.childCount--,cc(h)):!g&&!_&&(h.node.children[d]=f.node,h.node.childCount++,cc(h))}(h.parent,h.name,h)}var z0=/[\[\].#$\/\u0000-\u001F\u007F]/,q0=/[\[\].#$\u0000-\u001F\u007F]/,fu=10485760,kn=function(h){return"string"==typeof h&&0!==h.length&&!z0.test(h)},am=function(h){return"string"==typeof h&&0!==h.length&&!q0.test(h)},Fa=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!ge(h)||h&&"object"==typeof h&&(0,L.contains)(h,".sv")},wo=function(h,d,f,g){g&&void 0===d||La((0,L.errorPrefix)(h,"value"),d,f)},La=function(h,d,f){var g=f instanceof Kn?new Pp(f,h):f;if(void 0===d)throw new Error(h+"contains undefined "+ta(g));if("function"==typeof d)throw new Error(h+"contains a function "+ta(g)+" with contents = "+d.toString());if(ge(d))throw new Error(h+"contains "+d.toString()+" "+ta(g));if("string"==typeof d&&d.length>fu/3&&(0,L.stringLength)(d)>fu)throw new Error(h+"contains a string greater than "+fu+" utf8 bytes "+ta(g)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var _=!1,S=!1;if(en(d,function(M,V){if(".value"===M)_=!0;else if(".priority"!==M&&".sv"!==M&&(S=!0,!kn(M)))throw new Error(h+" contains an invalid key ("+M+") "+ta(g)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ml(h,d){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(d),h.byteLength_+=(0,L.stringLength)(d),Ju(h)})(g,M),La(h,V,g),function nd(h){var d=h.parts_.pop();h.byteLength_-=(0,L.stringLength)(d),h.parts_.length>0&&(h.byteLength_-=1)}(g)}),_&&S)throw new Error(h+' contains ".value" child '+ta(g)+" in addition to actual children.")}},lm=function(h,d,f,g){if(!g||void 0!==d){var _=(0,L.errorPrefix)(h,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(_+" must be an object containing the children to replace.");var S=[];en(d,function(M,V){var U=new Kn(M);if(La(_,V,be(f,U)),".priority"===rr(U)&&!Fa(V))throw new Error(_+"contains an invalid value for '"+U.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(U)}),function(h,d){var f,g;for(f=0;f<d.length;f++)for(var _=Zu(g=d[f]),S=0;S<_.length;S++)if((".priority"!==_[S]||S!==_.length-1)&&!kn(_[S]))throw new Error(h+"contains an invalid key ("+_[S]+") in path "+g.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(Ch);var M=null;for(f=0;f<d.length;f++){if(g=d[f],null!==M&&jo(M,g))throw new Error(h+"contains a path "+M.toString()+" that is ancestor of another path "+g.toString());M=g}}(_,S)}},pu=function(h,d,f){if(!f||void 0!==d){if(ge(d))throw new Error((0,L.errorPrefix)(h,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fa(d))throw new Error((0,L.errorPrefix)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},UO=function(h,d,f){if(!f||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.errorPrefix)(h,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},qh=function(h,d,f,g){if(!(g&&void 0===f||kn(f)))throw new Error((0,L.errorPrefix)(h,d)+'was an invalid key = "'+f+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},We=function(h,d,f,g){if(!(g&&void 0===f||am(f)))throw new Error((0,L.errorPrefix)(h,d)+'was an invalid path = "'+f+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sa=function(h,d){if(".info"===pn(d))throw new Error(h+" failed = Can't modify data under /.info/")},PT=function(h,d){var f=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!kn(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==f.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),am(h)}(f))throw new Error((0,L.errorPrefix)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},jO=function(h,d,f,g){if((!g||void 0!==f)&&"boolean"!=typeof f)throw new Error((0,L.errorPrefix)(h,d)+"must be a boolean.")},HO=function h(){this.eventLists_=[],this.recursionDepth_=0};function t_(h,d){for(var f=null,g=0;g<d.length;g++){var _=d[g],S=_.getPath();null!==f&&!td(S,f.path)&&(h.eventLists_.push(f),f=null),null===f&&(f={events:[],path:S}),f.events.push(_)}f&&h.eventLists_.push(f)}function W0(h,d,f){t_(h,f),OT(h,function(g){return td(g,d)})}function io(h,d,f){t_(h,f),OT(h,function(g){return jo(g,d)||jo(d,g)})}function OT(h,d){h.recursionDepth_++;for(var f=!0,g=0;g<h.eventLists_.length;g++){var _=h.eventLists_[g];_&&(d(_.path)?(fi(h.eventLists_[g]),h.eventLists_[g]=null):f=!1)}f&&(h.eventLists_=[]),h.recursionDepth_--}function fi(h){for(var d=0;d<h.events.length;d++){var f=h.events[d];if(null!==f){h.events[d]=null;var g=f.getEventRunner();ht&&ct("event: "+f.toString()),li(g)}}}var um="repo_interrupt",zO=function(){function h(d,f,g,_){this.repoInfo_=d,this.forceRestClient_=f,this.authTokenProvider_=g,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_l(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return h.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},h}();function cs(h){var f=h.infoData_.getNode(new Kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+f}function $o(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:cs(h)})}function n_(h,d,f,g,_){h.dataUpdateCount++;var S=new Kn(d);f=h.interceptServerDataCallback_?h.interceptServerDataCallback_(d,f):f;var M=[];if(_)if(g){var V=(0,L.map)(f,function(pe){return $n(pe)});M=function ST(h,d,f,g){var _=Uh(h,g);if(_){var S=hd(_),M=S.path,V=S.queryId,U=Dt(M,d),$=Bi.fromObject(f);return im(h,M,new ad(qp(V),U,$))}return[]}(h.serverSyncTree_,S,V,_)}else{var U=$n(f);M=function Vh(h,d,f,g){var _=Uh(h,g);if(null!=_){var S=hd(_),M=S.path,V=S.queryId,U=Dt(M,d);return im(h,M,new sd(qp(V),U,f))}return[]}(h.serverSyncTree_,S,U,_)}else if(g){var $=(0,L.map)(f,function(pe){return $n(pe)});M=function Qv(h,d,f){var g=Bi.fromObject(f);return dd(h,new ad({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,g))}(h.serverSyncTree_,S,$)}else{var K=$n(f);M=cu(h.serverSyncTree_,S,K)}var se=S;M.length>0&&(se=_d(h,S)),io(h.eventQueue_,se,M)}function gd(h,d){r_(h,"connected",d),!1===d&&function ds(h){mu(h,"onDisconnectEvents");var d=$o(h),f=_l();Up(h.onDisconnect_,Vn(),function(_,S){var M=pd(_,S,h.serverSyncTree_,d);Ci(f,_,M)});var g=[];Up(f,Vn(),function(_,S){g=g.concat(cu(h.serverSyncTree_,_,S));var M=fm(h,_);_d(h,M)}),h.onDisconnect_=_l(),io(h.eventQueue_,Vn(),g)}(h)}function r_(h,d,f){var g=new Kn("/.info/"+d),_=$n(f);h.infoData_.updateSnapshot(g,_);var S=cu(h.infoSyncTree_,g,_);io(h.eventQueue_,g,S)}function dm(h){return h.nextWriteId_++}function K0(h,d,f,g,_){mu(h,"set",{path:d.toString(),value:f,priority:g});var S=$o(h),M=$n(f,g),V=du(h.serverSyncTree_,d),U=jh(M,V,S),$=dm(h),K=Yv(h.serverSyncTree_,d,U,$,!0);t_(h.eventQueue_,K),h.server_.put(d.toString(),M.val(!0),function(pe,Fe){var Xe="ok"===pe;Xe||ie("set at "+d+" failed: "+pe);var Ht=oa(h.serverSyncTree_,$,!Xe);io(h.eventQueue_,d,Ht),aa(0,_,pe,Fe)});var se=fm(h,d);_d(h,se),io(h.eventQueue_,se,[])}function i_(h,d,f){h.server_.onDisconnectCancel(d.toString(),function(g,_){"ok"===g&&kh(h.onDisconnect_,d),aa(0,f,g,_)})}function hc(h,d,f,g){var _=$n(f);h.server_.onDisconnectPut(d.toString(),_.val(!0),function(S,M){"ok"===S&&Ci(h.onDisconnect_,d,_),aa(0,g,S,M)})}function o_(h,d,f){var g;g=".info"===pn(d._path)?Oa(h.infoSyncTree_,d,f):Oa(h.serverSyncTree_,d,f),W0(h.eventQueue_,d._path,g)}function X0(h){h.persistentConnection_&&h.persistentConnection_.interrupt(um)}function mu(h){for(var d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];var g="";h.persistentConnection_&&(g=h.persistentConnection_.id+":"),ct.apply(void 0,(0,fe.__spreadArray)([g],(0,fe.__read)(d)))}function aa(h,d,f,g){d&&li(function(){if("ok"===f)d(null);else{var _=(f||"error").toUpperCase(),S=_;g&&(S+=": "+g);var M=new Error(S);M.code=_,d(M)}})}function fc(h,d,f){return du(h.serverSyncTree_,d,f)||Mt.EMPTY_NODE}function vd(h,d){if(void 0===d&&(d=h.transactionQueueTree_),d||gu(h,d),uc(d)){var f=s_(h,d);(0,L.assert)(f.length>0,"Sending zero length transaction queue"),f.every(function(_){return 0===_.status})&&function hm(h,d,f){for(var g=f.map(function(pe){return pe.currentWriteId}),_=fc(h,d,g),S=_,M=_.hash(),V=0;V<f.length;V++){var U=f[V];(0,L.assert)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;var $=Dt(d,U.path);S=S.updateChild($,U.currentOutputSnapshotRaw)}var K=S.val(!0),se=d;h.server_.put(se.toString(),K,function(pe){mu(h,"transaction put response",{path:se.toString(),status:pe});var Fe=[];if("ok"===pe){for(var Xe=[],Ht=function(gn){f[gn].status=2,Fe=Fe.concat(oa(h.serverSyncTree_,f[gn].currentWriteId)),f[gn].onComplete&&Xe.push(function(){return f[gn].onComplete(null,!0,f[gn].currentOutputSnapshotResolved)}),f[gn].unwatcher()},yt=0;yt<f.length;yt++)Ht(yt);for(gu(h,lc(h.transactionQueueTree_,d)),vd(h,h.transactionQueueTree_),io(h.eventQueue_,d,Fe),yt=0;yt<Xe.length;yt++)li(Xe[yt])}else{if("datastale"===pe)for(yt=0;yt<f.length;yt++)f[yt].status=3===f[yt].status?4:0;else for(ie("transaction at "+se.toString()+" failed: "+pe),yt=0;yt<f.length;yt++)f[yt].status=4,f[yt].abortReason=pe;_d(h,d)}},M)}(h,hu(d),f)}else e_(d)&&zh(d,function(_){vd(h,_)})}function _d(h,d){var f=J0(h,d),g=hu(f);return function BT(h,d,f){if(0!==d.length){for(var g=[],_=[],M=d.filter(function($){return 0===$.status}).map(function($){return $.currentWriteId}),V=function($){var Fe,K=d[$],se=Dt(f,K.path),pe=!1;if((0,L.assert)(null!==se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===K.status)pe=!0,Fe=K.abortReason,_=_.concat(oa(h.serverSyncTree_,K.currentWriteId,!0));else if(0===K.status)if(K.retryCount>=25)pe=!0,Fe="maxretry",_=_.concat(oa(h.serverSyncTree_,K.currentWriteId,!0));else{var Xe=fc(h,K.path,M);K.currentInputSnapshot=Xe;var Ht=d[$].update(Xe.val());if(void 0!==Ht){La("transaction failed: Data returned ",Ht,K.path);var yt=$n(Ht);"object"==typeof Ht&&null!=Ht&&(0,L.contains)(Ht,".priority")||(yt=yt.updatePriority(Xe.getPriority()));var pi=K.currentWriteId,Ls=$o(h),ym=jh(yt,Xe,Ls);K.currentOutputSnapshotRaw=yt,K.currentOutputSnapshotResolved=ym,K.currentWriteId=dm(h),M.splice(M.indexOf(pi),1),_=(_=_.concat(Yv(h.serverSyncTree_,K.path,ym,K.currentWriteId,K.applyLocally))).concat(oa(h.serverSyncTree_,pi,!0))}else pe=!0,Fe="nodata",_=_.concat(oa(h.serverSyncTree_,K.currentWriteId,!0))}io(h.eventQueue_,f,_),_=[],pe&&(d[$].status=2,setTimeout(d[$].unwatcher,Math.floor(0)),d[$].onComplete&&g.push("nodata"===Fe?function(){return d[$].onComplete(null,!1,d[$].currentInputSnapshot)}:function(){return d[$].onComplete(new Error(Fe),!1,null)}))},U=0;U<d.length;U++)V(U);for(gu(h,h.transactionQueueTree_),U=0;U<g.length;U++)li(g[U]);vd(h,h.transactionQueueTree_)}}(h,s_(h,f),g),g}function J0(h,d){var f,g=h.transactionQueueTree_;for(f=pn(d);null!==f&&void 0===uc(g);)g=lc(g,f),f=pn(d=mn(d));return g}function s_(h,d){var f=[];return ew(h,d,f),f.sort(function(g,_){return g.order-_.order}),f}function ew(h,d,f){var g=uc(d);if(g)for(var _=0;_<g.length;_++)f.push(g[_]);zh(d,function(S){ew(h,S,f)})}function gu(h,d){var f=uc(d);if(f){for(var g=0,_=0;_<f.length;_++)2!==f[_].status&&(f[g]=f[_],g++);f.length=g,sm(d,f.length>0?f:void 0)}zh(d,function(S){gu(h,S)})}function fm(h,d){var f=hu(J0(h,d)),g=lc(h.transactionQueueTree_,d);return function MT(h,d,f){for(var g=f?h:h.parent;null!==g;){if(d(g))return!0;g=g.parent}}(g,function(_){a_(h,_)}),a_(h,g),H0(g,function(_){a_(h,_)}),f}function a_(h,d){var f=uc(d);if(f){for(var g=[],_=[],S=-1,M=0;M<f.length;M++)3===f[M].status||(1===f[M].status?((0,L.assert)(S===M-1,"All SENT items should be at beginning of queue."),S=M,f[M].status=3,f[M].abortReason="set"):((0,L.assert)(0===f[M].status,"Unexpected transaction status in abort"),f[M].unwatcher(),_=_.concat(oa(h.serverSyncTree_,f[M].currentWriteId,!0)),f[M].onComplete&&g.push(f[M].onComplete.bind(null,new Error("set"),!1,null))));for(-1===S?sm(d,void 0):f.length=S+1,io(h.eventQueue_,hu(d),_),M=0;M<g.length;M++)li(g[M])}}var Wh=function(h,d){var f=l_(h),g=f.namespace;return"firebase.com"===f.domain&&dn(f.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!g||"undefined"===g)&&"localhost"!==f.domain&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),f.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ie("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Xi(f.host,f.secure,g,d,"ws"===f.scheme||"wss"===f.scheme,"",g!==f.subdomain),path:new Kn(f.pathString)}},l_=function(h){var d="",f="",g="",_="",S="",M=!0,V="https",U=443;if("string"==typeof h){var $=h.indexOf("//");$>=0&&(V=h.substring(0,$-1),h=h.substring($+2));var K=h.indexOf("/");-1===K&&(K=h.length);var se=h.indexOf("?");-1===se&&(se=h.length),d=h.substring(0,Math.min(K,se)),K<se&&(_=function oe(h){for(var d="",f=h.split("/"),g=0;g<f.length;g++)if(f[g].length>0){var _=f[g];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch(S){}d+="/"+_}return d}(h.substring(K,se)));var pe=function tw(h){var d,f,g={};"?"===h.charAt(0)&&(h=h.substring(1));try{for(var _=(0,fe.__values)(h.split("&")),S=_.next();!S.done;S=_.next()){var M=S.value;if(0!==M.length){var V=M.split("=");2===V.length?g[decodeURIComponent(V[0])]=decodeURIComponent(V[1]):ie("Invalid query segment '"+M+"' in query '"+h+"'")}}}catch(U){d={error:U}}finally{try{S&&!S.done&&(f=_.return)&&f.call(_)}finally{if(d)throw d.error}}return g}(h.substring(Math.min(h.length,se)));($=d.indexOf(":"))>=0?(M="https"===V||"wss"===V,U=parseInt(d.substring($+1),10)):$=d.length;var Fe=d.slice(0,$);if("localhost"===Fe.toLowerCase())f="localhost";else if(Fe.split(".").length<=2)f=Fe;else{var Xe=d.indexOf(".");g=d.substring(0,Xe).toLowerCase(),f=d.substring(Xe+1),S=g}"ns"in pe&&(S=pe.ns)}return{host:d,port:U,domain:f,subdomain:g,secure:M,scheme:V,pathString:_,namespace:S}},yd=function(){function h(d,f,g,_){this.eventType=d,this.eventRegistration=f,this.snapshot=g,this.prevName=_}return h.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},h.prototype.getEventType=function(){return this.eventType},h.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},h.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.stringify)(this.snapshot.exportVal())},h}(),nw=function(){function h(d,f,g){this.eventRegistration=d,this.error=f,this.path=g}return h.prototype.getPath=function(){return this.path},h.prototype.getEventType=function(){return"cancel"},h.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},h.prototype.toString=function(){return this.path.toString()+":cancel"},h}(),rw=function(){function h(d,f){this.snapshotCallback=d,this.cancelCallback=f}return h.prototype.onValue=function(d,f){this.snapshotCallback.call(null,d,f)},h.prototype.onCancel=function(d){return(0,L.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(h.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),h.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},h}(),UT=function(){function h(d,f){this._repo=d,this._path=f}return h.prototype.cancel=function(){var d=new L.Deferred;return i_(this._repo,this._path,d.wrapCallback(function(){})),d.promise},h.prototype.remove=function(){sa("OnDisconnect.remove",this._path);var d=new L.Deferred;return hc(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},h.prototype.set=function(d){sa("OnDisconnect.set",this._path),wo("OnDisconnect.set",d,this._path,!1);var f=new L.Deferred;return hc(this._repo,this._path,d,f.wrapCallback(function(){})),f.promise},h.prototype.setWithPriority=function(d,f){sa("OnDisconnect.setWithPriority",this._path),wo("OnDisconnect.setWithPriority",d,this._path,!1),pu("OnDisconnect.setWithPriority",f,!1);var g=new L.Deferred;return function $O(h,d,f,g,_){var S=$n(f,g);h.server_.onDisconnectPut(d.toString(),S.val(!0),function(M,V){"ok"===M&&Ci(h.onDisconnect_,d,S),aa(0,_,M,V)})}(this._repo,this._path,d,f,g.wrapCallback(function(){})),g.promise},h.prototype.update=function(d){sa("OnDisconnect.update",this._path),lm("OnDisconnect.update",d,this._path,!1);var f=new L.Deferred;return function Q0(h,d,f,g){if((0,L.isEmpty)(f))return ct("onDisconnect().update() called with empty data.  Don't do anything."),void aa(0,g,"ok",void 0);h.server_.onDisconnectMerge(d.toString(),f,function(_,S){"ok"===_&&en(f,function(M,V){var U=$n(V);Ci(h.onDisconnect_,be(d,M),U)}),aa(0,g,_,S)})}(this._repo,this._path,d,f.wrapCallback(function(){})),f.promise},h}(),Co=function(){function h(d,f,g,_){this._repo=d,this._path=f,this._queryParams=g,this._orderByCalled=_}return Object.defineProperty(h.prototype,"key",{get:function(){return _n(this._path)?null:rr(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ref",{get:function(){return new Ba(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_queryIdentifier",{get:function(){var d=zo(this._queryParams),f=Rr(d);return"{}"===f?"default":f},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_queryObject",{get:function(){return zo(this._queryParams)},enumerable:!1,configurable:!0}),h.prototype.isEqual=function(d){if(!((d=(0,L.getModularInstance)(d))instanceof h))return!1;var f=this._repo===d._repo,g=td(this._path,d._path);return f&&g&&this._queryIdentifier===d._queryIdentifier},h.prototype.toJSON=function(){return this.toString()},h.prototype.toString=function(){return this._repo.toString()+function p0(h){for(var d="",f=h.pieceNum_;f<h.pieces_.length;f++)""!==h.pieces_[f]&&(d+="/"+encodeURIComponent(String(h.pieces_[f])));return d||"/"}(this._path)},h}();function hs(h,d){if(!0===h._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function Dl(h){var d=null,f=null;if(h.hasStart()&&(d=h.getIndexStartValue()),h.hasEnd()&&(f=h.getIndexEndValue()),h.getIndex()===xs){var g="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",_="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==ve)throw new Error(g);if("string"!=typeof d)throw new Error(_)}if(h.hasEnd()){if(h.getIndexEndName()!==ke)throw new Error(g);if("string"!=typeof f)throw new Error(_)}}else if(h.getIndex()===ur){if(null!=d&&!Fa(d)||null!=f&&!Fa(f))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.assert)(h.getIndex()instanceof nu||h.getIndex()===Jr,"unknown index type."),null!=d&&"object"==typeof d||null!=f&&"object"==typeof f)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Va(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ba=function(h){function d(f,g){return h.call(this,f,g,new id,!1)||this}return(0,fe.__extends)(d,h),Object.defineProperty(d.prototype,"parent",{get:function(){var f=Rv(this._path);return null===f?null:new d(this._repo,f)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var f=this;null!==f.parent;)f=f.parent;return f},enumerable:!1,configurable:!0}),d}(Co),Gh=function(){function h(d,f,g){this._node=d,this.ref=f,this._index=g}return Object.defineProperty(h.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),h.prototype.child=function(d){var f=new Kn(d),g=vu(this.ref,d);return new h(this._node.getChild(f),g,ur)},h.prototype.exists=function(){return!this._node.isEmpty()},h.prototype.exportVal=function(){return this._node.val(!0)},h.prototype.forEach=function(d){var f=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(_,S){return d(new h(S,vu(f.ref,_),ur))})},h.prototype.hasChild=function(d){var f=new Kn(d);return!this._node.getChild(f).isEmpty()},h.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},h.prototype.toJSON=function(){return this.exportVal()},h.prototype.val=function(){return this._node.val()},h}();function pm(h,d){return(h=(0,L.getModularInstance)(h))._checkNotDeleted("ref"),void 0!==d?vu(h._root,d):h._root}function Kh(h,d){(h=(0,L.getModularInstance)(h))._checkNotDeleted("refFromURL");var f=Wh(d,h._repo.repoInfo_.nodeAdmin);PT("refFromURL",f);var g=f.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&g.host!==h._repo.repoInfo_.host&&dn("refFromURL: Host name does not match the current database: (found "+g.host+" but expected "+h._repo.repoInfo_.host+")"),pm(h,f.path.toString())}function vu(h,d){return null===pn((h=(0,L.getModularInstance)(h))._path)?(f=d,f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),We("child","path",f,!1)):We("child","path",d,!1),new Ba(h._repo,be(h._path,d));var f}function jT(h,d){h=(0,L.getModularInstance)(h),sa("push",h._path),wo("push",d,h._path,!0);var M,f=cs(h._repo),g=mr(f),_=vu(h,g),S=vu(h,g);return M=null!=d?_u(S,d).then(function(){return S}):Promise.resolve(S),_.then=M.then.bind(M),_.catch=M.then.bind(M,void 0),_}function HT(h){return sa("remove",h._path),_u(h,null)}function _u(h,d){h=(0,L.getModularInstance)(h),sa("set",h._path),wo("set",d,h._path,!1);var f=new L.Deferred;return K0(h._repo,h._path,d,null,f.wrapCallback(function(){})),f.promise}function Yh(h,d){h=(0,L.getModularInstance)(h),sa("setPriority",h._path),pu("setPriority",d,!1);var f=new L.Deferred;return K0(h._repo,be(h._path,".priority"),d,null,f.wrapCallback(function(){})),f.promise}function zT(h,d,f){if(sa("setWithPriority",h._path),wo("setWithPriority",d,h._path,!1),pu("setWithPriority",f,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";var g=new L.Deferred;return K0(h._repo,h._path,d,f,g.wrapCallback(function(){})),g.promise}function GO(h,d){lm("update",d,h._path,!1);var f=new L.Deferred;return function Y0(h,d,f,g){mu(h,"update",{path:d.toString(),value:f});var _=!0,S=$o(h),M={};if(en(f,function($,K){_=!1,M[$]=pd(be(d,$),$n(K),h.serverSyncTree_,S)}),_)ct("update() called with empty data.  Don't do anything."),aa(0,g,"ok",void 0);else{var V=dm(h),U=function rm(h,d,f,g){!function Ar(h,d,f,g){(0,L.assert)(g>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:d,children:f,writeId:g,visible:!0}),h.visibleWrites=Ph(h.visibleWrites,d,f),h.lastWriteId=g}(h.pendingWriteTree_,d,f,g);var _=Bi.fromObject(f);return dd(h,new ad({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,_))}(h.serverSyncTree_,d,M,V);t_(h.eventQueue_,U),h.server_.merge(d.toString(),f,function($,K){var se="ok"===$;se||ie("update at "+d+" failed: "+$);var pe=oa(h.serverSyncTree_,V,!se),Fe=pe.length>0?_d(h,d):d;io(h.eventQueue_,Fe,pe),aa(0,g,$,K)}),en(f,function($){var K=fm(h,be(d,$));_d(h,K)}),io(h.eventQueue_,d,[])}}(h._repo,h._path,d,f.wrapCallback(function(){})),f.promise}function iw(h){return function qO(h,d){var f=function Xv(h,d){var f=d._path,g=null;h.syncPointTree_.foreachOnPath(f,function($,K){var se=Dt($,f);g=g||uu(K,se)});var _=h.syncPointTree_.get(f);_?g=g||uu(_,Vn()):(_=new em,h.syncPointTree_=h.syncPointTree_.set(f,_));var S=null!=g,M=S?new yl(g,!0,!1):null;return function cd(h){return oc(h.viewCache_)}(Gv(_,d,au(h.pendingWriteTree_,d._path),S?M.getNode():Mt.EMPTY_NODE,S))}(h.serverSyncTree_,d);return null!=f?Promise.resolve(f):h.server_.get(d).then(function(g){var _=$n(g).withIndex(d._queryParams.getIndex()),S=cu(h.serverSyncTree_,d._path,_);return W0(h.eventQueue_,d._path,S),Promise.resolve(_)},function(g){return mu(h,"get for query "+(0,L.stringify)(d)+" failed: "+g),Promise.reject(new Error(g))})}((h=(0,L.getModularInstance)(h))._repo,h).then(function(d){return new Gh(d,new Ba(h._repo,h._path),h._queryParams.getIndex())})}var ow=function(){function h(d){this.callbackContext=d}return h.prototype.respondsTo=function(d){return"value"===d},h.prototype.createEvent=function(d,f){var g=f._queryParams.getIndex();return new yd("value",this,new Gh(d.snapshotNode,new Ba(f._repo,f._path),g))},h.prototype.getEventRunner=function(d){var f=this;return"cancel"===d.getEventType()?function(){return f.callbackContext.onCancel(d.error)}:function(){return f.callbackContext.onValue(d.snapshot,null)}},h.prototype.createCancelEvent=function(d,f){return this.callbackContext.hasCancelCallback?new nw(this,d,f):null},h.prototype.matches=function(d){return d instanceof h&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},h.prototype.hasAnyCallback=function(){return null!==this.callbackContext},h}(),qT=function(){function h(d,f){this.eventType=d,this.callbackContext=f}return h.prototype.respondsTo=function(d){var f="children_added"===d?"child_added":d;return this.eventType===("children_removed"===f?"child_removed":f)},h.prototype.createCancelEvent=function(d,f){return this.callbackContext.hasCancelCallback?new nw(this,d,f):null},h.prototype.createEvent=function(d,f){(0,L.assert)(null!=d.childName,"Child events should have a childName.");var g=vu(new Ba(f._repo,f._path),d.childName),_=f._queryParams.getIndex();return new yd(d.type,this,new Gh(d.snapshotNode,g,_),d.prevName)},h.prototype.getEventRunner=function(d){var f=this;return"cancel"===d.getEventType()?function(){return f.callbackContext.onCancel(d.error)}:function(){return f.callbackContext.onValue(d.snapshot,d.prevName)}},h.prototype.matches=function(d){return d instanceof h&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},h.prototype.hasAnyCallback=function(){return!!this.callbackContext},h}();function Qh(h,d,f,g,_){var S;if("object"==typeof g&&(S=void 0,_=g),"function"==typeof g&&(S=g),_&&_.onlyOnce){var M=f,V=function(K,se){o_(h._repo,h,$),M(K,se)};V.userCallback=f.userCallback,V.context=f.context,f=V}var U=new rw(f,S||void 0),$="value"===d?new ow(U):new qT(d,U);return function FT(h,d,f){var g;g=".info"===pn(d._path)?L0(h.infoSyncTree_,d,f):L0(h.serverSyncTree_,d,f),W0(h.eventQueue_,d._path,g)}(h._repo,h,$),function(){return o_(h._repo,h,$)}}function u_(h,d,f,g){return Qh(h,"value",d,f,g)}function sw(h,d,f,g){return Qh(h,"child_added",d,f,g)}function Xh(h,d,f,g){return Qh(h,"child_changed",d,f,g)}function mm(h,d,f,g){return Qh(h,"child_moved",d,f,g)}function pc(h,d,f,g){return Qh(h,"child_removed",d,f,g)}function aw(h,d,f){var g=null,_=f?new rw(f):null;"value"===d?g=new ow(_):d&&(g=new qT(d,_)),o_(h._repo,h,g)}var la=function h(){},$T=function(h){function d(f,g){var _=h.call(this)||this;return _._value=f,_._key=g,_}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){wo("endAt",this._value,f._path,!0);var g=Jn(f._queryParams,this._value,this._key);if(Va(g),Dl(g),f._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(f._repo,f._path,g,f._orderByCalled)},d}(la);function gm(h,d){return qh("endAt","key",d,!0),new $T(h,d)}var c_=function(h){function d(f,g){var _=h.call(this)||this;return _._value=f,_._key=g,_}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){wo("endBefore",this._value,f._path,!1);var g=function Bp(h,d,f){var _;return h.index_===xs?("string"==typeof d&&(d=Ma(d)),_=Jn(h,d,f)):_=Jn(h,d,null==f?ve:Ma(f)),_.endBeforeSet_=!0,_}(f._queryParams,this._value,this._key);if(Va(g),Dl(g),f._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(f._repo,f._path,g,f._orderByCalled)},d}(la);function lw(h,d){return qh("endBefore","key",d,!0),new c_(h,d)}var d_=function(h){function d(f,g){var _=h.call(this)||this;return _._value=f,_._key=g,_}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){wo("startAt",this._value,f._path,!0);var g=Ra(f._queryParams,this._value,this._key);if(Va(g),Dl(g),f._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Co(f._repo,f._path,g,f._orderByCalled)},d}(la);function uw(h,d){return void 0===h&&(h=null),qh("startAt","key",d,!0),new d_(h,d)}var mc=function(h){function d(f,g){var _=h.call(this)||this;return _._value=f,_._key=g,_}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){wo("startAfter",this._value,f._path,!1);var g=function as(h,d,f){var g;return h.index_===xs?("string"==typeof d&&(d=no(d)),g=Ra(h,d,f)):g=Ra(h,d,null==f?ke:no(f)),g.startAfterSet_=!0,g}(f._queryParams,this._value,this._key);if(Va(g),Dl(g),f._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Co(f._repo,f._path,g,f._orderByCalled)},d}(la);function WT(h,d){return qh("startAfter","key",d,!0),new mc(h,d)}var GT=function(h){function d(f){var g=h.call(this)||this;return g._limit=f,g}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){if(f._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(f._repo,f._path,function ei(h,d){var f=h.copy();return f.limitSet_=!0,f.limit_=d,f.viewFrom_="l",f}(f._queryParams,this._limit),f._orderByCalled)},d}(la);function KT(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new GT(h)}var YT=function(h){function d(f){var g=h.call(this)||this;return g._limit=f,g}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){if(f._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(f._repo,f._path,function nc(h,d){var f=h.copy();return f.limitSet_=!0,f.limit_=d,f.viewFrom_="r",f}(f._queryParams,this._limit),f._orderByCalled)},d}(la);function QT(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new YT(h)}var fs=function(h){function d(f){var g=h.call(this)||this;return g._path=f,g}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){hs(f,"orderByChild");var g=new Kn(this._path);if(_n(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var _=new nu(g),S=rc(f._queryParams,_);return Dl(S),new Co(f._repo,f._path,S,!0)},d}(la);function Ua(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return We("orderByChild","path",h,!1),new fs(h)}var cw=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){hs(f,"orderByKey");var g=rc(f._queryParams,xs);return Dl(g),new Co(f._repo,f._path,g,!0)},d}(la);function XT(){return new cw}var ZT=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){hs(f,"orderByPriority");var g=rc(f._queryParams,ur);return Dl(g),new Co(f._repo,f._path,g,!0)},d}(la);function JT(){return new ZT}var eD=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){hs(f,"orderByValue");var g=rc(f._queryParams,Jr);return Dl(g),new Co(f._repo,f._path,g,!0)},d}(la);function tD(){return new eD}var dw=function(h){function d(f,g){var _=h.call(this)||this;return _._value=f,_._key=g,_}return(0,fe.__extends)(d,h),d.prototype._apply=function(f){if(wo("equalTo",this._value,f._path,!1),f._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(f._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $T(this._value,this._key)._apply(new d_(this._value,this._key)._apply(f))},d}(la);function nD(h,d){return qh("equalTo","key",d,!0),new dw(h,d)}function ua(h){for(var d,f,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];var S=(0,L.getModularInstance)(h);try{for(var M=(0,fe.__values)(g),V=M.next();!V.done;V=M.next()){var U=V.value;S=U._apply(S)}}catch($){d={error:$}}finally{try{V&&!V.done&&(f=M.return)&&f.call(M)}finally{if(d)throw d.error}}return S}(function bT(h){(0,L.assert)(!Fh,"__referenceConstructor has already been defined"),Fh=h})(Ba),function wT(h){(0,L.assert)(!Fs,"__referenceConstructor has already been defined"),Fs=h}(Ba);var h_={},iD=!1;function bd(h,d,f,g,_){var S=g||h.options.databaseURL;void 0===S&&(h.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",h.options.projectId),S=h.options.projectId+"-default-rtdb.firebaseio.com");var U,M=Wh(S,_),V=M.repoInfo,$=void 0;"undefined"!=typeof process&&($=process.env.FIREBASE_DATABASE_EMULATOR_HOST),$?(U=!0,V=(M=Wh(S="http://"+$+"?ns="+V.namespace,_)).repoInfo):U=!M.repoInfo.secure;var K=_&&U?new tn(tn.OWNER):new hn(h.name,h.options,d);PT("Invalid Firebase Database URL",M),_n(M.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");var se=function ja(h,d,f,g){var _=h_[d.name];_||(h_[d.name]=_={});var S=_[h.toURLString()];return S&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new zO(h,iD,f,g),_[h.toURLString()]=S,S}(V,h,K,new ks(h.name,f));return new fw(se,h)}var fw=function(){function h(d,f){this._repoInternal=d,this.app=f,this.type="database",this._instanceStarted=!1}return Object.defineProperty(h.prototype,"_repo",{get:function(){return this._instanceStarted||(function NT(h,d,f){if(h.stats_=Xl(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new Ih(h.repoInfo_,function(g,_,S,M){n_(h,g,_,S,M)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(function(){return gd(h,!0)},0);else{if(null!=f){if("object"!=typeof f)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.stringify)(f)}catch(g){throw new Error("Invalid authOverride provided: "+g)}}h.persistentConnection_=new gl(h.repoInfo_,d,function(g,_,S,M){n_(h,g,_,S,M)},function(g){gd(h,g)},function(g){!function G0(h,d){en(d,function(f,g){r_(h,f,g)})}(h,g)},h.authTokenProvider_,h.appCheckProvider_,f),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(function(g){h.server_.refreshAuthToken(g)}),h.appCheckProvider_.addTokenChangeListener(function(g){h.server_.refreshAppCheckToken(g.token)}),h.statsReporter_=function Zl(h,d){var f=h.toString();return Qn[f]||(Qn[f]=d()),Qn[f]}(h.repoInfo_,function(){return new Bv(h.stats_,h.server_)}),h.infoData_=new od,h.infoSyncTree_=new N0({startListening:function(g,_,S,M){var V=[],U=h.infoData_.getNode(g._path);return U.isEmpty()||(V=cu(h.infoSyncTree_,g._path,U),setTimeout(function(){M("ok")},0)),V},stopListening:function(){}}),r_(h,"connected",!1),h.serverSyncTree_=new N0({startListening:function(g,_,S,M){return h.server_.listen(g,S,_,function(V,U){var $=M(V,U);io(h.eventQueue_,g._path,$)}),[]},stopListening:function(g,_){h.server_.unlisten(g,_)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ba(this._repo,Vn())),this._rootInternal},enumerable:!1,configurable:!0}),h.prototype._delete=function(){return null!==this._rootInternal&&(function hw(h,d){var f=h_[d];(!f||f[h.key]!==h)&&dn("Database "+d+"("+h.repoInfo_+") has already been deleted."),X0(h),delete f[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},h.prototype._checkNotDeleted=function(d){null===this._rootInternal&&dn("Cannot call "+d+" on a deleted database.")},h}();function mw(h){(h=(0,L.getModularInstance)(h))._checkNotDeleted("goOffline"),X0(h._repo)}function KO(h){(h=(0,L.getModularInstance)(h))._checkNotDeleted("goOnline"),function LT(h){h.persistentConnection_&&h.persistentConnection_.resume(um)}(h._repo)}var YO={".sv":"timestamp"},p_=function(){function h(d,f){this.committed=d,this.snapshot=f}return h.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},h}();function m_(h,d,f){var g;if(h=(0,L.getModularInstance)(h),sa("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";var _=null===(g=null==f?void 0:f.applyLocally)||void 0===g||g,S=new L.Deferred,V=u_(h,function(){});return function WO(h,d,f,g,_,S){mu(h,"transaction on "+d);var M={path:d,update:f,onComplete:g,status:null,order:cn(),applyLocally:S,retryCount:0,unwatcher:_,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},V=fc(h,d,void 0);M.currentInputSnapshot=V;var U=M.update(V.val());if(void 0===U)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{La("transaction failed: Data returned ",U,M.path),M.status=0;var $=lc(h.transactionQueueTree_,d),K=uc($)||[];K.push(M),sm($,K);var se=void 0;"object"==typeof U&&null!==U&&(0,L.contains)(U,".priority")?(se=(0,L.safeGet)(U,".priority"),(0,L.assert)(Fa(se),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):se=(du(h.serverSyncTree_,d)||Mt.EMPTY_NODE).getPriority().val();var Fe=$o(h),Xe=$n(U,se),Ht=jh(Xe,V,Fe);M.currentOutputSnapshotRaw=Xe,M.currentOutputSnapshotResolved=Ht,M.currentWriteId=dm(h);var yt=Yv(h.serverSyncTree_,d,Ht,M.currentWriteId,M.applyLocally);io(h.eventQueue_,d,yt),vd(h,h.transactionQueueTree_)}}(h._repo,h._path,d,function(U,$,K){var se=null;U?S.reject(U):(se=new Gh(K,new Ba(h._repo,h._path),ur),S.resolve(new p_($,se)))},V,_),S.promise}var XO=function(){function h(d){this._delegate=d}return h.prototype.cancel=function(d){(0,L.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,L.validateCallback)("OnDisconnect.cancel","onComplete",d,!0);var f=this._delegate.cancel();return d&&f.then(function(){return d(null)},function(g){return d(g)}),f},h.prototype.remove=function(d){(0,L.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,L.validateCallback)("OnDisconnect.remove","onComplete",d,!0);var f=this._delegate.remove();return d&&f.then(function(){return d(null)},function(g){return d(g)}),f},h.prototype.set=function(d,f){(0,L.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,L.validateCallback)("OnDisconnect.set","onComplete",f,!0);var g=this._delegate.set(d);return f&&g.then(function(){return f(null)},function(_){return f(_)}),g},h.prototype.setWithPriority=function(d,f,g){(0,L.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.validateCallback)("OnDisconnect.setWithPriority","onComplete",g,!0);var _=this._delegate.setWithPriority(d,f);return g&&_.then(function(){return g(null)},function(S){return g(S)}),_},h.prototype.update=function(d,f){if((0,L.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var g={},_=0;_<d.length;++_)g[""+_]=d[_];d=g,ie("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.validateCallback)("OnDisconnect.update","onComplete",f,!0);var S=this._delegate.update(d);return f&&S.then(function(){return f(null)},function(M){return f(M)}),S},h}(),ZO=function(){function h(d,f){this.committed=d,this.snapshot=f}return h.prototype.toJSON=function(){return(0,L.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},h}(),wd=function(){function h(d,f){this._database=d,this._delegate=f}return h.prototype.val=function(){return(0,L.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},h.prototype.exportVal=function(){return(0,L.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},h.prototype.toJSON=function(){return(0,L.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},h.prototype.exists=function(){return(0,L.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},h.prototype.child=function(d){return(0,L.validateArgCount)("DataSnapshot.child",0,1,arguments.length),d=String(d),We("DataSnapshot.child","path",d,!1),new h(this._database,this._delegate.child(d))},h.prototype.hasChild=function(d){return(0,L.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),We("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},h.prototype.getPriority=function(){return(0,L.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},h.prototype.forEach=function(d){var f=this;return(0,L.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,L.validateCallback)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(g){return d(new h(f._database,g))})},h.prototype.hasChildren=function(){return(0,L.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(h.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),h.prototype.numChildren=function(){return(0,L.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},h.prototype.getRef=function(){return(0,L.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new gc(this._database,this._delegate.ref)},Object.defineProperty(h.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),h}(),gw=function(){function h(d,f){this.database=d,this._delegate=f}return h.prototype.on=function(d,f,g,_){var M,S=this;(0,L.validateArgCount)("Query.on",2,4,arguments.length),(0,L.validateCallback)("Query.on","callback",f,!1);var V=h.getCancelAndContextArgs_("Query.on",g,_),U=function(K,se){f.call(V.context,new wd(S.database,K),se)};U.userCallback=f,U.context=V.context;var $=null===(M=V.cancel)||void 0===M?void 0:M.bind(V.context);switch(d){case"value":return u_(this._delegate,U,$),f;case"child_added":return sw(this._delegate,U,$),f;case"child_removed":return pc(this._delegate,U,$),f;case"child_changed":return Xh(this._delegate,U,$),f;case"child_moved":return mm(this._delegate,U,$),f;default:throw new Error((0,L.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},h.prototype.off=function(d,f,g){if((0,L.validateArgCount)("Query.off",0,3,arguments.length),UO("Query.off",d,!0),(0,L.validateCallback)("Query.off","callback",f,!0),(0,L.validateContextObject)("Query.off","context",g,!0),f){var _=function(){};_.userCallback=f,_.context=g,aw(this._delegate,d,_)}else aw(this._delegate,d)},h.prototype.get=function(){var d=this;return iw(this._delegate).then(function(f){return new wd(d.database,f)})},h.prototype.once=function(d,f,g,_){var S=this;(0,L.validateArgCount)("Query.once",1,4,arguments.length),(0,L.validateCallback)("Query.once","callback",f,!0);var M=h.getCancelAndContextArgs_("Query.once",g,_),V=new L.Deferred,U=function(K,se){var pe=new wd(S.database,K);f&&f.call(M.context,pe,se),V.resolve(pe)};U.userCallback=f,U.context=M.context;var $=function(K){M.cancel&&M.cancel.call(M.context,K),V.reject(K)};switch(d){case"value":u_(this._delegate,U,$,{onlyOnce:!0});break;case"child_added":sw(this._delegate,U,$,{onlyOnce:!0});break;case"child_removed":pc(this._delegate,U,$,{onlyOnce:!0});break;case"child_changed":Xh(this._delegate,U,$,{onlyOnce:!0});break;case"child_moved":mm(this._delegate,U,$,{onlyOnce:!0});break;default:throw new Error((0,L.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return V.promise},h.prototype.limitToFirst=function(d){return(0,L.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new h(this.database,ua(this._delegate,KT(d)))},h.prototype.limitToLast=function(d){return(0,L.validateArgCount)("Query.limitToLast",1,1,arguments.length),new h(this.database,ua(this._delegate,QT(d)))},h.prototype.orderByChild=function(d){return(0,L.validateArgCount)("Query.orderByChild",1,1,arguments.length),new h(this.database,ua(this._delegate,Ua(d)))},h.prototype.orderByKey=function(){return(0,L.validateArgCount)("Query.orderByKey",0,0,arguments.length),new h(this.database,ua(this._delegate,XT()))},h.prototype.orderByPriority=function(){return(0,L.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new h(this.database,ua(this._delegate,JT()))},h.prototype.orderByValue=function(){return(0,L.validateArgCount)("Query.orderByValue",0,0,arguments.length),new h(this.database,ua(this._delegate,tD()))},h.prototype.startAt=function(d,f){return void 0===d&&(d=null),(0,L.validateArgCount)("Query.startAt",0,2,arguments.length),new h(this.database,ua(this._delegate,uw(d,f)))},h.prototype.startAfter=function(d,f){return void 0===d&&(d=null),(0,L.validateArgCount)("Query.startAfter",0,2,arguments.length),new h(this.database,ua(this._delegate,WT(d,f)))},h.prototype.endAt=function(d,f){return void 0===d&&(d=null),(0,L.validateArgCount)("Query.endAt",0,2,arguments.length),new h(this.database,ua(this._delegate,gm(d,f)))},h.prototype.endBefore=function(d,f){return void 0===d&&(d=null),(0,L.validateArgCount)("Query.endBefore",0,2,arguments.length),new h(this.database,ua(this._delegate,lw(d,f)))},h.prototype.equalTo=function(d,f){return(0,L.validateArgCount)("Query.equalTo",1,2,arguments.length),new h(this.database,ua(this._delegate,nD(d,f)))},h.prototype.toString=function(){return(0,L.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},h.prototype.toJSON=function(){return(0,L.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},h.prototype.isEqual=function(d){if((0,L.validateArgCount)("Query.isEqual",1,1,arguments.length),!(d instanceof h)){var f="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(f)}return this._delegate.isEqual(d._delegate)},h.getCancelAndContextArgs_=function(d,f,g){var _={cancel:void 0,context:void 0};if(f&&g)_.cancel=f,(0,L.validateCallback)(d,"cancel",_.cancel,!0),_.context=g,(0,L.validateContextObject)(d,"context",_.context,!0);else if(f)if("object"==typeof f&&null!==f)_.context=f;else{if("function"!=typeof f)throw new Error((0,L.errorPrefix)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");_.cancel=f}return _},Object.defineProperty(h.prototype,"ref",{get:function(){return new gc(this.database,new Ba(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),h}(),gc=function(h){function d(f,g){var _=h.call(this,f,new Co(g._repo,g._path,new id,!1))||this;return _.database=f,_._delegate=g,_}return(0,fe.__extends)(d,h),d.prototype.getKey=function(){return(0,L.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(f){return(0,L.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof f&&(f=String(f)),new d(this.database,vu(this._delegate,f))},d.prototype.getParent=function(){(0,L.validateArgCount)("Reference.parent",0,0,arguments.length);var f=this._delegate.parent;return f?new d(this.database,f):null},d.prototype.getRoot=function(){return(0,L.validateArgCount)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(f,g){(0,L.validateArgCount)("Reference.set",1,2,arguments.length),(0,L.validateCallback)("Reference.set","onComplete",g,!0);var _=_u(this._delegate,f);return g&&_.then(function(){return g(null)},function(S){return g(S)}),_},d.prototype.update=function(f,g){if((0,L.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(f)){for(var _={},S=0;S<f.length;++S)_[""+S]=f[S];f=_,ie("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sa("Reference.update",this._delegate._path),(0,L.validateCallback)("Reference.update","onComplete",g,!0);var M=GO(this._delegate,f);return g&&M.then(function(){return g(null)},function(V){return g(V)}),M},d.prototype.setWithPriority=function(f,g,_){(0,L.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,L.validateCallback)("Reference.setWithPriority","onComplete",_,!0);var S=zT(this._delegate,f,g);return _&&S.then(function(){return _(null)},function(M){return _(M)}),S},d.prototype.remove=function(f){(0,L.validateArgCount)("Reference.remove",0,1,arguments.length),(0,L.validateCallback)("Reference.remove","onComplete",f,!0);var g=HT(this._delegate);return f&&g.then(function(){return f(null)},function(_){return f(_)}),g},d.prototype.transaction=function(f,g,_){var S=this;(0,L.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,L.validateCallback)("Reference.transaction","transactionUpdate",f,!1),(0,L.validateCallback)("Reference.transaction","onComplete",g,!0),jO("Reference.transaction","applyLocally",_,!0);var M=m_(this._delegate,f,{applyLocally:_}).then(function(V){return new ZO(V.committed,new wd(S.database,V.snapshot))});return g&&M.then(function(V){return g(null,V.committed,V.snapshot)},function(V){return g(V,!1,null)}),M},d.prototype.setPriority=function(f,g){(0,L.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,L.validateCallback)("Reference.setPriority","onComplete",g,!0);var _=Yh(this._delegate,f);return g&&_.then(function(){return g(null)},function(S){return g(S)}),_},d.prototype.push=function(f,g){var _=this;(0,L.validateArgCount)("Reference.push",0,2,arguments.length),(0,L.validateCallback)("Reference.push","onComplete",g,!0);var S=jT(this._delegate,f),M=S.then(function(U){return new d(_.database,U)});g&&M.then(function(){return g(null)},function(U){return g(U)});var V=new d(this.database,S);return V.then=M.then.bind(M),V.catch=M.catch.bind(M,void 0),V},d.prototype.onDisconnect=function(){return sa("Reference.onDisconnect",this._delegate._path),new XO(new UT(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(gw),vm=function(){function h(d,f){var g=this;this._delegate=d,this.app=f,this.INTERNAL={delete:function(){return g._delegate._delete()}}}return h.prototype.useEmulator=function(d,f,g){void 0===g&&(g={}),function pw(h,d,f,g){void 0===g&&(g={}),(h=(0,L.getModularInstance)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");var _=h._repoInternal,S=void 0;if(_.repoInfo_.nodeAdmin)g.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new tn(tn.OWNER);else if(g.mockUserToken){var M="string"==typeof g.mockUserToken?g.mockUserToken:(0,L.createMockUserToken)(g.mockUserToken,h.app.options.projectId);S=new tn(M)}!function oD(h,d,f,g){h.repoInfo_=new Xi(d+":"+f,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams),g&&(h.authTokenProvider_=g)}(_,d,f,S)}(this._delegate,d,f,g)},h.prototype.ref=function(d){if((0,L.validateArgCount)("database.ref",0,1,arguments.length),d instanceof gc){var f=Kh(this._delegate,d.toString());return new gc(this,f)}return f=pm(this._delegate,d),new gc(this,f)},h.prototype.refFromURL=function(d){var f="database.refFromURL";(0,L.validateArgCount)(f,1,1,arguments.length);var g=Kh(this._delegate,d);return new gc(this,g)},h.prototype.goOffline=function(){return(0,L.validateArgCount)("database.goOffline",0,0,arguments.length),mw(this._delegate)},h.prototype.goOnline=function(){return(0,L.validateArgCount)("database.goOnline",0,0,arguments.length),KO(this._delegate)},h.ServerValue={TIMESTAMP:YO,increment:function(d){return function f_(h){return{".sv":{increment:h}}}(d)}},h}(),__=Object.freeze({__proto__:null,forceLongPolling:function(){fl.forceDisallow(),Or.forceAllow()},forceWebSockets:function(){Or.forceDisallow()},isWebSocketsAvailable:function(){return fl.isAvailable()},setSecurityDebugCallback:function(h,d){h._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(h,d){!function VT(h,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var f;d?(h.statsListener_||(h.statsListener_=new jp(h.stats_)),f=h.statsListener_.get()):f=h.stats_.get();var g=Object.keys(f).reduce(function(_,S){return Math.max(S.length,_)},0);en(f,function(_,S){for(var M=_,V=_.length;V<g+2;V++)M+=" ";console.log(M+S)})}}(h._delegate._repo,d)},statsIncrementCounter:function(h,d){!function Z0(h,d){h.stats_.incrementCounter(d),function v0(h,d){h.statsToReport_[d]=!0}(h.statsReporter_,d)}(h._delegate._repo,d)},dataUpdateCount:function(h){return h._delegate._repo.dataUpdateCount},interceptServerData:function(h,d){return function cm(h,d){h.interceptServerDataCallback_=d}(h._delegate._repo,d)},initStandalone:function lD(h){var d=h.app,f=h.url,_=h.customAuthImpl,S=h.namespace,M=h.nodeAdmin,V=void 0!==M&&M;at(h.version);var U=new wt.Provider("auth-internal",new wt.ComponentContainer("database-standalone"));return U.setComponent(new wt.Component("auth-internal",function(){return _},"PRIVATE")),{instance:new vm(bd(d,U,void 0,f,V),d),namespace:S}}}),yw=gl;gl.prototype.simpleListen=function(h,d){this.sendRequest("q",{p:h},d)},gl.prototype.echo=function(h,d){this.sendRequest("echo",{d:h},d)};var JO=Object.freeze({__proto__:null,DataConnection:yw,RealTimeConnection:Rp,hijackHash:function(h){var d=gl.prototype.put;return gl.prototype.put=function(f,g,_,S){void 0!==S&&(S=h()),d.call(this,f,g,_,S)},function(){gl.prototype.put=d}},ConnectionTarget:Xi,queryIdentifier:function(h){return h._delegate._queryIdentifier},forceRestClient:function(h){!function Zh(h){iD=h}(h)}}),eN=vm.ServerValue;!function Jh(h){at(h.SDK_VERSION);var d=h.INTERNAL.registerComponent(new wt.Component("database",function(f,g){var _=g.instanceIdentifier,S=f.getProvider("app").getImmediate(),M=f.getProvider("auth-internal"),V=f.getProvider("app-check-internal");return new vm(bd(S,M,V,_),S)},"PUBLIC").setServiceProps({Reference:gc,Query:gw,Database:vm,DataSnapshot:wd,enableLogging:Nt,INTERNAL:__,ServerValue:eN,TEST_ACCESS:JO}).setMultipleInstances(!0));h.registerVersion("@firebase/database","0.11.0"),(0,L.isNodeSdk)()&&(Uo.exports=d)}(ze.default)},3:(Uo,wr,_t)=>{"use strict";function ze(){for(var Ue=0,Me=0,He=arguments.length;Me<He;Me++)Ue+=arguments[Me].length;var Ct=Array(Ue),cn=0;for(Me=0;Me<He;Me++)for(var Be=arguments[Me],tt=0,ht=Be.length;tt<ht;tt++,cn++)Ct[cn]=Be[tt];return Ct}_t.r(wr),_t.d(wr,{LogLevel:()=>fe,Logger:()=>at,setLogLevel:()=>_e,setUserLogHandler:()=>Je});var wt,L=[],fe=(()=>{return(Ue=fe||(fe={}))[Ue.DEBUG=0]="DEBUG",Ue[Ue.VERBOSE=1]="VERBOSE",Ue[Ue.INFO=2]="INFO",Ue[Ue.WARN=3]="WARN",Ue[Ue.ERROR=4]="ERROR",Ue[Ue.SILENT=5]="SILENT",fe;var Ue})(),Tt={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Xr=fe.INFO,cr=((wt={})[fe.DEBUG]="log",wt[fe.VERBOSE]="log",wt[fe.INFO]="info",wt[fe.WARN]="warn",wt[fe.ERROR]="error",wt),In=function(Ue,Me){for(var He=[],Ct=2;Ct<arguments.length;Ct++)He[Ct-2]=arguments[Ct];if(!(Me<Ue.logLevel)){var cn=(new Date).toISOString(),Be=cr[Me];if(!Be)throw new Error("Attempted to log a message with an invalid logType (value: "+Me+")");console[Be].apply(console,ze(["["+cn+"]  "+Ue.name+":"],He))}},at=function(){function Ue(Me){this.name=Me,this._logLevel=Xr,this._logHandler=In,this._userLogHandler=null,L.push(this)}return Object.defineProperty(Ue.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Me){if(!(Me in fe))throw new TypeError('Invalid value "'+Me+'" assigned to `logLevel`');this._logLevel=Me},enumerable:!1,configurable:!0}),Ue.prototype.setLogLevel=function(Me){this._logLevel="string"==typeof Me?Tt[Me]:Me},Object.defineProperty(Ue.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Me){this._userLogHandler=Me},enumerable:!1,configurable:!0}),Ue.prototype.debug=function(){for(var Me=[],He=0;He<arguments.length;He++)Me[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,fe.DEBUG],Me)),this._logHandler.apply(this,ze([this,fe.DEBUG],Me))},Ue.prototype.log=function(){for(var Me=[],He=0;He<arguments.length;He++)Me[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,fe.VERBOSE],Me)),this._logHandler.apply(this,ze([this,fe.VERBOSE],Me))},Ue.prototype.info=function(){for(var Me=[],He=0;He<arguments.length;He++)Me[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,fe.INFO],Me)),this._logHandler.apply(this,ze([this,fe.INFO],Me))},Ue.prototype.warn=function(){for(var Me=[],He=0;He<arguments.length;He++)Me[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,fe.WARN],Me)),this._logHandler.apply(this,ze([this,fe.WARN],Me))},Ue.prototype.error=function(){for(var Me=[],He=0;He<arguments.length;He++)Me[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,fe.ERROR],Me)),this._logHandler.apply(this,ze([this,fe.ERROR],Me))},Ue}();function _e(Ue){L.forEach(function(Me){Me.setLogLevel(Ue)})}function Je(Ue,Me){for(var He=function(tt){var ht=null;Me&&Me.level&&(ht=Tt[Me.level]),tt.userLogHandler=null===Ue?null:function(Pt,Nt){for(var ct=[],Gn=2;Gn<arguments.length;Gn++)ct[Gn-2]=arguments[Gn];var ai=ct.map(function(dn){if(null==dn)return null;if("string"==typeof dn)return dn;if("number"==typeof dn||"boolean"==typeof dn)return dn.toString();if(dn instanceof Error)return dn.message;try{return JSON.stringify(dn)}catch(ie){return null}}).filter(function(dn){return dn}).join(" ");Nt>=(null!=ht?ht:Pt.logLevel)&&Ue({level:fe[Nt].toLowerCase(),message:ai,args:ct,type:Pt.name})}},Ct=0,cn=L;Ct<cn.length;Ct++)He(cn[Ct])}},492:(Uo,wr,_t)=>{"use strict";_t.r(wr),_t.d(wr,{CONSTANTS:()=>wt,Deferred:()=>He,ErrorFactory:()=>Ye,FirebaseError:()=>Re,MAX_VALUE_MILLIS:()=>Fi,RANDOM_FACTOR:()=>Qn,Sha1:()=>fr,areCookiesEnabled:()=>Ae,assert:()=>L,assertionError:()=>fe,async:()=>ui,base64:()=>cr,base64Decode:()=>_e,base64Encode:()=>In,base64urlEncodeWithoutPadding:()=>at,calculateBackoffMillis:()=>Xl,contains:()=>zr,createMockUserToken:()=>Ct,createSubscribe:()=>Tn,decode:()=>Ie,deepCopy:()=>Je,deepEqual:()=>Zs,deepExtend:()=>Ue,errorPrefix:()=>ea,extractQuerystring:()=>tn,getGlobal:()=>ve,getModularInstance:()=>Ms,getUA:()=>cn,isAdmin:()=>Bt,isBrowser:()=>ht,isBrowserExtension:()=>Pt,isElectron:()=>ct,isEmpty:()=>k,isIE:()=>Gn,isIndexedDBAvailable:()=>me,isMobileCordova:()=>Be,isNode:()=>tt,isNodeSdk:()=>dn,isReactNative:()=>Nt,isSafari:()=>ie,isUWP:()=>ai,isValidFormat:()=>Et,isValidTimestamp:()=>Ge,issuedAtTime:()=>zt,jsonEval:()=>kt,map:()=>li,ordinal:()=>Zl,querystring:()=>ks,querystringDecode:()=>hn,safeGet:()=>ye,stringLength:()=>qn,stringToByteArray:()=>Xi,stringify:()=>en,validateArgCount:()=>Js,validateCallback:()=>ci,validateContextObject:()=>mo,validateIndexedDBOpenable:()=>ge,validateNamespace:()=>ln});var ze=_t(655),wt={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},L=function(Z,X){if(!Z)throw fe(X)},fe=function(Z){return new Error("Firebase Database ("+wt.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Z)},Tt=function(Z){for(var X=[],re=0,B=0;B<Z.length;B++){var q=Z.charCodeAt(B);q<128?X[re++]=q:q<2048?(X[re++]=q>>6|192,X[re++]=63&q|128):55296==(64512&q)&&B+1<Z.length&&56320==(64512&Z.charCodeAt(B+1))?(q=65536+((1023&q)<<10)+(1023&Z.charCodeAt(++B)),X[re++]=q>>18|240,X[re++]=q>>12&63|128,X[re++]=q>>6&63|128,X[re++]=63&q|128):(X[re++]=q>>12|224,X[re++]=q>>6&63|128,X[re++]=63&q|128)}return X},cr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Z,X){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var re=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[],q=0;q<Z.length;q+=3){var ee=Z[q],ue=q+1<Z.length,Se=ue?Z[q+1]:0,Oe=q+2<Z.length,lt=Oe?Z[q+2]:0,It=(15&Se)<<2|lt>>6,nr=63&lt;Oe||(nr=64,ue||(It=64)),B.push(re[ee>>2],re[(3&ee)<<4|Se>>4],re[It],re[nr])}return B.join("")},encodeString:function(Z,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(Z):this.encodeByteArray(Tt(Z),X)},decodeString:function(Z,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(Z):function(Z){for(var X=[],re=0,B=0;re<Z.length;){var q=Z[re++];if(q<128)X[B++]=String.fromCharCode(q);else if(q>191&&q<224){var ee=Z[re++];X[B++]=String.fromCharCode((31&q)<<6|63&ee)}else if(q>239&&q<365){var Oe=((7&q)<<18|(63&(ee=Z[re++]))<<12|(63&(ue=Z[re++]))<<6|63&Z[re++])-65536;X[B++]=String.fromCharCode(55296+(Oe>>10)),X[B++]=String.fromCharCode(56320+(1023&Oe))}else{ee=Z[re++];var ue=Z[re++];X[B++]=String.fromCharCode((15&q)<<12|(63&ee)<<6|63&ue)}}return X.join("")}(this.decodeStringToByteArray(Z,X))},decodeStringToByteArray:function(Z,X){this.init_();for(var re=X?this.charToByteMapWebSafe_:this.charToByteMap_,B=[],q=0;q<Z.length;){var ee=re[Z.charAt(q++)],Se=q<Z.length?re[Z.charAt(q)]:0,lt=++q<Z.length?re[Z.charAt(q)]:64,tr=++q<Z.length?re[Z.charAt(q)]:64;if(++q,null==ee||null==Se||null==lt||null==tr)throw Error();B.push(ee<<2|Se>>4),64!==lt&&(B.push(Se<<4&240|lt>>2),64!==tr&&B.push(lt<<6&192|tr))}return B},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},In=function(Z){var X=Tt(Z);return cr.encodeByteArray(X,!0)},at=function(Z){return In(Z).replace(/\./g,"")},_e=function(Z){try{return cr.decodeString(Z,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function Je(Z){return Ue(void 0,Z)}function Ue(Z,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return X}for(var B in X)!X.hasOwnProperty(B)||!Me(B)||(Z[B]=Ue(Z[B],X[B]));return Z}function Me(Z){return"__proto__"!==Z}var He=function(){function Z(){var X=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(re,B){X.resolve=re,X.reject=B})}return Z.prototype.wrapCallback=function(X){var re=this;return function(B,q){B?re.reject(B):re.resolve(q),"function"==typeof X&&(re.promise.catch(function(){}),1===X.length?X(B):X(B,q))}},Z}();function Ct(Z,X){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var B=X||"demo-project",q=Z.iat||0,ee=Z.sub||Z.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ue=(0,ze.__assign)({iss:"https://securetoken.google.com/"+B,aud:B,iat:q,exp:q+3600,auth_time:q,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(ue)),""].join(".")}function cn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function tt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ht(){return"object"==typeof self&&self.self===self}function Pt(){var Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return cn().indexOf("Electron/")>=0}function Gn(){var Z=cn();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ai(){return cn().indexOf("MSAppHost/")>=0}function dn(){return!0===wt.NODE_CLIENT||!0===wt.NODE_ADMIN}function ie(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){return"indexedDB"in self&&null!=indexedDB}function ge(){return new Promise(function(Z,X){try{var re=!0,B="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(B);q.onsuccess=function(){q.result.close(),re||self.indexedDB.deleteDatabase(B),Z(!0)},q.onupgradeneeded=function(){re=!1},q.onerror=function(){var ee;X((null===(ee=q.error)||void 0===ee?void 0:ee.message)||"")}}catch(ee){X(ee)}})}function Ae(){return!(!navigator||!navigator.cookieEnabled)}function ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Re=function(Z){function X(re,B,q){var ee=Z.call(this,B)||this;return ee.code=re,ee.customData=q,ee.name="FirebaseError",Object.setPrototypeOf(ee,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(ee,Ye.prototype.create),ee}return(0,ze.__extends)(X,Z),X}(Error),Ye=function(){function Z(X,re,B){this.service=X,this.serviceName=re,this.errors=B}return Z.prototype.create=function(X){for(var re=[],B=1;B<arguments.length;B++)re[B-1]=arguments[B];var q=re[0]||{},ee=this.service+"/"+X,ue=this.errors[X],Se=ue?Jt(ue,q):"Error",Oe=this.serviceName+": "+Se+" ("+ee+").",lt=new Re(ee,Oe,q);return lt},Z}();function Jt(Z,X){return Z.replace(Rr,function(re,B){var q=X[B];return null!=q?String(q):"<"+B+"?>"})}var Rr=/\{\$([^}]+)}/g;function kt(Z){return JSON.parse(Z)}function en(Z){return JSON.stringify(Z)}var Ie=function(Z){var X={},re={},B={},q="";try{var ee=Z.split(".");X=kt(_e(ee[0])||""),re=kt(_e(ee[1])||""),q=ee[2],B=re.d||{},delete re.d}catch(ue){}return{header:X,claims:re,data:B,signature:q}},Ge=function(Z){var X=Ie(Z).claims,re=Math.floor((new Date).getTime()/1e3),B=0,q=0;return"object"==typeof X&&(X.hasOwnProperty("nbf")?B=X.nbf:X.hasOwnProperty("iat")&&(B=X.iat),q=X.hasOwnProperty("exp")?X.exp:B+86400),!!re&&!!B&&!!q&&re>=B&&re<=q},zt=function(Z){var X=Ie(Z).claims;return"object"==typeof X&&X.hasOwnProperty("iat")?X.iat:null},Et=function(Z){var re=Ie(Z).claims;return!!re&&"object"==typeof re&&re.hasOwnProperty("iat")},Bt=function(Z){var X=Ie(Z).claims;return"object"==typeof X&&!0===X.admin};function zr(Z,X){return Object.prototype.hasOwnProperty.call(Z,X)}function ye(Z,X){if(Object.prototype.hasOwnProperty.call(Z,X))return Z[X]}function k(Z){for(var X in Z)if(Object.prototype.hasOwnProperty.call(Z,X))return!1;return!0}function li(Z,X,re){var B={};for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(B[q]=X.call(re,Z[q],q,Z));return B}function Zs(Z,X){if(Z===X)return!0;for(var re=Object.keys(Z),B=Object.keys(X),q=0,ee=re;q<ee.length;q++){if(!B.includes(ue=ee[q]))return!1;var Se=Z[ue],Oe=X[ue];if(Ni(Se)&&Ni(Oe)){if(!Zs(Se,Oe))return!1}else if(Se!==Oe)return!1}for(var lt=0,fn=B;lt<fn.length;lt++){var ue;if(!re.includes(ue=fn[lt]))return!1}return!0}function Ni(Z){return null!==Z&&"object"==typeof Z}function ks(Z){for(var X=[],re=function(Oe,lt){Array.isArray(lt)?lt.forEach(function(fn){X.push(encodeURIComponent(Oe)+"="+encodeURIComponent(fn))}):X.push(encodeURIComponent(Oe)+"="+encodeURIComponent(lt))},B=0,q=Object.entries(Z);B<q.length;B++){var ee=q[B];re(ee[0],ee[1])}return X.length?"&"+X.join("&"):""}function hn(Z){var X={};return Z.replace(/^\?/,"").split("&").forEach(function(B){if(B){var q=B.split("="),ue=q[1];X[decodeURIComponent(q[0])]=decodeURIComponent(ue)}}),X}function tn(Z){var X=Z.indexOf("?");if(!X)return"";var re=Z.indexOf("#",X);return Z.substring(X,re>0?re:void 0)}var fr=function(){function Z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}return Z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Z.prototype.compress_=function(X,re){re||(re=0);var B=this.W_;if("string"==typeof X)for(var q=0;q<16;q++)B[q]=X.charCodeAt(re)<<24|X.charCodeAt(re+1)<<16|X.charCodeAt(re+2)<<8|X.charCodeAt(re+3),re+=4;else for(q=0;q<16;q++)B[q]=X[re]<<24|X[re+1]<<16|X[re+2]<<8|X[re+3],re+=4;for(q=16;q<80;q++)B[q]=4294967295&((ee=B[q-3]^B[q-8]^B[q-14]^B[q-16])<<1|ee>>>31);var tr,It,ue=this.chain_[0],Se=this.chain_[1],Oe=this.chain_[2],lt=this.chain_[3],fn=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(tr=lt^Se&(Oe^lt),It=1518500249):(tr=Se^Oe^lt,It=1859775393):q<60?(tr=Se&Oe|lt&(Se|Oe),It=2400959708):(tr=Se^Oe^lt,It=3395469782);var ee=(ue<<5|ue>>>27)+tr+fn+It+B[q]&4294967295;fn=lt,lt=Oe,Oe=4294967295&(Se<<30|Se>>>2),Se=ue,ue=ee}this.chain_[0]=this.chain_[0]+ue&4294967295,this.chain_[1]=this.chain_[1]+Se&4294967295,this.chain_[2]=this.chain_[2]+Oe&4294967295,this.chain_[3]=this.chain_[3]+lt&4294967295,this.chain_[4]=this.chain_[4]+fn&4294967295},Z.prototype.update=function(X,re){if(null!=X){void 0===re&&(re=X.length);for(var B=re-this.blockSize,q=0,ee=this.buf_,ue=this.inbuf_;q<re;){if(0===ue)for(;q<=B;)this.compress_(X,q),q+=this.blockSize;if("string"==typeof X){for(;q<re;)if(ee[ue]=X.charCodeAt(q),++q,++ue===this.blockSize){this.compress_(ee),ue=0;break}}else for(;q<re;)if(ee[ue]=X[q],++q,++ue===this.blockSize){this.compress_(ee),ue=0;break}}this.inbuf_=ue,this.total_+=re}},Z.prototype.digest=function(){var X=[],re=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&re,re/=256;this.compress_(this.buf_);var q=0;for(B=0;B<5;B++)for(var ee=24;ee>=0;ee-=8)X[q]=this.chain_[B]>>ee&255,++q;return X},Z}();function Tn(Z,X){var re=new Ln(Z,X);return re.subscribe.bind(re)}var Ln=function(){function Z(X,re){var B=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(function(){X(B)}).catch(function(q){B.error(q)})}return Z.prototype.next=function(X){this.forEachObserver(function(re){re.next(X)})},Z.prototype.error=function(X){this.forEachObserver(function(re){re.error(X)}),this.close(X)},Z.prototype.complete=function(){this.forEachObserver(function(X){X.complete()}),this.close()},Z.prototype.subscribe=function(X,re,B){var ee,q=this;if(void 0===X&&void 0===re&&void 0===B)throw new Error("Missing Observer.");ee=function qt(Z,X){if("object"!=typeof Z||null===Z)return!1;for(var re=0,B=X;re<B.length;re++){var q=B[re];if(q in Z&&"function"==typeof Z[q])return!0}return!1}(X,["next","error","complete"])?X:{next:X,error:re,complete:B},void 0===ee.next&&(ee.next=Vr),void 0===ee.error&&(ee.error=Vr),void 0===ee.complete&&(ee.complete=Vr);var ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?ee.error(q.finalError):ee.complete()}catch(Se){}}),this.observers.push(ee),ue},Z.prototype.unsubscribeOne=function(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Z.prototype.forEachObserver=function(X){if(!this.finalized)for(var re=0;re<this.observers.length;re++)this.sendOne(re,X)},Z.prototype.sendOne=function(X,re){var B=this;this.task.then(function(){if(void 0!==B.observers&&void 0!==B.observers[X])try{re(B.observers[X])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},Z.prototype.close=function(X){var re=this;this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(function(){re.observers=void 0,re.onNoObservers=void 0}))},Z}();function ui(Z,X){return function(){for(var re=[],B=0;B<arguments.length;B++)re[B]=arguments[B];Promise.resolve(!0).then(function(){Z.apply(void 0,re)}).catch(function(q){X&&X(q)})}}function Vr(){}var Js=function(Z,X,re,B){var q;if(B<X?q="at least "+X:B>re&&(q=0===re?"none":"no more than "+re),q)throw new Error(Z+" failed: Was called with "+B+(1===B?" argument.":" arguments.")+" Expects "+q+".")};function ea(Z,X){return Z+" failed: "+X+" argument "}function ln(Z,X,re){if((!re||X)&&"string"!=typeof X)throw new Error(ea(Z,"namespace")+"must be a valid firebase namespace.")}function ci(Z,X,re,B){if((!B||re)&&"function"!=typeof re)throw new Error(ea(Z,X)+"must be a valid function.")}function mo(Z,X,re,B){if((!B||re)&&("object"!=typeof re||null===re))throw new Error(ea(Z,X)+"must be a valid context object.")}var Xi=function(Z){for(var X=[],re=0,B=0;B<Z.length;B++){var q=Z.charCodeAt(B);if(q>=55296&&q<=56319){var ee=q-55296;B++,L(B<Z.length,"Surrogate pair missing trail surrogate."),q=65536+(ee<<10)+(Z.charCodeAt(B)-56320)}q<128?X[re++]=q:q<2048?(X[re++]=q>>6|192,X[re++]=63&q|128):q<65536?(X[re++]=q>>12|224,X[re++]=q>>6&63|128,X[re++]=63&q|128):(X[re++]=q>>18|240,X[re++]=q>>12&63|128,X[re++]=q>>6&63|128,X[re++]=63&q|128)}return X},qn=function(Z){for(var X=0,re=0;re<Z.length;re++){var B=Z.charCodeAt(re);B<128?X++:B<2048?X+=2:B>=55296&&B<=56319?(X+=4,re++):X+=3}return X},Fi=144e5,Qn=.5;function Xl(Z,X,re){void 0===X&&(X=1e3),void 0===re&&(re=2);var B=X*Math.pow(re,Z),q=Math.round(Qn*B*(Math.random()-.5)*2);return Math.min(Fi,B+q)}function Zl(Z){return Number.isFinite(Z)?Z+function cl(Z){var X=(Z=Math.abs(Z))%100;if(X>=10&&X<=20)return"th";var re=Z%10;return 1===re?"st":2===re?"nd":3===re?"rd":"th"}(Z):""+Z}function Ms(Z){return Z&&Z._delegate?Z._delegate:Z}},192:(Uo,wr,_t)=>{"use strict";function ze(n){return"function"==typeof n}function wt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const L=wt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function fe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ze(r))try{r()}catch(o){e=o instanceof L?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{In(o)}catch(a){e=null!=e?e:[],a instanceof L?e=[...e,...a.errors]:e.push(a)}}if(e)throw new L(e)}}add(e){var t;if(e&&e!==this)if(this.closed)In(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fe(t,e)}remove(e){const{_finalizers:t}=this;t&&fe(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const Xr=Tt.EMPTY;function cr(n){return n instanceof Tt||n&&"closed"in n&&ze(n.remove)&&ze(n.add)&&ze(n.unsubscribe)}function In(n){ze(n)?n():n.unsubscribe()}const at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_e={setTimeout(n,e,...t){const{delegate:r}=_e;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=_e;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Je(n){_e.setTimeout(()=>{const{onUnhandledError:e}=at;if(!e)throw n;e(n)})}function Ue(){}const Me=cn("C",void 0,void 0);function cn(n,e,t){return{kind:n,value:e,error:t}}let Be=null;function tt(n){if(at.useDeprecatedSynchronousErrorHandling){const e=!Be;if(e&&(Be={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Be;if(Be=null,t)throw r}}else n()}class Pt extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cr(e)&&e.add(this)):this.destination=ge}static create(e,t,r){return new ai(e,t,r)}next(e){this.isStopped?me(function Ct(n){return cn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?me(function He(n){return cn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?me(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Nt=Function.prototype.bind;function ct(n,e){return Nt.call(n,e)}class Gn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dn(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dn(r)}else dn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dn(t)}}}class ai extends Pt{constructor(e,t,r){let i;if(super(),ze(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&at.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ct(e.next,o),error:e.error&&ct(e.error,o),complete:e.complete&&ct(e.complete,o)}):i=e}this.destination=new Gn(i)}}function dn(n){at.useDeprecatedSynchronousErrorHandling?function ht(n){at.useDeprecatedSynchronousErrorHandling&&Be&&(Be.errorThrown=!0,Be.error=n)}(n):Je(n)}function me(n,e){const{onStoppedNotification:t}=at;t&&_e.setTimeout(()=>t(n,e))}const ge={closed:!0,next:Ue,error:function ie(n){throw n},complete:Ue},Ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(n){return n}let Ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function kt(n){return n&&n instanceof Pt||function Rr(n){return n&&ze(n.next)&&ze(n.error)&&ze(n.complete)}(n)&&cr(n)}(t)?t:new ai(t,r,i);return tt(()=>{const{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Jt(r))((i,o)=>{const a=new ai({next:l=>{try{t(l)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ae](){return this}pipe(...t){return function Re(n){return 0===n.length?ve:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Jt(t))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return n.create=e=>new n(e),n})();function Jt(n){var e;return null!==(e=null!=n?n:at.Promise)&&void 0!==e?e:Promise}const en=wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ie=(()=>{class n extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ge(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new en}next(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Xr:(this.currentObservers=null,o.push(t),new Tt(()=>{this.currentObservers=null,fe(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ye;return t.source=this,t}}return n.create=(e,t)=>new Ge(e,t),n})();class Ge extends Ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Xr}}function zt(n){return ze(null==n?void 0:n.lift)}function Et(n){return e=>{if(zt(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bt(n,e,t,r,i){return new zr(n,e,t,r,i)}class zr extends Pt{constructor(e,t,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(c){e.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return Et((t,r)=>{let i=0;t.subscribe(Bt(r,o=>{r.next(n.call(e,o,i++))}))})}var k=_t(655);const li=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Zs(n){return ze(null==n?void 0:n.then)}function Ni(n){return ze(n[Ae])}function ks(n){return Symbol.asyncIterator&&ze(null==n?void 0:n[Symbol.asyncIterator])}function hn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fr=function tn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tn(n){return ze(null==n?void 0:n[fr])}function Ln(n){return(0,k.__asyncGenerator)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,k.__await)(t.read());if(i)return yield(0,k.__await)(void 0);yield yield(0,k.__await)(r)}}finally{t.releaseLock()}})}function ui(n){return ze(null==n?void 0:n.getReader)}function qt(n){if(n instanceof Ye)return n;if(null!=n){if(Ni(n))return function Vr(n){return new Ye(e=>{const t=n[Ae]();if(ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(li(n))return function Js(n){return new Ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Zs(n))return function ea(n){return new Ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Je)})}(n);if(ks(n))return ci(n);if(Tn(n))return function ln(n){return new Ye(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ui(n))return function mo(n){return ci(Ln(n))}(n)}throw hn(n)}function ci(n){return new Ye(e=>{(function Xi(n,e){var t,r,i,o;return(0,k.__awaiter)(this,void 0,void 0,function*(){try{for(t=(0,k.__asyncValues)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function qn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Cr(n,e,t=1/0){return ze(e)?Cr((r,i)=>ye((o,a)=>e(r,o,i,a))(qt(n(r,i))),t):("number"==typeof e&&(t=e),Et((r,i)=>function Pr(n,e,t,r,i,o,a,l){const c=[];let p=0,v=0,b=!1;const w=()=>{b&&!c.length&&!p&&e.complete()},I=N=>p<r?R(N):c.push(N),R=N=>{o&&e.next(N),p++;let z=!1;qt(t(N,v++)).subscribe(Bt(e,Q=>{null==i||i(Q),o?I(Q):e.next(Q)},()=>{z=!0},void 0,()=>{if(z)try{for(p--;c.length&&p<r;){const Q=c.shift();a?qn(e,a,()=>R(Q)):R(Q)}w()}catch(Q){e.error(Q)}}))};return n.subscribe(Bt(e,I,()=>{b=!0,w()})),()=>{null==l||l()}}(r,i,n,t)))}function Fi(n=1/0){return Cr(ve,n)}const Qn=new Ye(n=>n.complete());function cl(n){return n&&ze(n.schedule)}function Ms(n){return n[n.length-1]}function Z(n){return ze(Ms(n))?n.pop():void 0}function X(n){return cl(Ms(n))?n.pop():void 0}function B(n,e=0){return Et((t,r)=>{t.subscribe(Bt(r,i=>qn(r,n,()=>r.next(i),e),()=>qn(r,n,()=>r.complete(),e),i=>qn(r,n,()=>r.error(i),e)))})}function q(n,e=0){return Et((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lt(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ye(t=>{qn(t,e,()=>{const r=n[Symbol.asyncIterator]();qn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function It(n,e){return e?function tr(n,e){if(null!=n){if(Ni(n))return function ee(n,e){return qt(n).pipe(q(e),B(e))}(n,e);if(li(n))return function Se(n,e){return new Ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Zs(n))return function ue(n,e){return qt(n).pipe(q(e),B(e))}(n,e);if(ks(n))return lt(n,e);if(Tn(n))return function Oe(n,e){return new Ye(t=>{let r;return qn(t,e,()=>{r=n[fr](),qn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void t.error(a)}o?t.complete():t.next(i)},0,!0)}),()=>ze(null==r?void 0:r.return)&&r.return()})}(n,e);if(ui(n))return function fn(n,e){return lt(Ln(n),e)}(n,e)}throw hn(n)}(n,e):qt(n)}function nr(...n){const e=X(n),t=function re(n,e){return"number"==typeof Ms(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?qt(r[0]):Fi(t)(It(r,e)):Qn}function pr(n){return n<=0?()=>Qn:Et((e,t)=>{let r=0;e.subscribe(Bt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Or(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(pr(1)).subscribe(()=>n())}function wn(n){for(let e in n)if(n[e]===wn)return e;throw Error("Could not find renamed property on target object.")}function dl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function hl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const fl=wn({__forward_ref__:wn});function dr(n){return n.__forward_ref__=dr,n.toString=function(){return Xn(this())},n}function Yt(n){return Mp(n)?n():n}function Mp(n){return"function"==typeof n&&n.hasOwnProperty(fl)&&n.__forward_ref__===dr}class st extends Error{constructor(e,t){super(function Yu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function qe(n){return"string"==typeof n?n:null==n?"":String(n)}function Li(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qe(n)}function Qu(n,e){const t=e?` in ${e}`:"";throw new st(-201,`No provider for ${Li(n)} found${t}`)}function mn(n,e){null==n&&function rr(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ch(n){return td(n,nd)||td(n,ta)}function td(n,e){return n.hasOwnProperty(e)?n[e]:null}function ml(n){return n&&(n.hasOwnProperty(Ju)||n.hasOwnProperty(Pv))?n[Ju]:null}const nd=wn({\u0275prov:wn}),Ju=wn({\u0275inj:wn}),ta=wn({ngInjectableDef:wn}),Pv=wn({ngInjectorDef:wn});var Ot=(()=>((Ot=Ot||{})[Ot.Default=0]="Default",Ot[Ot.Host=1]="Host",Ot[Ot.Self=2]="Self",Ot[Ot.SkipSelf=4]="SkipSelf",Ot[Ot.Optional=8]="Optional",Ot))();let Eh;function na(n){const e=Eh;return Eh=n,e}function Op(n,e,t){const r=Ch(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ot.Optional?null:void 0!==e?e:void Qu(Xn(n),"Injector")}function Da(n){return{toString:n}.toString()}var Zr=(()=>((Zr=Zr||{})[Zr.OnPush=0]="OnPush",Zr[Zr.Default=1]="Default",Zr))(),eo=(()=>{return(n=eo||(eo={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",eo;var n})();const rd="undefined"!=typeof globalThis&&globalThis,Np="undefined"!=typeof window&&window,xs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yn=rd||"undefined"!=typeof global&&global||Np||xs,Jl={},Zn=[],eu=wn({\u0275cmp:wn}),Th=wn({\u0275dir:wn}),ec=wn({\u0275pipe:wn}),Dh=wn({\u0275mod:wn}),ss=wn({\u0275fac:wn}),Rs=wn({__NG_ELEMENT_ID__:wn});let Fp=0;function Ft(n){return Da(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Zn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||eo.Emulated,id:"c",styles:n.styles||Zn,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,a=n.pipes;return r.id+=Fp++,r.inputs=tc(n.inputs,t),r.outputs=tc(n.outputs),o&&o.forEach(l=>l(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Lp):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(Vp):null,r})}function Lp(n){return $r(n)||function to(n){return n[Th]||null}(n)}function Vp(n){return function Mt(n){return n[ec]||null}(n)}const ur={};function Cn(n){return Da(()=>{const e={type:n.type,bootstrap:n.bootstrap||Zn,declarations:n.declarations||Zn,imports:n.imports||Zn,exports:n.exports||Zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ur[n.id]=n.type),e})}function tc(n,e){if(null==n)return Jl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Le=Ft;function qr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function $r(n){return n[eu]||null}function vo(n,e){const t=n[Dh]||null;if(!t&&!0===e)throw new Error(`Type ${Xn(n)} does not have '\u0275mod' property.`);return t}function ls(n){return Array.isArray(n)&&"object"==typeof n[1]}function zo(n){return Array.isArray(n)&&!0===n[1]}function Ih(n){return 0!=(8&n.flags)}function od(n){return 2==(2&n.flags)}function _l(n){return 1==(1&n.flags)}function Ci(n){return null!==n.template}function kh(n){return 0!=(512&n[2])}function Ps(n,e){return n.hasOwnProperty(ss)?n[ss]:null}class ic{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nr(){return oc}function oc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Rh),wl}function wl(){const n=Bi(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Jl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Rh(n,e,t,r){const i=Bi(n)||function Os(n,e){return n[Kp]=e}(n,{previous:Jl,current:null}),o=i.current||(i.current={}),a=i.previous,l=this.declaredInputs[t],c=a[l];o[l]=new ic(c&&c.currentValue,e,a===Jl),n[r]=e}Nr.ngInherit=!0;const Kp="__ngSimpleChanges__";function Bi(n){return n[Kp]||null}let di;function au(){return void 0!==di?di:"undefined"!=typeof document?document:void 0}function Ar(n){return!!n.listen}const Yp={createRenderer:(n,e)=>au()};function Br(n){for(;Array.isArray(n);)n=n[0];return n}function C(n,e){return Br(e[n])}function E(n,e){return Br(e[n.index])}function W(n,e){return n.data[e]}function Ce(n,e){return n[e]}function et(n,e){const t=e[n];return ls(t)?t:t[0]}function Ir(n){return 4==(4&n[2])}function qo(n){return 128==(128&n[2])}function Ui(n,e){return null==e?null:n[e]}function sc(n){n[18]=0}function ud(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Wt={lFrame:Gv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function S0(){return Wt.bindingsEnabled}function xe(){return Wt.lFrame.lView}function Bn(){return Wt.lFrame.tView}function ft(n){return Wt.lFrame.contextLView=n,n[8]}function hi(){let n=zv();for(;null!==n&&64===n.type;)n=n.parent;return n}function zv(){return Wt.lFrame.currentTNode}function Ns(n,e){const t=Wt.lFrame;t.currentTNode=n,t.isParent=e}function Qp(){return Wt.lFrame.isParent}function qv(){Wt.lFrame.isParent=!1}function Xp(){return Wt.isInCheckNoChangesMode}function Zp(n){Wt.isInCheckNoChangesMode=n}function yo(){const n=Wt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function cd(){return Wt.lFrame.bindingIndex++}function Tl(n){const e=Wt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function k0(n,e){const t=Wt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wv(e)}function Wv(n){Wt.lFrame.currentDirectiveIndex=n}function Jp(n){const e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Fh(){return Wt.lFrame.currentQueryIndex}function em(n){Wt.lFrame.currentQueryIndex=n}function bT(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function x0(n,e,t){if(t&Ot.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Ot.Host||(i=bT(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Wt.lFrame=nm();return r.currentTNode=e,r.lView=n,!0}function tm(n){const e=nm(),t=n[1];Wt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nm(){const n=Wt.lFrame,e=null===n?null:n.child;return null===e?Gv(n):e}function Gv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function R0(){const n=Wt.lFrame;return Wt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const P0=R0;function Lh(){const n=R0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ro(){return Wt.lFrame.selectedIndex}function bo(n){Wt.lFrame.selectedIndex=n}function Tr(){const n=Wt.lFrame;return W(n.tView,n.selectedIndex)}function Fs(){Wt.lFrame.currentNamespace="svg"}function Kv(){!function CT(){Wt.lFrame.currentNamespace=null}()}function rm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:p,ngOnDestroy:v}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),p&&((n.viewHooks||(n.viewHooks=[])).push(t,p),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,p)),null!=v&&(n.destroyHooks||(n.destroyHooks=[])).push(t,v)}}function oa(n,e,t){F0(n,e,3,t)}function cu(n,e,t,r){(3&n[2])===t&&F0(n,e,t,r)}function Qv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function F0(n,e,t,r){const o=null!=r?r:-1,a=e.length-1;let l=0;for(let c=void 0!==r?65535&n[18]:0;c<a;c++)if("number"==typeof e[c+1]){if(l=e[c],null!=r&&l>=r)break}else e[c]<0&&(n[18]+=65536),(l<o||-1==o)&&(ET(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function ET(n,e,t,r){const i=t[r]<0,o=t[r+1],l=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(l)}finally{}}}else try{o.call(l)}finally{}}class Vh{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ac(n,e,t){const r=Ar(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const a=t[i++],l=t[i++],c=t[i++];r?n.setAttribute(e,l,c,a):e.setAttributeNS(a,l,c)}else{const a=o,l=t[++i];Uh(a)?r&&n.setProperty(e,a,l):r?n.setAttribute(e,a,l):e.setAttribute(a,l),i++}}return i}function Bh(n){return 3===n||4===n||6===n}function Uh(n){return 64===n.charCodeAt(0)}function hd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||im(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function im(n,e,t,r,i){let o=0,a=n.length;if(-1===e)a=-1;else for(;o<n.length;){const l=n[o++];if("number"==typeof l){if(l===e){a=-1;break}if(l>e){a=o-1;break}}}for(;o<n.length;){const l=n[o];if("number"==typeof l)break;if(l===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function B0(n){return-1!==n}function Na(n){return 32767&n}function fd(n,e){let t=function AT(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Zv=!0;function om(n){const e=Zv;return Zv=n,e}let IT=0;function pd(n,e){const t=Hh(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,jh(r.data,n),jh(e,null),jh(r.blueprint,null));const i=md(n,e),o=n.injectorIndex;if(B0(i)){const a=Na(i),l=fd(i,e),c=l[1].data;for(let p=0;p<8;p++)e[o+p]=l[a+p]|c[a+p]}return e[o+8]=i,o}function jh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Hh(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function md(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],a=o.type;if(r=2===a?o.declTNode:1===a?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function lc(n,e,t){!function kT(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Rs)&&(r=t[Rs]),null==r&&(r=t[Rs]=IT++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function sm(n,e,t){if(t&Ot.Optional)return n;Qu(e,"NodeInjector")}function e_(n,e,t,r){if(t&Ot.Optional&&void 0===r&&(r=null),0==(t&(Ot.Self|Ot.Host))){const i=n[9],o=na(void 0);try{return i?i.get(e,r,t&Ot.Optional):Op(e,r,t&Ot.Optional)}finally{na(o)}}return sm(r,e,t)}function j0(n,e,t,r=Ot.Default,i){if(null!==n){const o=function xT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Rs)?n[Rs]:void 0;return"number"==typeof e?e>=0?255&e:H0:e}(t);if("function"==typeof o){if(!x0(e,n,r))return r&Ot.Host?sm(i,t,r):e_(e,t,r,i);try{const a=o(r);if(null!=a||r&Ot.Optional)return a;Qu(t)}finally{P0()}}else if("number"==typeof o){let a=null,l=Hh(n,e),c=-1,p=r&Ot.Host?e[16][6]:null;for((-1===l||r&Ot.SkipSelf)&&(c=-1===l?md(n,e):e[l+8],-1!==c&&q0(r,!1)?(a=e[1],l=Na(c),e=fd(c,e)):l=-1);-1!==l;){const v=e[1];if(z0(o,l,v.data)){const b=MT(l,e,t,a,r,p);if(b!==zh)return b}c=e[l+8],-1!==c&&q0(r,e[1].data[l+8]===p)&&z0(o,l,e)?(a=v,l=Na(c),e=fd(c,e)):l=-1}}}return e_(e,t,r,i)}const zh={};function H0(){return new fu(hi(),xe())}function MT(n,e,t,r,i,o){const a=e[1],l=a.data[n+8],v=hu(l,a,t,null==r?od(l)&&Zv:r!=a&&0!=(3&l.type),i&Ot.Host&&o===l);return null!==v?cc(e,a,v,l):zh}function hu(n,e,t,r,i){const o=n.providerIndexes,a=e.data,l=1048575&o,c=n.directiveStart,v=o>>20,w=i?l+v:n.directiveEnd;for(let I=r?l:l+v;I<w;I++){const R=a[I];if(I<c&&t===R||I>=c&&R.type===t)return I}if(i){const I=a[c];if(I&&Ci(I)&&I.type===t)return c}return null}function cc(n,e,t,r){let i=n[t];const o=e.data;if(function ST(n){return n instanceof Vh}(i)){const a=i;a.resolving&&function xp(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new st(-200,`Circular dependency in DI detected for ${n}${t}`)}(Li(o[t]));const l=om(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?na(a.injectImpl):null;x0(n,r,Ot.Default);try{i=n[t]=a.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Yv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const a=oc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==c&&na(c),om(l),a.resolving=!1,P0()}}return i}function z0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function q0(n,e){return!(n&Ot.Self||n&Ot.Host&&e)}class fu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return j0(this._tNode,this._lView,e,r,t)}}function kn(n){return Da(()=>{const e=n.prototype.constructor,t=e[ss]||am(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ss]||am(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function am(n){return Mp(n)?()=>{const e=am(Yt(n));return e&&e()}:Ps(n)}function dc(n){return function uc(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Bh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(hi(),n)}const wo="__parameters__";function pu(n,e,t){return Da(()=>{const r=function lm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return l.annotation=a,l;function l(c,p,v){const b=c.hasOwnProperty(wo)?c[wo]:Object.defineProperty(c,wo,{value:[]})[wo];for(;b.length<=v;)b.push(null);return(b[v]=b[v]||[]).push(a),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class We{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=be({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const RT=new We("AnalyzeForEntryComponents");function cs(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),cs(r,e)):e!==n&&e.push(r)}return e}function $o(n,e){n.forEach(t=>Array.isArray(t)?$o(t,e):e(t))}function n_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function cm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function gd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ds(n,e,t){let r=hc(n,e);return r>=0?n[1|r]=t:(r=~r,function dm(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function i_(n,e){const t=hc(n,e);if(t>=0)return n[1|t]}function hc(n,e){return function Q0(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),a=n[o<<t];if(e===a)return o<<t;a>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const fc={},vd="__NG_DI_FLAG__",hm="ngTempTokenPath",BT=/\n/gm,s_="__source",ew=wn({provide:String,useValue:wn});let gu;function fm(n){const e=gu;return gu=n,e}function a_(n,e=Ot.Default){if(void 0===gu)throw new st(203,"");return null===gu?Op(n,void 0,e):gu.get(n,e&Ot.Optional?null:void 0,e)}function oe(n,e=Ot.Default){return(function Ov(){return Eh}()||a_)(Yt(n),e)}const Wh=oe;function l_(n){const e=[];for(let t=0;t<n.length;t++){const r=Yt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new st(900,"");let i,o=Ot.Default;for(let a=0;a<r.length;a++){const l=r[a],c=nw(l);"number"==typeof c?-1===c?i=l.token:o|=c:i=l}e.push(oe(i,o))}else e.push(oe(r))}return e}function yd(n,e){return n[vd]=e,n.prototype[vd]=e,n}function nw(n){return n[vd]}const Co=yd(pu("Inject",n=>({token:n})),-1),hs=yd(pu("Optional"),8),Va=yd(pu("SkipSelf"),4);let Xh,gm;function pc(n){var e;return(null===(e=function mm(){if(void 0===Xh&&(Xh=null,yn.trustedTypes))try{Xh=yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Xh}())||void 0===e?void 0:e.createHTML(n))||n}function lw(n){var e;return(null===(e=function c_(){if(void 0===gm&&(gm=null,yn.trustedTypes))try{gm=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return gm}())||void 0===e?void 0:e.createHTML(n))||n}class mc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class WT extends mc{getTypeName(){return"HTML"}}class GT extends mc{getTypeName(){return"Style"}}class KT extends mc{getTypeName(){return"Script"}}class YT extends mc{getTypeName(){return"URL"}}class QT extends mc{getTypeName(){return"ResourceURL"}}function fs(n){return n instanceof mc?n.changingThisBreaksApplicationSecurity:n}function Ua(n,e){const t=cw(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function cw(n){return n instanceof mc&&n.getTypeName()||null}class nD{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(pc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class ua{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=pc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=pc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const h_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oD=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bd(n){return(n=String(n)).match(h_)||n.match(oD)?n:"unsafe:"+n}function hw(n){return(n=String(n)).split(",").map(e=>bd(e.trim())).join(", ")}function ja(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Zh(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const fw=ja("area,br,col,hr,img,wbr"),pw=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mw=ja("rp,rt"),f_=Zh(fw,Zh(pw,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zh(mw,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zh(mw,pw)),p_=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m_=ja("srcset"),wd=Zh(p_,m_,ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gw=ja("script,style,template");class gc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!f_.hasOwnProperty(t))return this.sanitizedSomething=!0,!gw.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),a=o.name,l=a.toLowerCase();if(!wd.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=o.value;p_[l]&&(c=bd(c)),m_[l]&&(c=hw(c)),this.buf.push(" ",a,'="',vw(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();f_.hasOwnProperty(t)&&!fw.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vw(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const vm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sD=/([^\#-~ |!])/g;function vw(n){return n.replace(/&/g,"&amp;").replace(vm,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(sD,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _m;function _w(n,e){let t=null;try{_m=_m||function dw(n){const e=new ua(n);return function rD(){try{return!!(new window.DOMParser).parseFromString(pc(""),"text/html")}catch(n){return!1}}()?new nD(e):e}(n);let r=e?String(e):"";t=_m.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=_m.getInertBodyElement(r)}while(r!==o);return pc((new gc).sanitizeChildren(g_(t)||t))}finally{if(t){const r=g_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function g_(n){return"content"in n&&function aD(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function v_(n){const e=Jh();return e?lw(e.sanitize(vr.HTML,n)||""):Ua(n,"HTML")?lw(fs(n)):_w(au(),qe(n))}function __(n){const e=Jh();return e?e.sanitize(vr.URL,n)||"":Ua(n,"URL")?fs(n):bd(qe(n))}function Jh(){const n=xe();return n&&n[12]}const g="__ngContext__";function _(n,e){n[g]=e}function M(n){const e=function S(n){return n[g]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Ls(n){return n.ngOriginalError}function y_(n,...e){n.error(...e)}class vc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function ym(n){return n&&n.ngErrorLogger||y_}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ls(e);for(;t&&Ls(t);)t=Ls(t);return t||null}}const rK=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function yu(n){return n instanceof Function?n():n}var ca=(()=>((ca=ca||{})[ca.Important=1]="Important",ca[ca.DashCase=2]="DashCase",ca))();function gD(n,e){return undefined(n,e)}function b_(n){const e=n[3];return zo(e)?e[3]:e}function vD(n){return sN(n[13])}function _D(n){return sN(n[4])}function sN(n){for(;null!==n&&!zo(n);)n=n[4];return n}function wm(n,e,t,r,i){if(null!=r){let o,a=!1;zo(r)?o=r:ls(r)&&(a=!0,r=r[0]);const l=Br(r);0===n&&null!==t?null==i?hN(e,t,l):ef(e,t,l,i||null,!0):1===n&&null!==t?ef(e,t,l,i||null,!0):2===n?function yN(n,e,t){const r=bw(n,e);r&&function vK(n,e,t,r){Ar(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,l,a):3===n&&e.destroyNode(l),null!=o&&function bK(n,e,t,r,i){const o=t[7];o!==Br(t)&&wm(e,n,r,o,i);for(let l=10;l<t.length;l++){const c=t[l];w_(c[1],c,n,e,r,o)}}(e,n,o,t,i)}}function bD(n,e,t){if(Ar(n))return n.createElement(e,t);{const r=null!==t?function Oh(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function lN(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ud(i,-1)),t.splice(r,1)}function wD(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&lN(i,r),e>0&&(n[t-1][4]=r[4]);const o=cm(n,10+e);!function uK(n,e){w_(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function uN(n,e){if(!(256&e[2])){const t=e[11];Ar(t)&&t.destroyNode&&w_(n,e,t,3,null,null),function hK(n){let e=n[13];if(!e)return CD(n[1],n);for(;e;){let t=null;if(ls(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ls(e)&&CD(e[1],e),e=e[3];null===e&&(e=n),ls(e)&&CD(e[1],e),t=e&&e[4]}e=t}}(e)}}function CD(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function gK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Vh)){const o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=i[o[a]],c=o[a+1];try{c.call(l)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function mK(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const a=t[o+1],l="function"==typeof a?a(e):Br(e[a]),c=r[i=t[o+2]],p=t[o+3];"boolean"==typeof p?l.removeEventListener(t[o],c,p):p>=0?r[i=p]():r[i=-p].unsubscribe(),o+=2}else{const a=r[i=t[o+1]];t[o].call(a)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&Ar(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&zo(e[3])){t!==e[3]&&lN(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function cN(n,e,t){return function dN(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===eo.None||i===eo.Emulated)return null}return E(r,t)}(n,e.parent,t)}function ef(n,e,t,r,i){Ar(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function hN(n,e,t){Ar(n)?n.appendChild(e,t):e.appendChild(t)}function fN(n,e,t,r,i){null!==r?ef(n,e,t,r,i):hN(n,e,t)}function bw(n,e){return Ar(n)?n.parentNode(e):e.parentNode}function pN(n,e,t){return gN(n,e,t)}let gN=function mN(n,e,t){return 40&n.type?E(n,t):null};function ww(n,e,t,r){const i=cN(n,r,e),o=e[11],l=pN(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)fN(o,i,t[c],l,!1);else fN(o,i,t,l,!1)}function Cw(n,e){if(null!==e){const t=e.type;if(3&t)return E(e,n);if(4&t)return SD(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Cw(n,r);{const i=n[e.index];return zo(i)?SD(-1,i):Br(i)}}if(32&t)return gD(e,n)()||Br(n[e.index]);{const r=_N(n,e);return null!==r?Array.isArray(r)?r[0]:Cw(b_(n[16]),r):Cw(n,e.next)}}return null}function _N(n,e){return null!==e?n[16][6].projection[e.projection]:null}function SD(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Cw(r,i)}return e[7]}function TD(n,e,t,r,i,o,a){for(;null!=t;){const l=r[t.index],c=t.type;if(a&&0===e&&(l&&_(Br(l),r),t.flags|=4),64!=(64&t.flags))if(8&c)TD(n,e,t.child,r,i,o,!1),wm(e,n,i,l,o);else if(32&c){const p=gD(t,r);let v;for(;v=p();)wm(e,n,i,v,o);wm(e,n,i,l,o)}else 16&c?bN(n,e,r,t,i,o):wm(e,n,i,l,o);t=a?t.projectionNext:t.next}}function w_(n,e,t,r,i,o){TD(t,r,n.firstChild,e,i,o,!1)}function bN(n,e,t,r,i,o){const a=t[16],c=a[6].projection[r.projection];if(Array.isArray(c))for(let p=0;p<c.length;p++)wm(e,n,i,c[p],o);else TD(n,e,c,a[3],i,o,!0)}function wN(n,e,t){Ar(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function DD(n,e,t){Ar(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function CN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const EN="ng-template";function CK(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==CN(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function SN(n){return 4===n.type&&n.value!==EN}function EK(n,e,t){return e===(4!==n.type||t?n.value:EN)}function SK(n,e,t){let r=4;const i=n.attrs||[],o=function AK(n){for(let e=0;e<n.length;e++)if(Bh(n[e]))return e;return n.length}(i);let a=!1;for(let l=0;l<e.length;l++){const c=e[l];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!EK(n,c,t)||""===c&&1===e.length){if(Al(r))return!1;a=!0}}else{const p=8&r?c:e[++l];if(8&r&&null!==n.attrs){if(!CK(n.attrs,p,t)){if(Al(r))return!1;a=!0}continue}const b=TK(8&r?"class":c,i,SN(n),t);if(-1===b){if(Al(r))return!1;a=!0;continue}if(""!==p){let w;w=b>o?"":i[b+1].toLowerCase();const I=8&r?w:null;if(I&&-1!==CN(I,p,0)||2&r&&p!==w){if(Al(r))return!1;a=!0}}}}else{if(!a&&!Al(r)&&!Al(c))return!1;if(a&&Al(c))continue;a=!1,r=c|1&r}}return Al(r)||a}function Al(n){return 0==(1&n)}function TK(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=e[++i];for(;"string"==typeof l;)l=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function IK(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function TN(n,e,t=!1){for(let r=0;r<e.length;r++)if(SK(n,e[r],t))return!0;return!1}function kK(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function DN(n,e){return n?":not("+e.trim()+")":e}function MK(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const l=n[++t];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Al(a)&&(e+=DN(o,i),i=""),r=a,o=o||!Al(r);t++}return""!==i&&(e+=DN(o,i)),e}const un={};function j(n){AN(Bn(),xe(),ro()+n,Xp())}function AN(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&oa(e,o,t)}else{const o=n.preOrderHooks;null!==o&&cu(e,o,0,t)}bo(t)}function Ew(n,e){return n<<17|e<<2}function Il(n){return n>>17&32767}function AD(n){return 2|n}function _c(n){return(131068&n)>>2}function ID(n,e){return-131069&n|e<<2}function kD(n){return 1|n}function VN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const a=n.data[o];em(i),a.contentQueries(2,e[o],o)}}}function C_(n,e,t,r,i,o,a,l,c,p){const v=e.blueprint.slice();return v[0]=i,v[2]=140|r,sc(v),v[3]=v[15]=n,v[8]=t,v[10]=a||n&&n[10],v[11]=l||n&&n[11],v[12]=c||n&&n[12]||null,v[9]=p||n&&n[9]||null,v[6]=o,v[16]=2==e.type?n[16]:v,v}function Cm(n,e,t,r,i){let o=n.data[e];if(null===o)o=function VD(n,e,t,r,i){const o=zv(),a=Qp(),c=n.data[e]=function KK(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(a?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,e,t,r,i),function A0(){return Wt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const a=function lu(){const n=Wt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Ns(o,!0),o}function Em(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function E_(n,e,t){tm(e);try{const r=n.viewQuery;null!==r&&GD(1,r,t);const i=n.template;null!==i&&BN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&VN(n,e),n.staticViewQueries&&GD(2,n.viewQuery,t);const o=n.components;null!==o&&function $K(n,e){for(let t=0;t<e.length;t++)hY(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Lh()}}function Sm(n,e,t,r){const i=e[2];if(256==(256&i))return;tm(e);const o=Xp();try{sc(e),function D0(n){return Wt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&BN(n,e,t,2,r);const a=3==(3&i);if(!o)if(a){const p=n.preOrderCheckHooks;null!==p&&oa(e,p,null)}else{const p=n.preOrderHooks;null!==p&&cu(e,p,0,null),Qv(e,0)}if(function cY(n){for(let e=vD(n);null!==e;e=_D(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&ud(o,1),i[2]|=1024}}}(e),function uY(n){for(let e=vD(n);null!==e;e=_D(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];qo(r)&&Sm(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&VN(n,e),!o)if(a){const p=n.contentCheckHooks;null!==p&&oa(e,p)}else{const p=n.contentHooks;null!==p&&cu(e,p,1),Qv(e,1)}!function zK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)bo(~i);else{const o=i,a=t[++r],l=t[++r];k0(a,o),l(2,e[o])}}}finally{bo(-1)}}(n,e);const l=n.components;null!==l&&function qK(n,e){for(let t=0;t<e.length;t++)dY(n,e[t])}(e,l);const c=n.viewQuery;if(null!==c&&GD(2,c,r),!o)if(a){const p=n.viewCheckHooks;null!==p&&oa(e,p)}else{const p=n.viewHooks;null!==p&&cu(e,p,2),Qv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ud(e[3],-1))}finally{Lh()}}function WK(n,e,t,r){const i=e[10],o=!Xp(),a=Ir(e);try{o&&!a&&i.begin&&i.begin(),a&&E_(n,e,r),Sm(n,e,t,r)}finally{o&&!a&&i.end&&i.end()}}function BN(n,e,t,r,i){const o=ro(),a=2&r;try{bo(-1),a&&e.length>20&&AN(n,e,20,Xp()),t(r,i)}finally{bo(o)}}function UN(n,e,t){if(Ih(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}}function BD(n,e,t){!S0()||(function tY(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||pd(t,e),_(r,e);const a=t.initialInputs;for(let l=i;l<o;l++){const c=n.data[l],p=Ci(c);p&&sY(e,t,c);const v=cc(e,n,l,t);_(v,e),null!==a&&aY(0,l-i,v,c,0,a),p&&(et(t.index,e)[8]=v)}}(n,e,t,E(t,e)),128==(128&t.flags)&&function nY(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,l=function M0(){return Wt.lFrame.currentDirectiveIndex}();try{bo(a);for(let c=r;c<i;c++){const p=n.data[c],v=e[c];Wv(c),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&KN(p,v)}}finally{bo(-1),Wv(l)}}(n,e,t))}function UD(n,e,t=E){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],l=-1===a?t(e,n):n[a];n[i++]=l}}}function jN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Dw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Dw(n,e,t,r,i,o,a,l,c,p){const v=20+r,b=v+i,w=function GK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:un);return t}(v,b),I="function"==typeof p?p():p;return w[1]={type:n,blueprint:w,template:t,queries:null,viewQuery:l,declTNode:e,data:w.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1}}function qN(n,e,t,r){const i=eF(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&tF(n).push(r,i.length-1))}function $N(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function da(n,e,t,r,i,o,a,l){const c=E(e,t);let v,p=e.inputs;!l&&null!=p&&(v=p[r])?(iF(n,t,v,r,i),od(e)&&function XK(n,e){const t=et(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function QK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,Ar(o)?o.setProperty(c,r,i):Uh(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function jD(n,e,t,r){let i=!1;if(S0()){const o=function rY(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];TN(t,a.selectors,!1)&&(i||(i=[]),lc(pd(t,e),n,a.type),Ci(a)?(YN(n,t),i.unshift(a)):i.push(a))}return i}(n,e,t),a=null===r?null:{"":-1};if(null!==o){i=!0,QN(t,n.data.length,o.length);for(let v=0;v<o.length;v++){const b=o[v];b.providersResolver&&b.providersResolver(b)}let l=!1,c=!1,p=Em(n,e,o.length,null);for(let v=0;v<o.length;v++){const b=o[v];t.mergedAttrs=hd(t.mergedAttrs,b.hostAttrs),XN(n,t,e,p,b),oY(p,b,a),null!==b.contentQueries&&(t.flags|=8),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(t.flags|=128);const w=b.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!c&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),p++}!function YK(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,a=[];let l=null,c=null;for(let p=e.directiveStart;p<r;p++){const v=i[p],b=v.inputs,w=null===o||SN(e)?null:lY(b,o);a.push(w),l=$N(b,p,l),c=$N(v.outputs,p,c)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t)}a&&function iY(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new st(-301,!1);r.push(e[i],o)}}}(t,r,a)}return t.mergedAttrs=hd(t.mergedAttrs,t.attrs),i}function GN(n,e,t,r,i,o){const a=o.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~e.index;(function eY(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=c&&l.push(c),l.push(r,i,a)}}function KN(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function YN(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function oY(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ci(e)&&(t[""]=n)}}function QN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function XN(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ps(i.type)),a=new Vh(o,Ci(i),null);n.blueprint[r]=a,t[r]=a,GN(n,e,0,r,Em(n,t,i.hostVars,un),i)}function sY(n,e,t){const r=E(e,n),i=jN(t),o=n[10],a=Aw(n,C_(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=a}function bu(n,e,t,r,i,o){const a=E(n,e);!function HD(n,e,t,r,i,o,a){if(null==o)Ar(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const l=null==a?qe(o):a(o,r||"",i);Ar(n)?n.setAttribute(e,i,l,t):t?e.setAttributeNS(t,i,l):e.setAttribute(i,l)}}(e[11],a,o,n.value,t,r,i)}function aY(n,e,t,r,i,o){const a=o[e];if(null!==a){const l=r.setInput;for(let c=0;c<a.length;){const p=a[c++],v=a[c++],b=a[c++];null!==l?r.setInput(t,b,p,v):t[v]=b}}}function lY(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ZN(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function dY(n,e){const t=et(e,n);if(qo(t)){const r=t[1];80&t[2]?Sm(r,t,r.template,t[8]):t[5]>0&&zD(t)}}function zD(n){for(let r=vD(n);null!==r;r=_D(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const a=o[1];Sm(a,o,a.template,o[8])}else o[5]>0&&zD(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=et(t[r],n);qo(i)&&i[5]>0&&zD(i)}}function hY(n,e){const t=et(e,n),r=t[1];(function fY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),E_(r,t,t[8])}function Aw(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function qD(n){for(;n;){n[2]|=64;const e=b_(n);if(kh(n)&&!e)return n;n=e}return null}function WD(n,e,t){const r=e[10];r.begin&&r.begin();try{Sm(n,e,n.template,t)}catch(i){throw rF(e,i),i}finally{r.end&&r.end()}}function JN(n){!function $D(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=M(t),i=r[1];WK(i,r,i.template,t)}}(n[8])}function GD(n,e,t){em(0),e(n,t)}const vY=(()=>Promise.resolve(null))();function eF(n){return n[7]||(n[7]=[])}function tF(n){return n.cleanup||(n.cleanup=[])}function rF(n,e){const t=n[9],r=t?t.get(vc,null):null;r&&r.handleError(e)}function iF(n,e,t,r,i){for(let o=0;o<t.length;){const a=t[o++],l=t[o++],c=e[a],p=n.data[a];null!==p.setInput?p.setInput(c,i,r,l):c[l]=i}}function yc(n,e,t){const r=C(e,n);!function aN(n,e,t){Ar(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Iw(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const l=e[a];"number"==typeof l?o=l:1==o?i=hl(i,l):2==o&&(r=hl(r,l+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const KD=new We("INJECTOR",-1);class oF{get(e,t=fc){if(t===fc){const r=new Error(`NullInjectorError: No provider for ${Xn(e)}!`);throw r.name="NullInjectorError",r}return t}}const YD=new We("Set Injector scope."),S_={},bY={};let QD;function sF(){return void 0===QD&&(QD=new oF),QD}function aF(n,e=null,t=null,r){const i=lF(n,e,t,r);return i._resolveInjectorDefTypes(),i}function lF(n,e=null,t=null,r){return new wY(n,t,e||sF(),r)}class wY{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&$o(t,l=>this.processProvider(l,e,t)),$o([e],l=>this.processInjectorType(l,[],o)),this.records.set(KD,Tm(void 0,this));const a=this.records.get(YD);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof e?null:Xn(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=fc,r=Ot.Default){this.assertNotDestroyed();const i=fm(this),o=na(void 0);try{if(!(r&Ot.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function kY(n){return"function"==typeof n||"object"==typeof n&&n instanceof We}(e)&&Ch(e);l=c&&this.injectableDefInScope(c)?Tm(XD(e),S_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Ot.Self?sF():this.parent).get(e,t=r&Ot.Optional&&t===fc?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[hm]=a[hm]||[]).unshift(Xn(e)),i)throw a;return function rw(n,e,t,r){const i=n[hm];throw e[s_]&&i.unshift(e[s_]),n.message=function UT(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Xn(e);if(Array.isArray(e))i=e.map(Xn).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):Xn(l)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(BT,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[hm]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{na(o),fm(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Xn(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new st(205,!1)}processInjectorType(e,t,r){if(!(e=Yt(e)))return!1;let i=ml(e);const o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,l=-1!==r.indexOf(a);if(void 0!==o&&(i=ml(o)),null==i)return!1;if(null!=i.imports&&!l){let v;r.push(a);try{$o(i.imports,b=>{this.processInjectorType(b,t,r)&&(void 0===v&&(v=[]),v.push(b))})}finally{}if(void 0!==v)for(let b=0;b<v.length;b++){const{ngModule:w,providers:I}=v[b];$o(I,R=>this.processProvider(R,w,I||Zn))}}this.injectorDefTypes.add(a);const c=Ps(a)||(()=>new a);this.records.set(a,Tm(c,S_));const p=i.providers;if(null!=p&&!l){const v=e;$o(p,b=>this.processProvider(b,v,p))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=Dm(e=Yt(e))?e:Yt(e&&e.provide);const o=function EY(n,e,t){return cF(n)?Tm(void 0,n.useValue):Tm(uF(n),S_)}(e);if(Dm(e)||!0!==e.multi)this.records.get(i);else{let a=this.records.get(i);a||(a=Tm(void 0,S_,!0),a.factory=()=>l_(a.multi),this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===S_&&(t.value=bY,t.value=t.factory()),"object"==typeof t.value&&t.value&&function IY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Yt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function XD(n){const e=Ch(n),t=null!==e?e.factory:Ps(n);if(null!==t)return t;if(n instanceof We)throw new st(204,!1);if(n instanceof Function)return function CY(n){const e=n.length;if(e>0)throw gd(e,"?"),new st(204,!1);const t=function jo(n){const e=n&&(n[nd]||n[ta]);if(e){const t=function Pp(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new st(204,!1)}function uF(n,e,t){let r;if(Dm(n)){const i=Yt(n);return Ps(i)||XD(i)}if(cF(n))r=()=>Yt(n.useValue);else if(function TY(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...l_(n.deps||[]));else if(function SY(n){return!(!n||!n.useExisting)}(n))r=()=>oe(Yt(n.useExisting));else{const i=Yt(n&&(n.useClass||n.provide));if(!function AY(n){return!!n.deps}(n))return Ps(i)||XD(i);r=()=>new i(...l_(n.deps))}return r}function Tm(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cF(n){return null!==n&&"object"==typeof n&&ew in n}function Dm(n){return"function"==typeof n}let ji=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return aF({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return aF({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=fc,n.NULL=new oF,n.\u0275prov=be({token:n,providedIn:"any",factory:()=>oe(KD)}),n.__NG_ELEMENT_ID__=-1,n})();function LY(n,e){rm(M(n)[1],hi())}function dt(n){let e=function CF(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ci(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new st(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=eA(n.inputs),a.declaredInputs=eA(n.declaredInputs),a.outputs=eA(n.outputs);const l=i.hostBindings;l&&jY(n,l);const c=i.viewQuery,p=i.contentQueries;if(c&&BY(n,c),p&&UY(n,p),dl(n.inputs,i.inputs),dl(n.declaredInputs,i.declaredInputs),dl(n.outputs,i.outputs),Ci(i)&&i.data.animation){const v=n.data;v.animation=(v.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const l=o[a];l&&l.ngInherit&&l(n),l===dt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function VY(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hd(i.hostAttrs,t=hd(t,i.hostAttrs))}}(r)}function eA(n){return n===Jl?{}:n===Zn?[]:n}function BY(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function UY(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function jY(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let kw=null;function Am(){if(!kw){const n=yn.Symbol;if(n&&n.iterator)kw=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(kw=r)}}}return kw}function T_(n){return!!tA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Am()in n)}function tA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wu(n,e,t){return n[e]=t}function Wo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function tf(n,e,t,r){const i=Wo(n,e,t);return Wo(n,e+1,r)||i}function ir(n,e,t,r){const i=xe();return Wo(i,cd(),e)&&(Bn(),bu(Tr(),i,n,e,t,r)),ir}function km(n,e,t,r){return Wo(n,cd(),t)?e+qe(t)+r:un}function Mm(n,e,t,r,i,o){const l=tf(n,function Sl(){return Wt.lFrame.bindingIndex}(),t,i);return Tl(2),l?e+qe(t)+r+qe(i)+o:un}function J(n,e,t,r,i,o,a,l){const c=xe(),p=Bn(),v=n+20,b=p.firstCreatePass?function KY(n,e,t,r,i,o,a,l,c){const p=e.consts,v=Cm(e,n,4,a||null,Ui(p,l));jD(e,t,v,Ui(p,c)),rm(e,v);const b=v.tViews=Dw(2,v,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p);return null!==e.queries&&(e.queries.template(e,v),b.queries=e.queries.embeddedTView(v)),v}(v,p,c,e,t,r,i,o,a):p.data[v];Ns(b,!1);const w=c[11].createComment("");ww(p,c,w,b),_(w,c),Aw(c,c[v]=ZN(w,c,w,b)),_l(b)&&BD(p,c,b),null!=a&&UD(c,b,l)}function Cu(n){return Ce(function $v(){return Wt.lFrame.contextLView}(),20+n)}function H(n,e=Ot.Default){const t=xe();return null===t?oe(n,e):j0(hi(),t,Yt(n),e)}function Vm(){throw new Error("invalid")}function te(n,e,t){const r=xe();return Wo(r,cd(),e)&&da(Bn(),Tr(),r,n,e,r[11],t,!1),te}function sA(n,e,t,r,i){const a=i?"class":"style";iF(n,t,e.inputs[a],a,r)}function T(n,e,t,r){const i=xe(),o=Bn(),a=20+n,l=i[11],c=i[a]=bD(l,e,function N0(){return Wt.lFrame.currentNamespace}()),p=o.firstCreatePass?function mQ(n,e,t,r,i,o,a){const l=e.consts,p=Cm(e,n,2,i,Ui(l,o));return jD(e,t,p,Ui(l,a)),null!==p.attrs&&Iw(p,p.attrs,!1),null!==p.mergedAttrs&&Iw(p,p.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,p),p}(a,o,i,0,e,t,r):o.data[a];Ns(p,!0);const v=p.mergedAttrs;null!==v&&ac(l,c,v);const b=p.classes;null!==b&&DD(l,c,b);const w=p.styles;return null!==w&&wN(l,c,w),64!=(64&p.flags)&&ww(o,i,c,p),0===function C0(){return Wt.lFrame.elementDepthCount}()&&_(c,i),function E0(){Wt.lFrame.elementDepthCount++}(),_l(p)&&(BD(o,i,p),UN(o,p,i)),null!==r&&UD(i,p),T}function A(){let n=hi();Qp()?qv():(n=n.parent,Ns(n,!1));const e=n;!function _T(){Wt.lFrame.elementDepthCount--}();const t=Bn();return t.firstCreatePass&&(rm(t,n),Ih(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dd(n){return 0!=(16&n.flags)}(e)&&sA(t,e,xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function V0(n){return 0!=(32&n.flags)}(e)&&sA(t,e,xe(),e.stylesWithoutHost,!1),A}function le(n,e,t,r){return T(n,e,t,r),A(),le}function nn(n,e,t){const r=xe(),i=Bn(),o=n+20,a=i.firstCreatePass?function gQ(n,e,t,r,i){const o=e.consts,a=Ui(o,r),l=Cm(e,n,8,"ng-container",a);return null!==a&&Iw(l,a,!0),jD(e,t,l,Ui(o,i)),null!==e.queries&&e.queries.elementStart(e,l),l}(o,i,r,e,t):i.data[o];Ns(a,!0);const l=r[o]=r[11].createComment("");return ww(i,r,l,a),_(l,r),_l(a)&&(BD(i,r,a),UN(i,a,r)),null!=t&&UD(r,a),nn}function rn(){let n=hi();const e=Bn();return Qp()?qv():(n=n.parent,Ns(n,!1)),e.firstCreatePass&&(rm(e,n),Ih(n)&&e.queries.elementEnd(n)),rn}function Eu(n,e,t){return nn(n,e,t),rn(),Eu}function er(){return xe()}function A_(n){return!!n&&"function"==typeof n.then}function HF(n){return!!n&&"function"==typeof n.subscribe}const aA=HF;function Te(n,e,t,r){const i=xe(),o=Bn(),a=hi();return function qF(n,e,t,r,i,o,a,l){const c=_l(r),v=n.firstCreatePass&&tF(n),b=e[8],w=eF(e);let I=!0;if(3&r.type||l){const z=E(r,e),Q=l?l(z):z,Y=w.length,ae=l?Ee=>l(Br(Ee[r.index])):r.index;if(Ar(t)){let Ee=null;if(!l&&c&&(Ee=function vQ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===t&&i[o+1]===r){const l=e[7],c=i[o+2];return l.length>c?l[c]:null}"string"==typeof a&&(o+=2)}return null}(n,e,i,r.index)),null!==Ee)(Ee.__ngLastListenerFn__||Ee).__ngNextListenerFn__=o,Ee.__ngLastListenerFn__=o,I=!1;else{o=lA(r,e,b,o,!1);const Ve=t.listen(Q,i,o);w.push(o,Ve),v&&v.push(i,ae,Y,Y+1)}}else o=lA(r,e,b,o,!0),Q.addEventListener(i,o,a),w.push(o),v&&v.push(i,ae,Y,a)}else o=lA(r,e,b,o,!1);const R=r.outputs;let N;if(I&&null!==R&&(N=R[i])){const z=N.length;if(z)for(let Q=0;Q<z;Q+=2){const De=e[N[Q]][N[Q+1]].subscribe(o),xt=w.length;w.push(o,De),v&&v.push(i,r.index,xt,-(xt+1))}}}(o,i,i[11],a,n,e,!!t,r),Te}function $F(n,e,t,r){try{return!1!==t(r)}catch(i){return rF(n,i),!1}}function lA(n,e,t,r,i){return function o(a){if(a===Function)return r;const l=2&n.flags?et(n.index,e):e;0==(32&e[2])&&qD(l);let c=$F(e,0,r,a),p=o.__ngNextListenerFn__;for(;p;)c=$F(e,0,p,a)&&c,p=p.__ngNextListenerFn__;return i&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function de(n=1){return function uu(n){return(Wt.lFrame.contextLView=function O0(n,e){for(;n>0;)e=e[15],n--;return e}(n,Wt.lFrame.contextLView))[8]}(n)}function _Q(n,e){let t=null;const r=function DK(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?TN(n,o,!0):kK(r,o))return i}else t=i}return t}function Sd(n){const e=xe()[16][6];if(!e.projection){const r=e.projection=gd(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const a=n?_Q(o,n):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o),o=o.next}}}function oo(n,e=0,t){const r=xe(),i=Bn(),o=Cm(i,20+n,16,null,t||null);null===o.projection&&(o.projection=e),qv(),64!=(64&o.flags)&&function yK(n,e,t){bN(e[11],0,e,t,cN(n,t,e),pN(t.parent||e[6],t,e))}(i,r,o)}function Bm(n,e,t){return Rw(n,"",e,"",t),Bm}function Rw(n,e,t,r,i){const o=xe(),a=km(o,e,t,r);return a!==un&&da(Bn(),Tr(),o,n,a,o[11],i,!1),Rw}function eL(n,e,t,r,i){const o=n[t+1],a=null===e;let l=r?Il(o):_c(o),c=!1;for(;0!==l&&(!1===c||a);){const v=n[l+1];wQ(n[l],e)&&(c=!0,n[l+1]=r?kD(v):AD(v)),l=r?Il(v):_c(v)}c&&(n[t+1]=r?AD(o):kD(o))}function wQ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&hc(n,e)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tL(n){return n.substring(Hi.key,Hi.keyEnd)}function nL(n,e){const t=Hi.textEnd;return t===e?-1:(e=Hi.keyEnd=function TQ(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Hi.key=e,t),Um(n,e,t))}function Um(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Go(n,e,t){return Ml(n,e,t,!1),Go}function Ei(n,e){return Ml(n,e,null,!0),Ei}function bc(n){xl(ds,Tu,n,!0)}function Tu(n,e){for(let t=function EQ(n){return function iL(n){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=n.length}(n),nL(n,Um(n,0,Hi.textEnd))}(e);t>=0;t=nL(e,t))ds(n,tL(e),!0)}function Ml(n,e,t,r){const i=xe(),o=Bn(),a=Tl(2);o.firstUpdatePass&&lL(o,n,a,r),e!==un&&Wo(i,a,e)&&cL(o,o.data[ro()],i,i[11],n,i[a+1]=function NQ(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Xn(fs(n)))),n}(e,t),r,a)}function xl(n,e,t,r){const i=Bn(),o=Tl(2);i.firstUpdatePass&&lL(i,null,o,r);const a=xe();if(t!==un&&Wo(a,o,t)){const l=i.data[ro()];if(hL(l,r)&&!aL(i,o)){let c=r?l.classesWithoutHost:l.stylesWithoutHost;null!==c&&(t=hl(c,t||"")),sA(i,l,a,t,r)}else!function OQ(n,e,t,r,i,o,a,l){i===un&&(i=Zn);let c=0,p=0,v=0<i.length?i[0]:null,b=0<o.length?o[0]:null;for(;null!==v||null!==b;){const w=c<i.length?i[c+1]:void 0,I=p<o.length?o[p+1]:void 0;let N,R=null;v===b?(c+=2,p+=2,w!==I&&(R=b,N=I)):null===b||null!==v&&v<b?(c+=2,R=v):(p+=2,R=b,N=I),null!==R&&cL(n,e,t,r,R,N,a,l),v=c<i.length?i[c]:null,b=p<o.length?o[p]:null}}(i,l,a,a[11],a[o+1],a[o+1]=function PQ(n,e,t){if(null==t||""===t)return Zn;const r=[],i=fs(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}function aL(n,e){return e>=n.expandoStartIndex}function lL(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[ro()],a=aL(n,t);hL(o,r)&&null===e&&!a&&(e=!1),e=function kQ(n,e,t,r){const i=Jp(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=I_(t=uA(null,n,e,t,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=uA(i,n,e,t,r),null===o){let c=function MQ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==_c(r))return n[Il(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=uA(null,n,e,c[1],r),c=I_(c,e.attrs,r),function xQ(n,e,t,r){n[Il(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function RQ(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=I_(r,n[o].hostAttrs,t);return I_(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function yQ(n,e,t,r,i,o){let a=o?e.classBindings:e.styleBindings,l=Il(a),c=_c(a);n[r]=t;let v,p=!1;if(Array.isArray(t)){const b=t;v=b[1],(null===v||hc(b,v)>0)&&(p=!0)}else v=t;if(i)if(0!==c){const w=Il(n[l+1]);n[r+1]=Ew(w,l),0!==w&&(n[w+1]=ID(n[w+1],r)),n[l+1]=function PK(n,e){return 131071&n|e<<17}(n[l+1],r)}else n[r+1]=Ew(l,0),0!==l&&(n[l+1]=ID(n[l+1],r)),l=r;else n[r+1]=Ew(c,0),0===l?l=r:n[c+1]=ID(n[c+1],r),c=r;p&&(n[r+1]=AD(n[r+1])),eL(n,v,r,!0),eL(n,v,r,!1),function bQ(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&hc(o,e)>=0&&(t[r+1]=kD(t[r+1]))}(e,v,n,r,o),a=Ew(l,c),o?e.classBindings=a:e.styleBindings=a}(i,o,e,t,a,r)}}function uA(n,e,t,r,i){let o=null;const a=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<a&&(o=e[l],r=I_(r,o.hostAttrs,i),o!==n);)l++;return null!==n&&(t.directiveStylingLast=l),r}function I_(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ds(n,a,!!t||e[++o]))}return void 0===n?null:n}function cL(n,e,t,r,i,o,a,l){if(!(3&e.type))return;const c=n.data,p=c[l+1];Pw(function MN(n){return 1==(1&n)}(p)?dL(c,e,t,i,_c(p),a):void 0)||(Pw(o)||function kN(n){return 2==(2&n)}(p)&&(o=dL(c,null,t,i,l,a)),function wK(n,e,t,r,i){const o=Ar(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let a=-1===r.indexOf("-")?void 0:ca.DashCase;if(null==i)o?n.removeStyle(t,r,a):t.style.removeProperty(r);else{const l="string"==typeof i&&i.endsWith("!important");l&&(i=i.slice(0,-10),a|=ca.Important),o?n.setStyle(t,r,i,a):t.style.setProperty(r,i,l?"important":"")}}}(r,a,C(ro(),t),i,o))}function dL(n,e,t,r,i,o){const a=null===e;let l;for(;i>0;){const c=n[i],p=Array.isArray(c),v=p?c[1]:c,b=null===v;let w=t[i+1];w===un&&(w=b?Zn:void 0);let I=b?i_(w,r):v===r?w:void 0;if(p&&!Pw(I)&&(I=i_(c,r)),Pw(I)&&(l=I,a))return l;const R=n[i+1];i=a?Il(R):_c(R)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(l=i_(c,r))}return l}function Pw(n){return void 0!==n}function hL(n,e){return 0!=(n.flags&(e?16:32))}function x(n,e=""){const t=xe(),r=Bn(),i=n+20,o=r.firstCreatePass?Cm(r,i,1,e,null):r.data[i],a=t[i]=function yD(n,e){return Ar(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ww(r,t,a,o),Ns(o,!1)}function mt(n){return Ke("",n,""),mt}function Ke(n,e,t){const r=xe(),i=km(r,n,e,t);return i!==un&&yc(r,ro(),i),Ke}function Td(n,e,t,r,i){const o=xe(),a=Mm(o,n,e,t,r,i);return a!==un&&yc(o,ro(),a),Td}function Ow(n,e,t){const r=xe();return Wo(r,cd(),e)&&da(Bn(),Tr(),r,n,e,r[11],t,!0),Ow}function cA(n,e,t){const r=xe();if(Wo(r,cd(),e)){const o=Bn(),a=Tr();da(o,a,r,n,e,function nF(n,e,t){return(null===n||Ci(n))&&(t=function jv(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(Jp(o.data),a,r),t,!0)}return cA}const nf=void 0;var eX=["en",[["a","p"],["AM","PM"],nf],[["AM","PM"],nf,nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nf,"{1} 'at' {0}",nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JQ(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let jm={};function ps(n){const e=function tX(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=xL(e);if(t)return t;const r=e.split("-")[0];if(t=xL(r),t)return t;if("en"===r)return eX;throw new Error(`Missing locale data for the locale "${n}".`)}function xL(n){return n in jm||(jm[n]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[n]),jm[n]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const Nw="en-US";let RL=Nw;function fA(n,e,t,r,i){if(n=Yt(n),Array.isArray(n))for(let o=0;o<n.length;o++)fA(n[o],e,t,r,i);else{const o=Bn(),a=xe();let l=Dm(n)?n:Yt(n.provide),c=uF(n);const p=hi(),v=1048575&p.providerIndexes,b=p.directiveStart,w=p.providerIndexes>>20;if(Dm(n)||!n.multi){const I=new Vh(c,i,H),R=mA(l,e,i?v:v+w,b);-1===R?(lc(pd(p,a),o,l),pA(o,n,e.length),e.push(l),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),t.push(I),a.push(I)):(t[R]=I,a[R]=I)}else{const I=mA(l,e,v+w,b),R=mA(l,e,v,v+w),N=I>=0&&t[I],z=R>=0&&t[R];if(i&&!z||!i&&!N){lc(pd(p,a),o,l);const Q=function JX(n,e,t,r,i){const o=new Vh(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,n3(o,i,r&&!t),o}(i?ZX:XX,t.length,i,r,c);!i&&z&&(t[R].providerFactory=Q),pA(o,n,e.length,0),e.push(l),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),t.push(Q),a.push(Q)}else pA(o,n,I>-1?I:R,n3(t[i?R:I],c,!i&&r));!i&&r&&z&&t[R].componentProviders++}}}function pA(n,e,t,r){const i=Dm(e),o=function DY(n){return!!n.useClass}(e);if(i||o){const c=(o?Yt(e.useClass):e).prototype.ngOnDestroy;if(c){const p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const v=p.indexOf(t);-1===v?p.push(t,[r,c]):p[v+1].push(r,c)}else p.push(t,c)}}}function n3(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function XX(n,e,t,r){return gA(this.multi,[])}function ZX(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=cc(t,t[1],this.providerFactory.index,r);o=l.slice(0,a),gA(i,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],gA(i,o);return o}function gA(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function QX(n,e,t){const r=Bn();if(r.firstCreatePass){const i=Ci(n);fA(t,r.data,r.blueprint,i,!0),fA(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class r3{}class nZ{resolveComponentFactory(e){throw function tZ(n){const e=Error(`No component factory found for ${Xn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let rf=(()=>{class n{}return n.NULL=new nZ,n})();function rZ(){return zm(hi(),xe())}function zm(n,e){return new Wn(E(n,e))}let Wn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=rZ,n})();function iZ(n){return n instanceof Wn?n.nativeElement:n}class P_{}let wc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sZ(){const n=xe(),t=et(hi().index,n);return function oZ(n){return n[11]}(ls(t)?t:n)}(),n})(),aZ=(()=>{class n{}return n.\u0275prov=be({token:n,providedIn:"root",factory:()=>null}),n})();class sf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lZ=new sf("13.3.3"),vA={};function Uw(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Br(o)),zo(o))for(let l=10;l<o.length;l++){const c=o[l],p=c[1].firstChild;null!==p&&Uw(c[1],c,p,r)}const a=t.type;if(8&a)Uw(n,e,t.child,r);else if(32&a){const l=gD(t,e);let c;for(;c=l();)r.push(c)}else if(16&a){const l=_N(e,t);if(Array.isArray(l))r.push(...l);else{const c=b_(e[16]);Uw(c[1],c,l,r,!0)}}t=i?t.projectionNext:t.next}return r}class O_{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Uw(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(zo(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(wD(e,r),cm(t,r))}this._attachedToViewContainer=!1}uN(this._lView[1],this._lView)}onDestroy(e){qN(this._lView[1],this._lView,null,e)}markForCheck(){qD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){WD(this._lView[1],this._lView,this.context)}checkNoChanges(){!function mY(n,e,t){Zp(!0);try{WD(n,e,t)}finally{Zp(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new st(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dK(n,e){w_(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new st(902,"");this._appRef=e}}class uZ extends O_{constructor(e){super(e),this._view=e}detectChanges(){JN(this._view)}checkNoChanges(){!function gY(n){Zp(!0);try{JN(n)}finally{Zp(!1)}}(this._view)}get context(){return null}}class o3 extends rf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$r(e);return new _A(t,this.ngModule)}}function s3(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _A extends r3{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xK(n){return n.map(MK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return s3(this.componentDef.inputs)}get outputs(){return s3(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function dZ(n,e){return{get:(t,r,i)=>{const o=n.get(t,vA,i);return o!==vA||r===vA?o:e.get(t,r,i)}}}(e,i.injector):e,a=o.get(P_,Yp),l=o.get(aZ,null),c=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?function zN(n,e,t){if(Ar(n))return n.selectRootElement(e,t===eo.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):bD(a.createRenderer(null,this.componentDef),p,function cZ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),b=this.componentDef.onPush?576:528,w=function wF(n,e){return{components:[],scheduler:n||rK,clean:vY,playerHandler:e||null,flags:0}}(),I=Dw(0,null,null,1,0,null,null,null,null,null),R=C_(null,I,w,b,null,null,a,c,l,o);let N,z;tm(R);try{const Q=function yF(n,e,t,r,i,o){const a=t[1];t[20]=n;const c=Cm(a,20,2,"#host",null),p=c.mergedAttrs=e.hostAttrs;null!==p&&(Iw(c,p,!0),null!==n&&(ac(i,n,p),null!==c.classes&&DD(i,n,c.classes),null!==c.styles&&wN(i,n,c.styles)));const v=r.createRenderer(n,e),b=C_(t,jN(e),null,e.onPush?64:16,t[20],c,r,v,o||null,null);return a.firstCreatePass&&(lc(pd(c,t),a,e.type),YN(a,c),QN(c,t.length,1)),Aw(t,b),t[20]=b}(v,this.componentDef,R,a,c);if(v)if(r)ac(c,v,["ng-version",lZ.full]);else{const{attrs:Y,classes:ae}=function RK(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Al(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);Y&&ac(c,v,Y),ae&&ae.length>0&&DD(c,v,ae.join(" "))}if(z=W(I,20),void 0!==t){const Y=z.projection=[];for(let ae=0;ae<this.ngContentSelectors.length;ae++){const Ee=t[ae];Y.push(null!=Ee?Array.from(Ee):null)}}N=function bF(n,e,t,r,i){const o=t[1],a=function JK(n,e,t){const r=hi();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),XN(n,r,e,Em(n,e,1,null),t));const i=cc(e,n,r.directiveStart,r);_(i,e);const o=E(r,e);return o&&_(o,e),i}(o,t,e);if(r.components.push(a),n[8]=a,i&&i.forEach(c=>c(a,e)),e.contentQueries){const c=hi();e.contentQueries(1,a,c.directiveStart)}const l=hi();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(bo(l.index),GN(t[1],l,0,l.directiveStart,l.directiveEnd,e),KN(e,a)),a}(Q,this.componentDef,R,w,[LY]),E_(I,R,null)}finally{Lh()}return new fZ(this.componentType,N,zm(z,R),R,z)}}class fZ extends class eZ{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new uZ(i),this.componentType=e}get injector(){return new fu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Cc{}class a3{}const qm=new Map;class c3 extends Cc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new o3(this);const r=vo(e);this._bootstrapComponents=yu(r.bootstrap),this._r3Injector=lF(e,t,[{provide:Cc,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],Xn(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ji.THROW_IF_NOT_FOUND,r=Ot.Default){return e===ji||e===Cc||e===KD?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yA extends a3{constructor(e){super(),this.moduleType=e,null!==vo(e)&&function mZ(n){const e=new Set;!function t(r){const i=vo(r,!0),o=i.id;null!==o&&(function l3(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Xn(e)} vs ${Xn(e.name)}`)}(o,qm.get(o),r),qm.set(o,r));const a=yu(i.imports);for(const l of a)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new c3(this.moduleType,e)}}function Dd(n,e,t){const r=yo()+n,i=xe();return i[r]===un?wu(i,r,t?e.call(t):e()):function D_(n,e){return n[e]}(i,r)}function N_(n,e){const t=n[e];return t===un?void 0:t}function f3(n,e,t,r,i,o,a,l){const c=e+t;return function Mw(n,e,t,r,i){const o=tf(n,e,t,r);return Wo(n,e+2,i)||o}(n,c,i,o,a)?wu(n,c+3,l?r.call(l,i,o,a):r(i,o,a)):N_(n,c+3)}function af(n,e){const t=Bn();let r;const i=n+20;t.firstCreatePass?(r=function TZ(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ps(r.type)),a=na(H);try{const l=om(!1),c=o();return om(l),function YY(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,xe(),i,c),c}finally{na(a)}}function g3(n,e,t){const r=n+20,i=xe(),o=Ce(i,r);return F_(i,r)?function d3(n,e,t,r,i,o){const a=e+t;return Wo(n,a,i)?wu(n,a+1,o?r.call(o,i):r(i)):N_(n,a+1)}(i,yo(),e,o.transform,t,o):o.transform(t)}function jw(n,e,t,r){const i=n+20,o=xe(),a=Ce(o,i);return F_(o,i)?function h3(n,e,t,r,i,o,a){const l=e+t;return tf(n,l,i,o)?wu(n,l+2,a?r.call(a,i,o):r(i,o)):N_(n,l+2)}(o,yo(),e,a.transform,t,r,a):a.transform(t,r)}function bA(n,e,t,r,i){const o=n+20,a=xe(),l=Ce(a,o);return F_(a,o)?f3(a,yo(),e,l.transform,t,r,i,l):l.transform(t,r,i)}function F_(n,e){return n[1].data[e].pure}function wA(n){return e=>{setTimeout(n,void 0,e)}}const Rn=class IZ extends Ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,a;let l=e,c=t||(()=>null),p=r;if(e&&"object"==typeof e){const b=e;l=null===(i=b.next)||void 0===i?void 0:i.bind(b),c=null===(o=b.error)||void 0===o?void 0:o.bind(b),p=null===(a=b.complete)||void 0===a?void 0:a.bind(b)}this.__isAsync&&(c=wA(c),l&&(l=wA(l)),p&&(p=wA(p)));const v=super.subscribe({next:l,error:c,complete:p});return e instanceof Tt&&e.add(v),v}};function kZ(){return this._results[Am()]()}class L_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Am(),r=L_.prototype;r[t]||(r[t]=kZ)}get changes(){return this._changes||(this._changes=new Rn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=cs(e);(this._changesDetected=!function NT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let so=(()=>{class n{}return n.__NG_ELEMENT_ID__=RZ,n})();const MZ=so,xZ=class extends MZ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=C_(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),E_(t,r,e),new O_(r)}};function RZ(){return Hw(hi(),xe())}function Hw(n,e){return 4&n.type?new xZ(e,n,zm(n,e)):null}let ao=(()=>{class n{}return n.__NG_ELEMENT_ID__=PZ,n})();function PZ(){return y3(hi(),xe())}const OZ=ao,v3=class extends OZ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return zm(this._hostTNode,this._hostLView)}get injector(){return new fu(this._hostTNode,this._hostLView)}get parentInjector(){const e=md(this._hostTNode,this._hostLView);if(B0(e)){const t=fd(e,this._hostLView),r=Na(e);return new fu(t[1].data[r+8],t)}return new fu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=_3(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const a=e&&!function $h(n){return"function"==typeof n}(e);let l;if(a)l=t;else{const b=t||{};l=b.index,r=b.injector,i=b.projectableNodes,o=b.ngModuleRef}const c=a?e:new _A($r(e)),p=r||this.parentInjector;if(!o&&null==c.ngModule){const w=(a?p:this.parentInjector).get(Cc,null);w&&(o=w)}const v=c.create(p,i,void 0,o);return this.insert(v.hostView,l),v}insert(e,t){const r=e._lView,i=r[1];if(function ti(n){return zo(n[3])}(r)){const v=this.indexOf(e);if(-1!==v)this.detach(v);else{const b=r[3],w=new v3(b,b[6],b[3]);w.detach(w.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;!function fK(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],n_(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function pK(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(i,r,a,o);const l=SD(o,a),c=r[11],p=bw(c,a[7]);return null!==p&&function cK(n,e,t,r,i,o){r[0]=i,r[6]=e,w_(n,r,t,1,i,o)}(i,a[6],c,r,p,l),e.attachToViewContainerRef(),n_(CA(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=_3(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=wD(this._lContainer,t);r&&(cm(CA(this._lContainer),t),uN(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=wD(this._lContainer,t);return r&&null!=cm(CA(this._lContainer),t)?new O_(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function _3(n){return n[8]}function CA(n){return n[8]||(n[8]=[])}function y3(n,e){let t;const r=e[n.index];if(zo(r))t=r;else{let i;if(8&n.type)i=Br(r);else{const o=e[11];i=o.createComment("");const a=E(n,e);ef(o,bw(o,a),i,function _K(n,e){return Ar(n)?n.nextSibling(e):e.nextSibling}(o,a),!1)}e[n.index]=t=ZN(r,e,i,n),Aw(e,t)}return new v3(t,n,e)}class EA{constructor(e){this.queryList=e,this.matches=null}clone(){return new EA(this.queryList)}setDirty(){this.queryList.setDirty()}}class SA{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const a=t.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new SA(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==S3(e,t).matches&&this.queries[t].setDirty()}}class b3{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class TA{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new TA(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class DA{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new DA(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,LZ(t,o)),this.matchTNodeWithReadOption(e,t,hu(t,e,o,!1,!1))}else r===so?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wn||i===ao||i===so&&4&t.type)this.addMatch(t.index,-2);else{const o=hu(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function LZ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function BZ(n,e,t,r){return-1===t?function VZ(n,e){return 11&n.type?zm(n,e):4&n.type?Hw(n,e):null}(e,n):-2===t?function UZ(n,e,t){return t===Wn?zm(e,n):t===so?Hw(e,n):t===ao?y3(e,n):void 0}(n,e,r):cc(n,n[1],t,e)}function w3(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,a=t.matches,l=[];for(let c=0;c<a.length;c+=2){const p=a[c];l.push(p<0?null:BZ(e,o[p],a[c+1],t.metadata.read))}i.matches=l}return i.matches}function AA(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const a=w3(n,e,i,t);for(let l=0;l<o.length;l+=2){const c=o[l];if(c>0)r.push(a[l/2]);else{const p=o[l+1],v=e[-c];for(let b=10;b<v.length;b++){const w=v[b];w[17]===w[3]&&AA(w[1],w,p,r)}if(null!==v[9]){const b=v[9];for(let w=0;w<b.length;w++){const I=b[w];AA(I[1],I,p,r)}}}}}return r}function Lt(n){const e=xe(),t=Bn(),r=Fh();em(r+1);const i=S3(t,r);if(n.dirty&&Ir(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?AA(t,e,r,[]):w3(t,e,i,r);n.reset(o,iZ),n.notifyOnChanges()}return!0}return!1}function hr(n,e,t){const r=Bn();r.firstCreatePass&&(E3(r,new b3(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),C3(r,xe(),e)}function Gr(n,e,t,r){const i=Bn();if(i.firstCreatePass){const o=hi();E3(i,new b3(e,t,r),o.index),function HZ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}C3(i,xe(),t)}function Vt(){return function jZ(n,e){return n[19].queries[e].queryList}(xe(),Fh())}function C3(n,e,t){const r=new L_(4==(4&t));qN(n,e,r,r.destroy),null===e[19]&&(e[19]=new SA),e[19].queries.push(new EA(r))}function E3(n,e,t){null===n.queries&&(n.queries=new TA),n.queries.track(new DA(e,t))}function S3(n,e){return n.queries.getByIndex(e)}function $w(...n){}const PA=new We("Application Initializer");let OA=(()=>{class n{constructor(t){this.appInits=t,this.resolve=$w,this.reject=$w,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(A_(o))t.push(o);else if(aA(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(oe(PA,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B_=new We("AppId",{providedIn:"root",factory:function j3(){return`${NA()}${NA()}${NA()}`}});function NA(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H3=new We("Platform Initializer"),Ww=new We("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),z3=new We("appBootstrapListener");let sJ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ec=new We("LocaleId",{providedIn:"root",factory:()=>Wh(Ec,Ot.Optional|Ot.SkipSelf)||function aJ(){return"undefined"!=typeof $localize&&$localize.locale||Nw}()});class uJ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let q3=(()=>{class n{compileModuleSync(t){return new yA(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=yu(vo(t).declarations).reduce((a,l)=>{const c=$r(l);return c&&a.push(new _A(c)),a},[]);return new uJ(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dJ=(()=>Promise.resolve(0))();function FA(n){"undefined"==typeof Zone?dJ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rn(!1),this.onMicrotaskEmpty=new Rn(!1),this.onStable=new Rn(!1),this.onError=new Rn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function hJ(){let n=yn.requestAnimationFrame,e=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function mJ(n){const e=()=>{!function pJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,VA(n),n.isCheckStableRunning=!0,LA(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),VA(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,a,l)=>{try{return $3(n),t.invokeTask(i,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),W3(n)}},onInvoke:(t,r,i,o,a,l,c)=>{try{return $3(n),t.invoke(i,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),W3(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,VA(n),LA(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,fJ,$w,$w);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const fJ={};function LA(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VA(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function W3(n){n._nesting--,LA(n)}class gJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rn,this.onMicrotaskEmpty=new Rn,this.onStable=new Rn,this.onError=new Rn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let BA=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bn.assertNotInAngularZone(),FA(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())FA(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),vJ=(()=>{class n{constructor(){this._applications=new Map,UA.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return UA.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class _J{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Rl,UA=new _J;const G3=new We("AllowMultipleToken");class K3{constructor(e,t){this.name=e,this.token=t}}function Y3(n,e,t=[]){const r=`Platform: ${e}`,i=new We(r);return(o=[])=>{let a=Q3();if(!a||a.injector.get(G3,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const l=t.concat(o).concat({provide:i,useValue:!0},{provide:YD,useValue:"platform"});!function CJ(n){if(Rl&&!Rl.destroyed&&!Rl.injector.get(G3,!1))throw new st(400,"");Rl=n.get(SJ);const e=n.get(H3,null);e&&e.forEach(t=>t())}(ji.create({providers:l,name:r}))}return function EJ(n){const e=Q3();if(!e)throw new st(401,"");return e}()}}function Q3(){return Rl&&!Rl.destroyed?Rl:null}let SJ=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const l=function TJ(n,e){let t;return t="noop"===n?new gJ:("zone.js"===n?void 0:n)||new bn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:bn,useValue:l}];return l.run(()=>{const p=ji.create({providers:c,parent:this.injector,name:t.moduleType.name}),v=t.create(p),b=v.injector.get(vc,null);if(!b)throw new st(402,"");return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:I=>{b.handleError(I)}});v.onDestroy(()=>{jA(this._modules,v),w.unsubscribe()})}),function DJ(n,e,t){try{const r=t();return A_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(b,l,()=>{const w=v.injector.get(OA);return w.runInitializers(),w.donePromise.then(()=>(function oX(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(RL=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Ec,Nw)||Nw),this._moduleDoBootstrap(v),v))})})}bootstrapModule(t,r=[]){const i=X3({},r);return function bJ(n,e,t){const r=new yA(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Wm);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new st(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new st(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(oe(ji))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function X3(n,e){return Array.isArray(e)?e.reduce(X3,n):Object.assign(Object.assign({},n),e)}let Wm=(()=>{class n{constructor(t,r,i,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ye(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ye(c=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{bn.assertNotInAngularZone(),FA(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{bn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});this.isStable=nr(a,l.pipe(function os(n={}){const{connector:e=(()=>new Ie),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let a=null,l=null,c=null,p=0,v=!1,b=!1;const w=()=>{null==l||l.unsubscribe(),l=null},I=()=>{w(),a=c=null,v=b=!1},R=()=>{const N=a;I(),null==N||N.unsubscribe()};return Et((N,z)=>{p++,!b&&!v&&w();const Q=c=null!=c?c:e();z.add(()=>{p--,0===p&&!b&&!v&&(l=Or(R,i))}),Q.subscribe(z),a||(a=new ai({next:Y=>Q.next(Y),error:Y=>{b=!0,w(),l=Or(I,t,Y),Q.error(Y)},complete:()=>{v=!0,w(),l=Or(I,r),Q.complete()}}),It(N).subscribe(a))})(o)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new st(405,"");let i;i=t instanceof r3?t:this._injector.get(rf).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function wJ(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Cc),l=i.create(ji.NULL,[],r||i.selector,o),c=l.location.nativeElement,p=l.injector.get(BA,null),v=p&&l.injector.get(vJ);return p&&v&&v.registerApplication(c,p),l.onDestroy(()=>{this.detachView(l.hostView),jA(this.components,l),v&&v.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new st(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;jA(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(z3,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(oe(bn),oe(ji),oe(vc),oe(OA))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let J3=!0,ha=(()=>{class n{}return n.__NG_ELEMENT_ID__=kJ,n})();function kJ(n){return function MJ(n,e,t){if(od(n)&&!t){const r=et(n.index,e);return new O_(r,r)}return 47&n.type?new O_(e[16],e):null}(hi(),xe(),16==(16&n))}class i5{constructor(){}supports(e){return T_(e)}create(e){return new FJ(e)}}const NJ=(n,e)=>e;class FJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NJ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const a=!r||t&&t.currentIndex<s5(r,i,o)?t:r,l=s5(a,i,o),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{o||(o=[]);const p=l-i,v=c-i;if(p!=v){for(let w=0;w<p;w++){const I=w<o.length?o[w]:o[w]=0,R=I+w;v<=R&&R<p&&(o[w]=I+1)}o[a.previousIndex]=v-p}}l!==c&&e(a,l,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!T_(e))throw new st(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,o,a,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,l),r=!0),t=t._next}else i=0,function GY(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Am()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,l=>{a=this._trackByFn(i,l),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,l,a,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new LJ(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new o5),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o5),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class LJ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class o5{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new VJ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s5(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class a5{constructor(){}supports(e){return e instanceof Map||tA(e)}create(){return new BJ}}class BJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tA(e)))throw new st(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}const r=new UJ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class UJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l5(){return new Sc([new i5])}let Sc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||l5()),deps:[[n,new Va,new hs]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new st(901,"")}}return n.\u0275prov=be({token:n,providedIn:"root",factory:l5}),n})();function u5(){return new U_([new a5])}let U_=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||u5()),deps:[[n,new Va,new hs]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new st(901,"")}}return n.\u0275prov=be({token:n,providedIn:"root",factory:u5}),n})();const zJ=Y3(null,"core",[]);let qJ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(oe(Wm))},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})(),Yw=null;function Du(){return Yw}const Mn=new We("DocumentToken");let uf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:function(){return function KJ(){return oe(c5)}()},providedIn:"platform"}),n})();const YJ=new We("Location Initialized");let c5=(()=>{class n extends uf{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Du().getBaseHref(this._doc)}onPopState(t){const r=Du().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Du().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){d5()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){d5()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:function(){return function QJ(){return new c5(oe(Mn))}()},providedIn:"platform"}),n})();function d5(){return!!window.history.pushState}function WA(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function h5(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Tc(n){return n&&"?"!==n[0]?"?"+n:n}let Gm=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:function(){return function XJ(n){const e=oe(Mn).location;return new f5(oe(uf),e&&e.origin||"")}()},providedIn:"root"}),n})();const GA=new We("appBaseHref");let f5=(()=>{class n extends Gm{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WA(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Tc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const a=this.prepareExternalUrl(i+Tc(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){const a=this.prepareExternalUrl(i+Tc(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(oe(uf),oe(GA,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),ZJ=(()=>{class n extends Gm{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=WA(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let a=this.prepareExternalUrl(i+Tc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){let a=this.prepareExternalUrl(i+Tc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(oe(uf),oe(GA,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),j_=(()=>{class n{constructor(t,r){this._subject=new Rn,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=h5(p5(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tc(r))}normalize(t){return n.stripTrailingSlash(function eee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,p5(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tc(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tc(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Tc,n.joinWithSlash=WA,n.stripTrailingSlash=h5,n.\u0275fac=function(t){return new(t||n)(oe(Gm),oe(uf))},n.\u0275prov=be({token:n,factory:function(){return function JJ(){return new j_(oe(Gm),oe(uf))}()},providedIn:"root"}),n})();function p5(n){return n.replace(/\/index.html$/,"")}var mi=(()=>((mi=mi||{})[mi.Format=0]="Format",mi[mi.Standalone=1]="Standalone",mi))(),Pn=(()=>((Pn=Pn||{})[Pn.Narrow=0]="Narrow",Pn[Pn.Abbreviated=1]="Abbreviated",Pn[Pn.Wide=2]="Wide",Pn[Pn.Short=3]="Short",Pn))(),Kr=(()=>((Kr=Kr||{})[Kr.Short=0]="Short",Kr[Kr.Medium=1]="Medium",Kr[Kr.Long=2]="Long",Kr[Kr.Full=3]="Full",Kr))(),Ut=(()=>((Ut=Ut||{})[Ut.Decimal=0]="Decimal",Ut[Ut.Group=1]="Group",Ut[Ut.List=2]="List",Ut[Ut.PercentSign=3]="PercentSign",Ut[Ut.PlusSign=4]="PlusSign",Ut[Ut.MinusSign=5]="MinusSign",Ut[Ut.Exponential=6]="Exponential",Ut[Ut.SuperscriptingExponent=7]="SuperscriptingExponent",Ut[Ut.PerMille=8]="PerMille",Ut[Ut.Infinity=9]="Infinity",Ut[Ut.NaN=10]="NaN",Ut[Ut.TimeSeparator=11]="TimeSeparator",Ut[Ut.CurrencyDecimal=12]="CurrencyDecimal",Ut[Ut.CurrencyGroup=13]="CurrencyGroup",Ut))();function Qw(n,e){return qa(ps(n)[rt.DateFormat],e)}function Xw(n,e){return qa(ps(n)[rt.TimeFormat],e)}function Zw(n,e){return qa(ps(n)[rt.DateTimeFormat],e)}function za(n,e){const t=ps(n),r=t[rt.NumberSymbols][e];if(void 0===r){if(e===Ut.CurrencyDecimal)return t[rt.NumberSymbols][Ut.Decimal];if(e===Ut.CurrencyGroup)return t[rt.NumberSymbols][Ut.Group]}return r}function g5(n){if(!n[rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qa(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function YA(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const fee=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H_={},pee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zi=(()=>((zi=zi||{})[zi.Short=0]="Short",zi[zi.ShortGMT=1]="ShortGMT",zi[zi.Long=2]="Long",zi[zi.Extended=3]="Extended",zi))(),$t=(()=>(($t=$t||{})[$t.FullYear=0]="FullYear",$t[$t.Month=1]="Month",$t[$t.Date=2]="Date",$t[$t.Hours=3]="Hours",$t[$t.Minutes=4]="Minutes",$t[$t.Seconds=5]="Seconds",$t[$t.FractionalSeconds=6]="FractionalSeconds",$t[$t.Day=7]="Day",$t))(),En=(()=>((En=En||{})[En.DayPeriods=0]="DayPeriods",En[En.Days=1]="Days",En[En.Months=2]="Months",En[En.Eras=3]="Eras",En))();function mee(n,e,t,r){let i=function See(n){if(y5(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,a=1]=n.split("-").map(l=>+l);return Jw(i,o-1,a)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(fee))return function Tee(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-t,l=Number(n[5]||0)-r,c=Number(n[6]||0),p=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,a,l,c,p),e}(r)}const e=new Date(n);if(!y5(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Dc(t,e)||e;let l,a=[];for(;e;){if(l=pee.exec(e),!l){a.push(e);break}{a=a.concat(l.slice(1));const v=a.pop();if(!v)break;e=v}}let c=i.getTimezoneOffset();r&&(c=_5(r,c),i=function Eee(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Cee(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(_5(e,i)-i))}(i,r,!0));let p="";return a.forEach(v=>{const b=function wee(n){if(XA[n])return XA[n];let e;switch(n){case"G":case"GG":case"GGG":e=kr(En.Eras,Pn.Abbreviated);break;case"GGGG":e=kr(En.Eras,Pn.Wide);break;case"GGGGG":e=kr(En.Eras,Pn.Narrow);break;case"y":e=Ti($t.FullYear,1,0,!1,!0);break;case"yy":e=Ti($t.FullYear,2,0,!0,!0);break;case"yyy":e=Ti($t.FullYear,3,0,!1,!0);break;case"yyyy":e=Ti($t.FullYear,4,0,!1,!0);break;case"Y":e=r1(1);break;case"YY":e=r1(2,!0);break;case"YYY":e=r1(3);break;case"YYYY":e=r1(4);break;case"M":case"L":e=Ti($t.Month,1,1);break;case"MM":case"LL":e=Ti($t.Month,2,1);break;case"MMM":e=kr(En.Months,Pn.Abbreviated);break;case"MMMM":e=kr(En.Months,Pn.Wide);break;case"MMMMM":e=kr(En.Months,Pn.Narrow);break;case"LLL":e=kr(En.Months,Pn.Abbreviated,mi.Standalone);break;case"LLLL":e=kr(En.Months,Pn.Wide,mi.Standalone);break;case"LLLLL":e=kr(En.Months,Pn.Narrow,mi.Standalone);break;case"w":e=QA(1);break;case"ww":e=QA(2);break;case"W":e=QA(1,!0);break;case"d":e=Ti($t.Date,1);break;case"dd":e=Ti($t.Date,2);break;case"c":case"cc":e=Ti($t.Day,1);break;case"ccc":e=kr(En.Days,Pn.Abbreviated,mi.Standalone);break;case"cccc":e=kr(En.Days,Pn.Wide,mi.Standalone);break;case"ccccc":e=kr(En.Days,Pn.Narrow,mi.Standalone);break;case"cccccc":e=kr(En.Days,Pn.Short,mi.Standalone);break;case"E":case"EE":case"EEE":e=kr(En.Days,Pn.Abbreviated);break;case"EEEE":e=kr(En.Days,Pn.Wide);break;case"EEEEE":e=kr(En.Days,Pn.Narrow);break;case"EEEEEE":e=kr(En.Days,Pn.Short);break;case"a":case"aa":case"aaa":e=kr(En.DayPeriods,Pn.Abbreviated);break;case"aaaa":e=kr(En.DayPeriods,Pn.Wide);break;case"aaaaa":e=kr(En.DayPeriods,Pn.Narrow);break;case"b":case"bb":case"bbb":e=kr(En.DayPeriods,Pn.Abbreviated,mi.Standalone,!0);break;case"bbbb":e=kr(En.DayPeriods,Pn.Wide,mi.Standalone,!0);break;case"bbbbb":e=kr(En.DayPeriods,Pn.Narrow,mi.Standalone,!0);break;case"B":case"BB":case"BBB":e=kr(En.DayPeriods,Pn.Abbreviated,mi.Format,!0);break;case"BBBB":e=kr(En.DayPeriods,Pn.Wide,mi.Format,!0);break;case"BBBBB":e=kr(En.DayPeriods,Pn.Narrow,mi.Format,!0);break;case"h":e=Ti($t.Hours,1,-12);break;case"hh":e=Ti($t.Hours,2,-12);break;case"H":e=Ti($t.Hours,1);break;case"HH":e=Ti($t.Hours,2);break;case"m":e=Ti($t.Minutes,1);break;case"mm":e=Ti($t.Minutes,2);break;case"s":e=Ti($t.Seconds,1);break;case"ss":e=Ti($t.Seconds,2);break;case"S":e=Ti($t.FractionalSeconds,1);break;case"SS":e=Ti($t.FractionalSeconds,2);break;case"SSS":e=Ti($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=t1(zi.Short);break;case"ZZZZZ":e=t1(zi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=t1(zi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=t1(zi.Long);break;default:return null}return XA[n]=e,e}(v);p+=b?b(i,t,c):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function Jw(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Dc(n,e){const t=function tee(n){return ps(n)[rt.LocaleId]}(n);if(H_[t]=H_[t]||{},H_[t][e])return H_[t][e];let r="";switch(e){case"shortDate":r=Qw(n,Kr.Short);break;case"mediumDate":r=Qw(n,Kr.Medium);break;case"longDate":r=Qw(n,Kr.Long);break;case"fullDate":r=Qw(n,Kr.Full);break;case"shortTime":r=Xw(n,Kr.Short);break;case"mediumTime":r=Xw(n,Kr.Medium);break;case"longTime":r=Xw(n,Kr.Long);break;case"fullTime":r=Xw(n,Kr.Full);break;case"short":const i=Dc(n,"shortTime"),o=Dc(n,"shortDate");r=e1(Zw(n,Kr.Short),[i,o]);break;case"medium":const a=Dc(n,"mediumTime"),l=Dc(n,"mediumDate");r=e1(Zw(n,Kr.Medium),[a,l]);break;case"long":const c=Dc(n,"longTime"),p=Dc(n,"longDate");r=e1(Zw(n,Kr.Long),[c,p]);break;case"full":const v=Dc(n,"fullTime"),b=Dc(n,"fullDate");r=e1(Zw(n,Kr.Full),[v,b])}return r&&(H_[t][e]=r),r}function e1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Pl(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let a=String(n);for(;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function Ti(n,e,t=0,r=!1,i=!1){return function(o,a){let l=function vee(n,e){switch(n){case $t.FullYear:return e.getFullYear();case $t.Month:return e.getMonth();case $t.Date:return e.getDate();case $t.Hours:return e.getHours();case $t.Minutes:return e.getMinutes();case $t.Seconds:return e.getSeconds();case $t.FractionalSeconds:return e.getMilliseconds();case $t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||l>-t)&&(l+=t),n===$t.Hours)0===l&&-12===t&&(l=12);else if(n===$t.FractionalSeconds)return function gee(n,e){return Pl(n,3).substr(0,e)}(l,e);const c=za(a,Ut.MinusSign);return Pl(l,e,c,r,i)}}function kr(n,e,t=mi.Format,r=!1){return function(i,o){return function _ee(n,e,t,r,i,o){switch(t){case En.Months:return function iee(n,e,t){const r=ps(n),o=qa([r[rt.MonthsFormat],r[rt.MonthsStandalone]],e);return qa(o,t)}(e,i,r)[n.getMonth()];case En.Days:return function ree(n,e,t){const r=ps(n),o=qa([r[rt.DaysFormat],r[rt.DaysStandalone]],e);return qa(o,t)}(e,i,r)[n.getDay()];case En.DayPeriods:const a=n.getHours(),l=n.getMinutes();if(o){const p=function lee(n){const e=ps(n);return g5(e),(e[rt.ExtraData][2]||[]).map(r=>"string"==typeof r?YA(r):[YA(r[0]),YA(r[1])])}(e),v=function uee(n,e,t){const r=ps(n);g5(r);const o=qa([r[rt.ExtraData][0],r[rt.ExtraData][1]],e)||[];return qa(o,t)||[]}(e,i,r),b=p.findIndex(w=>{if(Array.isArray(w)){const[I,R]=w,N=a>=I.hours&&l>=I.minutes,z=a<R.hours||a===R.hours&&l<R.minutes;if(I.hours<R.hours){if(N&&z)return!0}else if(N||z)return!0}else if(w.hours===a&&w.minutes===l)return!0;return!1});if(-1!==b)return v[b]}return function nee(n,e,t){const r=ps(n),o=qa([r[rt.DayPeriodsFormat],r[rt.DayPeriodsStandalone]],e);return qa(o,t)}(e,i,r)[a<12?0:1];case En.Eras:return function oee(n,e){return qa(ps(n)[rt.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function t1(n){return function(e,t,r){const i=-1*r,o=za(t,Ut.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zi.Short:return(i>=0?"+":"")+Pl(a,2,o)+Pl(Math.abs(i%60),2,o);case zi.ShortGMT:return"GMT"+(i>=0?"+":"")+Pl(a,1,o);case zi.Long:return"GMT"+(i>=0?"+":"")+Pl(a,2,o)+":"+Pl(Math.abs(i%60),2,o);case zi.Extended:return 0===r?"Z":(i>=0?"+":"")+Pl(a,2,o)+":"+Pl(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function v5(n){return Jw(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function QA(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+o)/7)}else{const o=v5(t),a=function bee(n){const e=Jw(n,0,1).getDay();return Jw(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),l=o.getTime()-a.getTime();i=1+Math.round(l/6048e5)}return Pl(i,n,za(r,Ut.MinusSign))}}function r1(n,e=!1){return function(t,r){return Pl(v5(t).getFullYear(),n,za(r,Ut.MinusSign),e)}}const XA={};function _5(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function y5(n){return n instanceof Date&&!isNaN(n.valueOf())}function E5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let s1=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(T_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Xn(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(H(Sc),H(U_),H(Wn),H(wc))},n.\u0275dir=Le({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vee{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $a=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vee(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const l=r.get(o);r.move(l,a),S5(l,i)}});for(let i=0,o=r.length;i<o;i++){const l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{S5(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(so),H(Sc))},n.\u0275dir=Le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function S5(n,e){n.context.$implicit=e.item}let ri=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){T5("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){T5("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(so))},n.\u0275dir=Le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Bee{constructor(){this.$implicit=null,this.ngIf=null}}function T5(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xn(e)}'.`)}class rI{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Km=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),a1=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new rI(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(so),H(Km,9))},n.\u0275dir=Le({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),D5=(()=>{class n{constructor(t,r,i){i._addDefault(new rI(t,r))}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(so),H(Km,9))},n.\u0275dir=Le({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function Ol(n,e){return new st(2100,"")}class zee{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class qee{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const $ee=new qee,Wee=new zee;let I5=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(A_(t))return $ee;if(HF(t))return Wee;throw Ol()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(H(ha,16))},n.\u0275pipe=qr({name:"async",type:n,pure:!1}),n})();const Xee=new We("DATE_PIPE_DEFAULT_TIMEZONE");let Bs=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,o){var a;if(null==t||""===t||t!=t)return null;try{return mee(t,r,o||this.locale,null!==(a=null!=i?i:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(l){throw Ol()}}}return n.\u0275fac=function(t){return new(t||n)(H(Ec,16),H(Xee,24))},n.\u0275pipe=qr({name:"date",type:n,pure:!0}),n})(),M5=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw Ol();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=qr({name:"slice",type:n,pure:!1}),n})(),Ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();const x5="browser";let dte=(()=>{class n{}return n.\u0275prov=be({token:n,providedIn:"root",factory:()=>new hte(oe(Mn),window)}),n})();class hte{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function fte(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=R5(this.window.history)||R5(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function R5(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class P5{}class sI extends class pte extends class GJ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function WJ(n){Yw||(Yw=n)}(new sI)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mte(){return q_=q_||document.querySelector("base"),q_?q_.getAttribute("href"):null}();return null==t?null:function gte(n){l1=l1||document.createElement("a"),l1.setAttribute("href",n);const e=l1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){q_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return E5(document.cookie,e)}}let l1,q_=null;const O5=new We("TRANSITION_ID"),_te=[{provide:PA,useFactory:function vte(n,e,t){return()=>{t.get(OA).donePromise.then(()=>{const r=Du(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[O5,Mn,ji],multi:!0}];class aI{static init(){!function yJ(n){UA=n}(new aI)}addToWindow(e){yn.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},yn.getAllAngularTestabilities=()=>e.getAllTestabilities(),yn.getAllAngularRootElements=()=>e.getAllRootElements(),yn.frameworkStabilizers||(yn.frameworkStabilizers=[]),yn.frameworkStabilizers.push(r=>{const i=yn.getAllAngularTestabilities();let o=i.length,a=!1;const l=function(c){a=a||c,o--,0==o&&r(a)};i.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Du().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let yte=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const u1=new We("EventManagerPlugins");let c1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const a=i[o];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(oe(u1),oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class N5{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Du().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let F5=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),$_=(()=>{class n extends F5{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(L5),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(L5))}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function L5(n){Du().remove(n)}const lI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uI=/%COMP%/g;function d1(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?d1(n,i,t):(i=i.replace(uI,n),t.push(i))}return t}function U5(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let h1=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cI(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case eo.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Tte(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case eo.ShadowDom:return new Dte(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=d1(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(oe(c1),oe($_),oe(B_))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class cI{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lI[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=lI[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=lI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ca.DashCase|ca.Important)?e.style.setProperty(t,r,i&ca.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ca.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,U5(r)):this.eventManager.addEventListener(e,t,U5(r))}}class Tte extends cI{constructor(e,t,r,i){super(e),this.component=r;const o=d1(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Cte(n){return"_ngcontent-%COMP%".replace(uI,n)}(i+"-"+r.id),this.hostAttr=function Ete(n){return"_nghost-%COMP%".replace(uI,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Dte extends cI{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=d1(i.id,i.styles,[]);for(let a=0;a<o.length;a++){const l=document.createElement("style");l.textContent=o[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ate=(()=>{class n extends N5{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const H5=["alt","control","meta","shift"],kte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z5={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mte={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xte=(()=>{class n extends N5{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Du().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let a="";if(H5.forEach(c=>{const p=r.indexOf(c);p>-1&&(r.splice(p,1),a+=c+".")}),a+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=a,l}static getEventFullKey(t){let r="",i=function Rte(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&z5.hasOwnProperty(e)&&(e=z5[e]))}return kte[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),H5.forEach(o=>{o!=i&&Mte[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Fte=Y3(zJ,"browser",[{provide:Ww,useValue:x5},{provide:H3,useValue:function Pte(){sI.makeCurrent(),aI.init()},multi:!0},{provide:Mn,useFactory:function Nte(){return function El(n){di=n}(document),document},deps:[]}]),Lte=[{provide:YD,useValue:"root"},{provide:vc,useFactory:function Ote(){return new vc},deps:[]},{provide:u1,useClass:Ate,multi:!0,deps:[Mn,bn,Ww]},{provide:u1,useClass:xte,multi:!0,deps:[Mn]},{provide:h1,useClass:h1,deps:[c1,$_,B_]},{provide:P_,useExisting:h1},{provide:F5,useExisting:$_},{provide:$_,useClass:$_,deps:[Mn]},{provide:BA,useClass:BA,deps:[bn]},{provide:c1,useClass:c1,deps:[u1,bn]},{provide:P5,useClass:yte,deps:[]}];let q5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:B_,useValue:t.appId},{provide:O5,useExisting:B_},_te]}}}return n.\u0275fac=function(t){return new(t||n)(oe(n,12))},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:Lte,imports:[Ac,qJ]}),n})();"undefined"!=typeof window&&window;let G5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:function(t){let r=null;return r=t?new(t||n):oe(K5),r},providedIn:"root"}),n})(),K5=(()=>{class n extends G5{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case vr.NONE:return r;case vr.HTML:return Ua(r,"HTML")?fs(r):_w(this._doc,String(r)).toString();case vr.STYLE:return Ua(r,"Style")?fs(r):r;case vr.SCRIPT:if(Ua(r,"Script"))return fs(r);throw new Error("unsafe value used in a script context");case vr.URL:return cw(r),Ua(r,"URL")?fs(r):bd(String(r));case vr.RESOURCE_URL:if(Ua(r,"ResourceURL"))return fs(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function XT(n){return new WT(n)}(t)}bypassSecurityTrustStyle(t){return function ZT(n){return new GT(n)}(t)}bypassSecurityTrustScript(t){return function JT(n){return new KT(n)}(t)}bypassSecurityTrustUrl(t){return function eD(n){return new YT(n)}(t)}bypassSecurityTrustResourceUrl(t){return function tD(n){return new QT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:function(t){let r=null;return r=t?new t:function Gte(n){return new K5(n.get(Mn))}(oe(ji)),r},providedIn:"root"}),n})();function Gt(...n){return It(n,X(n))}class Ko extends Ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Kte}=Array,{getPrototypeOf:Yte,prototype:Qte,keys:Xte}=Object;function Y5(n){if(1===n.length){const e=n[0];if(Kte(e))return{args:e,keys:null};if(function Zte(n){return n&&"object"==typeof n&&Yte(n)===Qte}(e)){const t=Xte(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Jte}=Array;function hI(n){return ye(e=>function ene(n,e){return Jte(e)?n(...e):n(e)}(n,e))}function Q5(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function W_(...n){const e=X(n),t=Z(n),{args:r,keys:i}=Y5(n);if(0===r.length)return It([],e);const o=new Ye(function tne(n,e,t=ve){return r=>{X5(e,()=>{const{length:i}=n,o=new Array(i);let a=i,l=i;for(let c=0;c<i;c++)X5(e,()=>{const p=It(n[c],e);let v=!1;p.subscribe(Bt(r,b=>{o[c]=b,v||(v=!0,l--),l||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>Q5(i,a):ve));return t?o.pipe(hI(t)):o}function X5(n,e,t){n?qn(t,n,e):e()}function f1(n,e){const t=ze(n)?n:()=>n,r=i=>i.error(t());return new Ye(e?i=>e.schedule(r,0,i):r)}const p1=wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function m1(...n){return function nne(){return Fi(1)}()(It(n,X(n)))}function fI(n){return new Ye(e=>{qt(n()).subscribe(e)})}function Z5(){return Et((n,e)=>{let t=null;n._refCount++;const r=Bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rne extends Ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(Bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return Z5()(this)}}function Ic(n,e){return Et((t,r)=>{let i=null,o=0,a=!1;const l=()=>a&&!i&&r.complete();t.subscribe(Bt(r,c=>{null==i||i.unsubscribe();let p=0;const v=o++;qt(n(c,v)).subscribe(i=Bt(r,b=>r.next(e?e(c,b,v,p++):b),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function cf(...n){const e=X(n);return Et((t,r)=>{(e?m1(n,t,e):m1(n,t)).subscribe(r)})}function ine(n,e,t,r,i){return(o,a)=>{let l=t,c=e,p=0;o.subscribe(Bt(a,v=>{const b=p++;c=l?n(c,v,b):(l=!0,v),r&&a.next(c)},i&&(()=>{l&&a.next(c),a.complete()})))}}function J5(n,e){return Et(ine(n,e,arguments.length>=2,!0))}function Wa(n,e){return Et((t,r)=>{let i=0;t.subscribe(Bt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Id(n){return Et((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Bt(t,void 0,void 0,a=>{o=qt(n(a,Id(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ym(n,e){return ze(e)?Cr(n,e,1):Cr(n,1)}function pI(n){return n<=0?()=>Qn:Et((e,t)=>{let r=[];e.subscribe(Bt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function e4(n=one){return Et((e,t)=>{let r=!1;e.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function one(){return new p1}function t4(n){return Et((e,t)=>{let r=!1;e.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Qm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wa((i,o)=>n(i,o,r)):ve,pr(1),t?t4(e):e4(()=>new p1))}function Us(n,e,t){const r=ze(n)||e||t?{next:n,error:e,complete:t}:n;return r?Et((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;i.subscribe(Bt(o,c=>{var p;null===(p=r.next)||void 0===p||p.call(r,c),o.next(c)},()=>{var c;l=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var p;l=!1,null===(p=r.error)||void 0===p||p.call(r,c),o.error(c)},()=>{var c,p;l&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):ve}class kc{constructor(e,t){this.id=e,this.url=t}}class mI extends kc{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G_ extends kc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n4 extends kc{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lne extends kc{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class une extends kc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cne extends kc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dne extends kc{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hne extends kc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fne extends kc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class i4{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pne{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gne{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vne{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o4{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xn="primary";class _ne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xm(n){return new _ne(n)}const s4="ngNavigationCancelingError";function gI(n){const e=Error("NavigationCancelingError: "+n);return e[s4]=!0,e}function bne(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],l=n[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Au(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!a4(n[i],e[i]))return!1;return!0}function a4(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function l4(n){return Array.prototype.concat.apply([],n)}function u4(n){return n.length>0?n[n.length-1]:null}function Eo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Iu(n){return aA(n)?n:A_(n)?It(Promise.resolve(n)):Gt(n)}const Ene={exact:function h4(n,e,t){if(!hf(n.segments,e.segments)||!g1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!h4(n.children[r],e.children[r],t))return!1;return!0},subset:f4},c4={exact:function Sne(n,e){return Au(n,e)},subset:function Tne(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>a4(n[t],e[t]))},ignored:()=>!0};function d4(n,e,t){return Ene[t.paths](n.root,e.root,t.matrixParams)&&c4[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function f4(n,e,t){return p4(n,e,e.segments,t)}function p4(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hf(i,t)||e.hasChildren()||!g1(i,t,r))}if(n.segments.length===t.length){if(!hf(n.segments,t)||!g1(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!f4(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(hf(n.segments,i)&&g1(n.segments,i,r)&&n.children[xn])&&p4(n.children[xn],e,o,r)}}function g1(n,e,t){return e.every((r,i)=>c4[t](n[i].parameters,r.parameters))}class df{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xm(this.queryParams)),this._queryParamMap}toString(){return Ine.serialize(this)}}class Un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Eo(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v1(this)}}class K_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xm(this.parameters)),this._parameterMap}toString(){return y4(this)}}function hf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class m4{}class g4{parse(e){const t=new Lne(e);return new df(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Y_(e.root,!0)}`,r=function xne(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_1(t)}=${_1(i)}`).join("&"):`${_1(t)}=${_1(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kne(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ine=new g4;function v1(n){return n.segments.map(e=>y4(e)).join("/")}function Y_(n,e){if(!n.hasChildren())return v1(n);if(e){const t=n.children[xn]?Y_(n.children[xn],!1):"",r=[];return Eo(n.children,(i,o)=>{o!==xn&&r.push(`${o}:${Y_(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ane(n,e){let t=[];return Eo(n.children,(r,i)=>{i===xn&&(t=t.concat(e(r,i)))}),Eo(n.children,(r,i)=>{i!==xn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===xn?[Y_(n.children[xn],!1)]:[`${i}:${Y_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xn]?`${v1(n)}/${t[0]}`:`${v1(n)}/(${t.join("//")})`}}function v4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _1(n){return v4(n).replace(/%3B/gi,";")}function vI(n){return v4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function y1(n){return decodeURIComponent(n)}function _4(n){return y1(n.replace(/\+/g,"%20"))}function y4(n){return`${vI(n.path)}${function Mne(n){return Object.keys(n).map(e=>`;${vI(e)}=${vI(n[e])}`).join("")}(n.parameters)}`}const Rne=/^[^\/()?;=#]+/;function b1(n){const e=n.match(Rne);return e?e[0]:""}const Pne=/^[^=?&#]+/,Nne=/^[^&#]+/;class Lne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xn]=new Un(e,t)),r}parseSegment(){const e=b1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new K_(y1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=b1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=b1(this.remaining);i&&(r=i,this.capture(r))}e[y1(t)]=y1(r)}parseQueryParam(e){const t=function One(n){const e=n.match(Pne);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function Fne(n){const e=n.match(Nne);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=_4(t),o=_4(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=b1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=xn);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[xn]:new Un([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class b4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_I(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_I(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yI(e,this._root).map(t=>t.value)}}function _I(n,e){if(n===e.value)return e;for(const t of e.children){const r=_I(n,t);if(r)return r}return null}function yI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yI(n,t);if(r.length)return r.unshift(e),r}return[]}class Mc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class w4 extends b4{constructor(e,t){super(e),this.snapshot=t,bI(this,e)}toString(){return this.snapshot.toString()}}function C4(n,e){const t=function Vne(n,e){const a=new w1([],{},{},"",{},xn,e,null,n.root,-1,{});return new S4("",new Mc(a,[]))}(n,e),r=new Ko([new K_("",{})]),i=new Ko({}),o=new Ko({}),a=new Ko({}),l=new Ko(""),c=new ff(r,i,a,l,o,xn,e,t.root);return c.snapshot=t.root,new w4(new Mc(c,[]),t)}class ff{constructor(e,t,r,i,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>Xm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>Xm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E4(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Bne(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class w1{constructor(e,t,r,i,o,a,l,c,p,v,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=c,this._urlSegment=p,this._lastPathIndex=v,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class S4 extends b4{constructor(e,t){super(t),this.url=e,bI(this,t)}toString(){return T4(this._root)}}function bI(n,e){e.value._routerState=n,e.children.forEach(t=>bI(n,t))}function T4(n){const e=n.children.length>0?` { ${n.children.map(T4).join(", ")} } `:"";return`${n.value}${e}`}function wI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Au(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Au(e.params,t.params)||n.params.next(t.params),function wne(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Au(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Au(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function CI(n,e){const t=Au(n.params,e.params)&&function Dne(n,e){return hf(n,e)&&n.every((t,r)=>Au(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||CI(n.parent,e.parent))}function Q_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function jne(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Q_(n,r,i);return Q_(n,r)})}(n,e,t);return new Mc(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Q_(n,l)),a}}const r=function Hne(n){return new ff(new Ko(n.url),new Ko(n.params),new Ko(n.queryParams),new Ko(n.fragment),new Ko(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Q_(n,o));return new Mc(r,i)}}function C1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function X_(n){return"object"==typeof n&&null!=n&&n.outlets}function EI(n,e,t,r,i){let o={};if(r&&Eo(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(p=>`${p}`):`${l}`}),n===e)return new df(t,o,i);const a=D4(n,e,t);return new df(a,o,i)}function D4(n,e,t){const r={};return Eo(n.children,(i,o)=>{r[o]=i===e?t:D4(i,e,t)}),new Un(n.segments,r)}class A4{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&C1(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(X_);if(i&&i!==u4(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class SI{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function I4(n,e,t){if(n||(n=new Un([],{})),0===n.segments.length&&n.hasChildren())return E1(n,e,t);const r=function Kne(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const a=n.segments[i],l=t[r];if(X_(l))break;const c=`${l}`,p=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&p&&"object"==typeof p&&void 0===p.outlets){if(!M4(c,p,a))return o;r+=2}else{if(!M4(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Un(n.segments.slice(0,r.pathIndex),{});return o.children[xn]=new Un(n.segments.slice(r.pathIndex),n.children),E1(o,0,i)}return r.match&&0===i.length?new Un(n.segments,{}):r.match&&!n.hasChildren()?TI(n,e,t):r.match?E1(n,0,i):TI(n,e,t)}function E1(n,e,t){if(0===t.length)return new Un(n.segments,{});{const r=function Gne(n){return X_(n[0])?n[0].outlets:{[xn]:n}}(t),i={};return Eo(r,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[a]=I4(n.children[a],e,o))}),Eo(n.children,(o,a)=>{void 0===r[a]&&(i[a]=o)}),new Un(n.segments,i)}}function TI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(X_(o)){const c=Yne(o.outlets);return new Un(r,c)}if(0===i&&C1(t[0])){r.push(new K_(n.segments[e].path,k4(t[0]))),i++;continue}const a=X_(o)?o.outlets[xn]:`${o}`,l=i<t.length-1?t[i+1]:null;a&&l&&C1(l)?(r.push(new K_(a,k4(l))),i+=2):(r.push(new K_(a,{})),i++)}return new Un(r,{})}function Yne(n){const e={};return Eo(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=TI(new Un([],{}),0,t))}),e}function k4(n){const e={};return Eo(n,(t,r)=>e[r]=`${t}`),e}function M4(n,e,t){return n==t.path&&Au(e,t.parameters)}class Xne{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zm(t);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Eo(i,(o,a)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zm(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zm(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zm(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mne(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(wI(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),wI(l.route.value),this.activateChildRoutes(e,null,a.children)}else{const l=function Zne(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=c,a.outlet&&a.outlet.activateWith(i,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class DI{constructor(e,t){this.routes=e,this.module=t}}function kd(n){return"function"==typeof n}function pf(n){return n instanceof df}const Z_=Symbol("INITIAL_VALUE");function J_(){return Ic(n=>W_(n.map(e=>e.pipe(pr(1),cf(Z_)))).pipe(J5((e,t)=>{let r=!1;return t.reduce((i,o,a)=>i!==Z_?i:(o===Z_&&(r=!0),r||!1!==o&&a!==t.length-1&&!pf(o)?i:o),e)},Z_),Wa(e=>e!==Z_),ye(e=>pf(e)?e:!0===e),pr(1)))}class ire{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ey,this.attachRef=null}}class ey{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ire,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let AI=(()=>{class n{constructor(t,r,i,o,a){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Rn,this.deactivateEvents=new Rn,this.attachEvents=new Rn,this.detachEvents=new Rn,this.name=o||xn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,c=new ore(t,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(H(ey),H(ao),H(rf),dc("name"),H(ha))},n.\u0275dir=Le({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ore{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ff?this.route:e===ey?this.childContexts:this.parent.get(e,t)}}let x4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&le(0,"router-outlet")},directives:[AI],encapsulation:2}),n})();function R4(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];sre(r,are(e,r))}}function sre(n,e){n.children&&R4(n.children,e)}function are(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function II(n){const e=n.children&&n.children.map(II),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xn&&(t.component=x4),t}function Ga(n){return n.outlet||xn}function P4(n,e){const t=n.filter(r=>Ga(r)===e);return t.push(...n.filter(r=>Ga(r)!==e)),t}const O4={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},O4):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||bne)(t,n,e);if(!o)return Object.assign({},O4);const a={};Eo(o.posParams,(c,p)=>{a[p]=c.path});const l=o.consumed.length>0?Object.assign(Object.assign({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function T1(n,e,t,r,i="corrected"){if(t.length>0&&function cre(n,e,t){return t.some(r=>D1(n,e,r)&&Ga(r)!==xn)}(n,t,r)){const a=new Un(e,function ure(n,e,t,r){const i={};i[xn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Ga(o)!==xn){const a=new Un([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ga(o)]=a}return i}(n,e,r,new Un(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function dre(n,e,t){return t.some(r=>D1(n,e,r))}(n,t,r)){const a=new Un(n.segments,function lre(n,e,t,r,i,o){const a={};for(const l of r)if(D1(n,t,l)&&!i[Ga(l)]){const c=new Un([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:e.length,a[Ga(l)]=c}return Object.assign(Object.assign({},i),a)}(n,e,t,r,n.children,i));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const o=new Un(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function D1(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function N4(n,e,t,r){return!!(Ga(n)===r||r!==xn&&D1(e,t,n))&&("**"===n.path||S1(e,n,t).matched)}function F4(n,e,t){return 0===e.length&&!n.children[t]}class A1{constructor(e){this.segmentGroup=e||null}}class L4{constructor(e){this.urlTree=e}}function ty(n){return f1(new A1(n))}function V4(n){return f1(new L4(n))}class mre{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Cc)}apply(){const e=T1(this.urlTree.root,[],[],this.config).segmentGroup,t=new Un(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,xn).pipe(ye(o=>this.createUrlTree(kI(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Id(o=>{if(o instanceof L4)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof A1?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xn).pipe(ye(i=>this.createUrlTree(kI(i),e.queryParams,e.fragment))).pipe(Id(i=>{throw i instanceof A1?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Un([],{[xn]:e}):e;return new df(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ye(o=>new Un([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return It(i).pipe(Ym(o=>{const a=r.children[o],l=P4(t,o);return this.expandSegmentGroup(e,l,a,o).pipe(ye(c=>({segment:c,outlet:o})))}),J5((o,a)=>(o[a.outlet]=a.segment,o),{}),function sne(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wa((i,o)=>n(i,o,r)):ve,pI(1),t?t4(e):e4(()=>new p1))}())}expandSegment(e,t,r,i,o,a){return It(r).pipe(Ym(l=>this.expandSegmentAgainstRoute(e,t,r,l,i,o,a).pipe(Id(p=>{if(p instanceof A1)return Gt(null);throw p}))),Qm(l=>!!l),Id((l,c)=>{if(l instanceof p1||"EmptyError"===l.name)return F4(t,i,o)?Gt(new Un([],{})):ty(t);throw l}))}expandSegmentAgainstRoute(e,t,r,i,o,a,l){return N4(i,t,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a):ty(t):ty(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?V4(o):this.lineralizeSegments(r,o).pipe(Cr(a=>{const l=new Un(a,{});return this.expandSegment(e,l,t,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a){const{matched:l,consumedSegments:c,remainingSegments:p,positionalParamSegments:v}=S1(t,i,o);if(!l)return ty(t);const b=this.applyRedirectCommands(c,i.redirectTo,v);return i.redirectTo.startsWith("/")?V4(b):this.lineralizeSegments(i,b).pipe(Cr(w=>this.expandSegment(e,t,r,w.concat(p),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(b=>(r._loadedConfig=b,new Un(i,{})))):Gt(new Un(i,{}));const{matched:a,consumedSegments:l,remainingSegments:c}=S1(t,r,i);return a?this.getChildConfig(e,r,i).pipe(Cr(v=>{const b=v.module,w=v.routes,{segmentGroup:I,slicedSegments:R}=T1(t,l,c,w),N=new Un(I.segments,I.children);if(0===R.length&&N.hasChildren())return this.expandChildren(b,w,N).pipe(ye(ae=>new Un(l,ae)));if(0===w.length&&0===R.length)return Gt(new Un(l,{}));const z=Ga(r)===o;return this.expandSegment(b,N,w,R,z?xn:o,!0).pipe(ye(Y=>new Un(l.concat(Y.segments),Y.children)))})):ty(t)}getChildConfig(e,t,r){return t.children?Gt(new DI(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Cr(i=>i?this.configLoader.load(e.injector,t).pipe(ye(o=>(t._loadedConfig=o,o))):function fre(n){return f1(gI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Gt(new DI([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Gt(i.map(a=>{const l=e.get(a);let c;if(function ere(n){return n&&kd(n.canLoad)}(l))c=l.canLoad(t,r);else{if(!kd(l))throw new Error("Invalid CanLoad guard");c=l(t,r)}return Iu(c)})).pipe(J_(),Us(a=>{if(!pf(a))return;const l=gI(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),ye(a=>!0===a)):Gt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Gt(r);if(i.numberOfChildren>1||!i.children[xn])return f1(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[xn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new df(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Eo(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[o]=t[l]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let a={};return Eo(t.children,(l,c)=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Un(o,a)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function kI(n){const e={};for(const r of Object.keys(n.children)){const o=kI(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function gre(n){if(1===n.numberOfChildren&&n.children[xn]){const e=n.children[xn];return new Un(n.segments.concat(e.segments),e.children)}return n}(new Un(n.segments,e))}class B4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class I1{constructor(e,t){this.component=e,this.route=t}}function _re(n,e,t){const r=n._root;return ny(r,e?e._root:null,t,[r.value])}function k1(n,e,t){const r=function bre(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ny(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zm(e);return n.children.forEach(a=>{(function wre(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function Cre(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hf(n.url,e.url)||!Au(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CI(n,e)||!Au(n.queryParams,e.queryParams);default:return!CI(n,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new B4(r)):(o.data=a.data,o._resolvedData=a._resolvedData),ny(n,e,o.component?l?l.children:null:t,r,i),c&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new I1(l.outlet.component,a))}else a&&ry(e,l,i),i.canActivateChecks.push(new B4(r)),ny(n,null,o.component?l?l.children:null:t,r,i)})(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Eo(o,(a,l)=>ry(a,t.getContext(l),i)),i}function ry(n,e,t){const r=Zm(n),i=n.value;Eo(r,(o,a)=>{ry(o,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new I1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class xre{}function U4(n){return new Ye(e=>e.error(n))}class Pre{constructor(e,t,r,i,o,a){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const e=T1(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xn);if(null===t)return null;const r=new w1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mc(r,t),o=new S4(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=E4(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const a=t.children[o],l=P4(e,o),c=this.processSegmentGroup(l,a,o);if(null===c)return null;r.push(...c)}const i=j4(r);return function Ore(n){n.sort((e,t)=>e.value.outlet===xn?-1:t.value.outlet===xn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const a=this.processSegmentAgainstRoute(o,t,r,i);if(null!==a)return a}return F4(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!N4(e,t,r,i))return null;let o,a=[],l=[];if("**"===e.path){const I=r.length>0?u4(r).parameters:{};o=new w1(r,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,q4(e),Ga(e),e.component,e,H4(t),z4(t)+r.length,$4(e))}else{const I=S1(t,e,r);if(!I.matched)return null;a=I.consumedSegments,l=I.remainingSegments,o=new w1(a,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,q4(e),Ga(e),e.component,e,H4(t),z4(t)+a.length,$4(e))}const c=function Nre(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:p,slicedSegments:v}=T1(t,a,l,c.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===v.length&&p.hasChildren()){const I=this.processChildren(c,p);return null===I?null:[new Mc(o,I)]}if(0===c.length&&0===v.length)return[new Mc(o,[])];const b=Ga(e)===i,w=this.processSegment(c,p,v,b?xn:i);return null===w?null:[new Mc(o,w)]}}function Fre(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j4(n){const e=[],t=new Set;for(const r of n){if(!Fre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=j4(r.children);e.push(new Mc(r.value,i))}return e.filter(r=>!t.has(r))}function H4(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z4(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function q4(n){return n.data||{}}function $4(n){return n.resolve||{}}function W4(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MI(n){return Ic(e=>{const t=n(e);return t?It(t).pipe(ye(()=>e)):Gt(e)})}class qre extends class zre{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xI=new We("ROUTES");class G4{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=o.create(e);return new DI(l4(a.injector.get(xI,void 0,Ot.Self|Ot.Optional)).map(II),a)}),Id(o=>{throw t._loader$=void 0,o}));return t._loader$=new rne(i,()=>new Ie).pipe(Z5()),t._loader$}loadModuleFactory(e){return Iu(e()).pipe(Cr(t=>t instanceof a3?Gt(t):It(this.compiler.compileModuleAsync(t))))}}class Wre{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gre(n){throw n}function Kre(n,e,t){return e.parse("/")}function K4(n,e){return Gt(null)}const Yre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class n{constructor(t,r,i,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ie,this.errorHandler=Gre,this.malformedUriErrorHandler=Kre,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:K4,afterPreactivation:K4},this.urlHandlingStrategy=new Wre,this.routeReuseStrategy=new qre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Cc),this.console=a.get(sJ);const b=a.get(bn);this.isNgZoneEnabled=b instanceof bn&&bn.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function Cne(){return new df(new Un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new G4(a,l,w=>this.triggerEvent(new r4(w)),w=>this.triggerEvent(new i4(w))),this.routerState=C4(this.currentUrlTree,this.rootComponentType),this.transitions=new Ko({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Wa(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ic(i=>{let o=!1,a=!1;return Gt(i).pipe(Us(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ic(l=>{const c=this.browserUrlTree.toString(),p=!this.navigated||l.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y4(l.source)&&(this.browserUrlTree=l.extractedUrl),Gt(l).pipe(Ic(b=>{const w=this.transitions.getValue();return r.next(new mI(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),w!==this.transitions.getValue()?Qn:Promise.resolve(b)}),function vre(n,e,t,r){return Ic(i=>function pre(n,e,t,r,i){return new mre(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ye(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Us(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function Lre(n,e,t,r,i){return Cr(o=>function Rre(n,e,t,r,i="emptyOnly",o="legacy"){try{const a=new Pre(n,e,t,r,i,o).recognize();return null===a?U4(new xre):Gt(a)}catch(a){return U4(a)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(ye(a=>Object.assign(Object.assign({},o),{targetSnapshot:a}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),Us(b=>{if("eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(I,b)}this.browserUrlTree=b.urlAfterRedirects}const w=new une(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);r.next(w)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:I,source:R,restoredState:N,extras:z}=l,Q=new mI(w,this.serializeUrl(I),R,N);r.next(Q);const Y=C4(I,this.rootComponentType).snapshot;return Gt(Object.assign(Object.assign({},l),{targetSnapshot:Y,urlAfterRedirects:I,extras:Object.assign(Object.assign({},z),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),Qn}),MI(l=>{const{targetSnapshot:c,id:p,extractedUrl:v,rawUrl:b,extras:{skipLocationChange:w,replaceUrl:I}}=l;return this.hooks.beforePreactivation(c,{navigationId:p,appliedUrlTree:v,rawUrlTree:b,skipLocationChange:!!w,replaceUrl:!!I})}),Us(l=>{const c=new cne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ye(l=>Object.assign(Object.assign({},l),{guards:_re(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function Ere(n,e){return Cr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?Gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Sre(n,e,t,r){return It(n).pipe(Cr(i=>function Mre(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Gt(o.map(l=>{const c=k1(l,e,i);let p;if(function rre(n){return n&&kd(n.canDeactivate)}(c))p=Iu(c.canDeactivate(n,e,t,r));else{if(!kd(c))throw new Error("Invalid CanDeactivate guard");p=Iu(c(n,e,t,r))}return p.pipe(Qm())})).pipe(J_()):Gt(!0)}(i.component,i.route,t,e,r)),Qm(i=>!0!==i,!0))}(a,r,i,n).pipe(Cr(l=>l&&function Jne(n){return"boolean"==typeof n}(l)?function Tre(n,e,t,r){return It(e).pipe(Ym(i=>m1(function Are(n,e){return null!==n&&e&&e(new pne(n)),Gt(!0)}(i.route.parent,r),function Dre(n,e){return null!==n&&e&&e(new gne(n)),Gt(!0)}(i.route,r),function kre(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function yre(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>fI(()=>Gt(a.guards.map(c=>{const p=k1(c,a.node,t);let v;if(function nre(n){return n&&kd(n.canActivateChild)}(p))v=Iu(p.canActivateChild(r,n));else{if(!kd(p))throw new Error("Invalid CanActivateChild guard");v=Iu(p(r,n))}return v.pipe(Qm())})).pipe(J_())));return Gt(o).pipe(J_())}(n,i.path,t),function Ire(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Gt(!0);const i=r.map(o=>fI(()=>{const a=k1(o,e,t);let l;if(function tre(n){return n&&kd(n.canActivate)}(a))l=Iu(a.canActivate(e,n));else{if(!kd(a))throw new Error("Invalid CanActivate guard");l=Iu(a(e,n))}return l.pipe(Qm())}));return Gt(i).pipe(J_())}(n,i.route,t))),Qm(i=>!0!==i,!0))}(r,o,n,e):Gt(l)),ye(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),Us(l=>{if(pf(l.guardsResult)){const p=gI(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw p.url=l.guardsResult,p}const c=new dne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(c)}),Wa(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),MI(l=>{if(l.guards.canActivateChecks.length)return Gt(l).pipe(Us(c=>{const p=new hne(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(p)}),Ic(c=>{let p=!1;return Gt(c).pipe(function Vre(n,e){return Cr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Gt(t);let o=0;return It(i).pipe(Ym(a=>function Bre(n,e,t,r){return function Ure(n,e,t,r){const i=W4(n);if(0===i.length)return Gt({});const o={};return It(i).pipe(Cr(a=>function jre(n,e,t,r){const i=k1(n,e,r);return Iu(i.resolve?i.resolve(e,t):i(e,t))}(n[a],e,t,r).pipe(Us(l=>{o[a]=l}))),pI(1),Cr(()=>W4(o).length===i.length?Gt(o):Qn))}(n._resolve,n,e,r).pipe(ye(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),E4(n,t).resolve),null)))}(a.route,r,n,e)),Us(()=>o++),pI(1),Cr(a=>o===i.length?Gt(t):Qn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Us({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Us(c=>{const p=new fne(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(p)}))}),MI(l=>{const{targetSnapshot:c,id:p,extractedUrl:v,rawUrl:b,extras:{skipLocationChange:w,replaceUrl:I}}=l;return this.hooks.afterPreactivation(c,{navigationId:p,appliedUrlTree:v,rawUrlTree:b,skipLocationChange:!!w,replaceUrl:!!I})}),ye(l=>{const c=function Une(n,e,t){const r=Q_(n,e._root,t?t._root:void 0);return new w4(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),Us(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>ye(r=>(new Xne(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),Us({next(){o=!0},complete(){o=!0}}),function ane(n){return Et((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var l;o||a||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(l=this.currentNavigation)||void 0===l?void 0:l.id)===i.id&&(this.currentNavigation=null)}),Id(l=>{if(a=!0,function yne(n){return n&&n[s4]}(l)){const c=pf(l.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const p=new n4(i.id,this.serializeUrl(i.extractedUrl),l.message);r.next(p),c?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Y4(i.source)};this.scheduleNavigation(v,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new lne(i.id,this.serializeUrl(i.extractedUrl),l);r.next(c);try{i.resolve(this.errorHandler(l))}catch(p){i.reject(p)}}return Qn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},a=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(a){const c=Object.assign({},a);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){R4(t),this.config=t.map(II),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,p=i||this.routerState.root,v=c?this.currentUrlTree.fragment:a;let b=null;switch(l){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),function zne(n,e,t,r,i){if(0===t.length)return EI(e.root,e.root,e.root,r,i);const o=function qne(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new A4(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Eo(o.outlets,(c,p)=>{l[p]="string"==typeof c?c.split("/"):c}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,o]},[]);return new A4(t,e,r)}(t);if(o.toRoot())return EI(e.root,e.root,new Un([],{}),r,i);const a=function $ne(n,e,t){if(n.isAbsolute)return new SI(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new SI(o,o===e.root,0)}const r=C1(n.commands[0])?0:1;return function Wne(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new SI(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),l=a.processChildren?E1(a.segmentGroup,a.index,o.commands):I4(a.segmentGroup,a.index,o.commands);return EI(e.root,a.segmentGroup,l,r,i)}(p,this.currentUrlTree,t,b,null!=v?v:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pf(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Xre(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Yre):!1===r?Object.assign({},Qre):r,pf(t))return d4(this.currentUrlTree,t,i);const o=this.parseUrl(t);return d4(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new G_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,a){var l,c;if(this.disposed)return Promise.resolve(!1);let p,v,b;a?(p=a.resolve,v=a.reject,b=a.promise):b=new Promise((R,N)=>{p=R,v=N});const w=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):I=0,this.setTransition({id:w,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:p,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===a?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new n4(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Vm()},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function Y4(n){return"imperative"!==n}let RI=(()=>{class n{constructor(t,r,i,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.commands=null,this.onChanges=new Ie,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Jm(this.skipLocationChange),replaceUrl:Jm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jm(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(H(gi),H(ff),dc("tabindex"),H(wc),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Te("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Nr]}),n})(),iy=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Ie,this.subscription=t.events.subscribe(o=>{o instanceof G_&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,a){if(0!==t||r||i||o||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const l={skipLocationChange:Jm(this.skipLocationChange),replaceUrl:Jm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jm(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(H(gi),H(ff),H(Gm))},n.\u0275dir=Le({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Te("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&ir("target",r.target)("href",r.href,__)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Nr]}),n})();function Jm(n){return""===n||!!n}let Q4=(()=>{class n{constructor(t,r,i,o,a,l){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=a,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Rn,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof G_&&this.update()})}ngAfterContentInit(){Gt(this.links.changes,this.linksWithHrefs.changes,Gt(null)).pipe(Fi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=It(r).pipe(Fi()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Zre(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(H(gi),H(Wn),H(wc),H(ha),H(RI,8),H(iy,8))},n.\u0275dir=Le({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(Gr(i,RI,5),Gr(i,iy,5)),2&t){let o;Lt(o=Vt())&&(r.links=o),Lt(o=Vt())&&(r.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Nr]}),n})();class X4{}class Z4{preload(e,t){return Gt(null)}}let J4=(()=>{class n{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new G4(i,r,c=>t.triggerEvent(new r4(c)),c=>t.triggerEvent(new i4(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wa(t=>t instanceof G_),Ym(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Cc);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return It(i).pipe(Fi(),ye(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Cr(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(oe(gi),oe(q3),oe(ji),oe(X4))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),PI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof o4&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new o4(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Vm()},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const mf=new We("ROUTER_CONFIGURATION"),e8=new We("ROUTER_FORROOT_GUARD"),eie=[j_,{provide:m4,useClass:g4},{provide:gi,useFactory:function oie(n,e,t,r,i,o,a={},l,c){const p=new gi(null,n,e,t,r,i,l4(o));return l&&(p.urlHandlingStrategy=l),c&&(p.routeReuseStrategy=c),function sie(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,p),a.enableTracing&&p.events.subscribe(v=>{var b,w;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(w=console.groupEnd)||void 0===w||w.call(console)}),p},deps:[m4,ey,j_,ji,q3,xI,mf,[class $re{},new hs],[class Hre{},new hs]]},ey,{provide:ff,useFactory:function aie(n){return n.routerState.root},deps:[gi]},J4,Z4,class Jre{preload(e,t){return t().pipe(Id(()=>Gt(null)))}},{provide:mf,useValue:{enableTracing:!1}}];function tie(){return new K3("Router",gi)}let t8=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[eie,n8(t),{provide:e8,useFactory:iie,deps:[[gi,new hs,new Va]]},{provide:mf,useValue:r||{}},{provide:Gm,useFactory:rie,deps:[uf,[new Co(GA),new hs],mf]},{provide:PI,useFactory:nie,deps:[gi,dte,mf]},{provide:X4,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Z4},{provide:K3,multi:!0,useFactory:tie},[OI,{provide:PA,multi:!0,useFactory:lie,deps:[OI]},{provide:r8,useFactory:uie,deps:[OI]},{provide:z3,multi:!0,useExisting:r8}]]}}static forChild(t){return{ngModule:n,providers:[n8(t)]}}}return n.\u0275fac=function(t){return new(t||n)(oe(e8,8),oe(gi,8))},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();function nie(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new PI(n,e,t)}function rie(n,e,t={}){return t.useHash?new ZJ(n,e):new f5(n,e)}function iie(n){return"guarded"}function n8(n){return[{provide:RT,multi:!0,useValue:n},{provide:xI,multi:!0,useValue:n}]}let OI=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ie}appInitializer(){return this.injector.get(YJ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(l=>r=l),o=this.injector.get(gi),a=this.injector.get(mf);return"disabled"===a.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(mf),i=this.injector.get(J4),o=this.injector.get(PI),a=this.injector.get(gi),l=this.injector.get(Wm);t===l.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),i.setUpPreloading(),o.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(oe(ji))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function lie(n){return n.appInitializer.bind(n)}function uie(n){return n.bootstrapListener.bind(n)}const r8=new We("Router Initializer");class i8{}class o8{}class ku{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ku?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ku;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ku?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(l=>-1===o.indexOf(l)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class die{encodeKey(e){return s8(e)}encodeValue(e){return s8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const fie=/%(\d[a-f0-9])/gi,pie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function s8(n){return encodeURIComponent(n).replace(fie,(e,t)=>{var r;return null!==(r=pie[t])&&void 0!==r?r:e})}function a8(n){return`${n}`}class Md{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new die,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hie(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,l]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(a)||[];c.push(l),t.set(a,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Md({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(a8(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(a8(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class mie{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function l8(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function u8(n){return"undefined"!=typeof Blob&&n instanceof Blob}function c8(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oy{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function gie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ku),this.context||(this.context=new mie),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+a}}else this.params=new Md,this.urlWithParams=t}serializeBody(){return null===this.body?null:l8(this.body)||u8(this.body)||c8(this.body)||function vie(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Md?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||c8(this.body)?null:u8(this.body)?this.body.type||null:l8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Md?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const b=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((w,I)=>w.set(I,e.setHeaders[I]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((w,I)=>w.set(I,e.setParams[I]),v)),new oy(r,i,a,{params:v,headers:p,context:b,reportProgress:c,responseType:o,withCredentials:l})}}var Di=(()=>((Di=Di||{})[Di.Sent=0]="Sent",Di[Di.UploadProgress=1]="UploadProgress",Di[Di.ResponseHeader=2]="ResponseHeader",Di[Di.DownloadProgress=3]="DownloadProgress",Di[Di.Response=4]="Response",Di[Di.User=5]="User",Di))();class NI{constructor(e,t=200,r="OK"){this.headers=e.headers||new ku,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class FI extends NI{constructor(e={}){super(e),this.type=Di.ResponseHeader}clone(e={}){return new FI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class M1 extends NI{constructor(e={}){super(e),this.type=Di.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new M1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class d8 extends NI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function LI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof oy)o=t;else{let c,p;c=i.headers instanceof ku?i.headers:new ku(i.headers),i.params&&(p=i.params instanceof Md?i.params:new Md({fromObject:i.params})),o=new oy(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Gt(o).pipe(Ym(c=>this.handler.handle(c)));if(t instanceof oy||"events"===i.observe)return a;const l=a.pipe(Wa(c=>c instanceof M1));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ye(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ye(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(ye(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Md).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,LI(i,r))}post(t,r,i={}){return this.request("POST",t,LI(i,r))}put(t,r,i={}){return this.request("PUT",t,LI(i,r))}}return n.\u0275fac=function(t){return new(t||n)(oe(i8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class h8{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const f8=new We("HTTP_INTERCEPTORS");let _ie=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const yie=/^\)\]\}',?\n/;let p8=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ye(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((I,R)=>i.setRequestHeader(I,R.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&i.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();i.responseType="json"!==I?I:"text"}const o=t.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const I=i.statusText||"OK",R=new ku(i.getAllResponseHeaders()),N=function bie(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new FI({headers:R,status:i.status,statusText:I,url:N}),a},c=()=>{let{headers:I,status:R,statusText:N,url:z}=l(),Q=null;204!==R&&(Q=void 0===i.response?i.responseText:i.response),0===R&&(R=Q?200:0);let Y=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof Q){const ae=Q;Q=Q.replace(yie,"");try{Q=""!==Q?JSON.parse(Q):null}catch(Ee){Q=ae,Y&&(Y=!1,Q={error:Ee,text:Q})}}Y?(r.next(new M1({body:Q,headers:I,status:R,statusText:N,url:z||void 0})),r.complete()):r.error(new d8({error:Q,headers:I,status:R,statusText:N,url:z||void 0}))},p=I=>{const{url:R}=l(),N=new d8({error:I,status:i.status||0,statusText:i.statusText||"Unknown Error",url:R||void 0});r.error(N)};let v=!1;const b=I=>{v||(r.next(l()),v=!0);let R={type:Di.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),"text"===t.responseType&&!!i.responseText&&(R.partialText=i.responseText),r.next(R)},w=I=>{let R={type:Di.UploadProgress,loaded:I.loaded};I.lengthComputable&&(R.total=I.total),r.next(R)};return i.addEventListener("load",c),i.addEventListener("error",p),i.addEventListener("timeout",p),i.addEventListener("abort",p),t.reportProgress&&(i.addEventListener("progress",b),null!==o&&i.upload&&i.upload.addEventListener("progress",w)),i.send(o),r.next({type:Di.Sent}),()=>{i.removeEventListener("error",p),i.removeEventListener("abort",p),i.removeEventListener("load",c),i.removeEventListener("timeout",p),t.reportProgress&&(i.removeEventListener("progress",b),null!==o&&i.upload&&i.upload.removeEventListener("progress",w)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(oe(P5))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const VI=new We("XSRF_COOKIE_NAME"),BI=new We("XSRF_HEADER_NAME");class m8{}let wie=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=E5(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(Ww),oe(VI))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),UI=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(m8),oe(BI))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Cie=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(f8,[]);this.chain=r.reduceRight((i,o)=>new h8(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(o8),oe(ji))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Eie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:UI,useClass:_ie}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:VI,useValue:t.cookieName}:[],t.headerName?{provide:BI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[UI,{provide:f8,useExisting:UI,multi:!0},{provide:m8,useClass:wie},{provide:VI,useValue:"XSRF-TOKEN"},{provide:BI,useValue:"X-XSRF-TOKEN"}]}),n})(),Sie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[Yo,{provide:i8,useClass:Cie},p8,{provide:o8,useExisting:p8}],imports:[[Eie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const we={production:!0,firebase:{apiKey:"AIzaSyDQRBFYWIgLdrjZSd5ffKQ6CM0iuVr6cyo",authDomain:"yallabus-eb5a0.firebaseapp.com",projectId:"yallabus-eb5a0",storageBucket:"yallabus-eb5a0.appspot.com",messagingSenderId:"403200399686",appId:"1:403200399686:web:ca1beba529afe23baded47",measurementId:"G-N7F1D1KVV5"},UrlWebsite:"https://yalla-bus.herokuapp.com/api/v1",httpOptions:{headers:new ku({"Content-Type":"application/json",Accept:"application/json"})},Token:localStorage.getItem("token"),MapApiKay:"AIzaSyBFjNIXpDszS-KIK_jstYtMgCoNc4Gfneg",Mapstyles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};let g8=(()=>{class n{constructor(t){this.http=t}AssignRide(t){return this.http.put(`${we.UrlWebsite}/txRide/assign`,t).pipe(ye(r=>r))}getAllRideByDateAndCompany(t){return this.http.get(`${we.UrlWebsite}/txRide/company/date/get-all?id=`+we.Token+"&date="+t).pipe(ye(r=>r))}CreateRide(t){return this.http.post(`${we.UrlWebsite}/txRide/save-txRide`,t).pipe(ye(r=>r.id))}getRideById(t){return this.http.get(`${we.UrlWebsite}/txRide/get-by-id?id=`+t).pipe(ye(r=>r))}canceledRide(t){return this.http.put(`${we.UrlWebsite}/txRide/canceled?id=`+t,!0).pipe(ye(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jI=(()=>{class n{constructor(t){this.http=t}getStudents(){return this.http.get(`${we.UrlWebsite}/student/company/active?id=`+we.Token).pipe(ye(t=>t))}getCountStudents(){return this.http.get(`${we.UrlWebsite}/student/get-count/company/active?id=`+we.Token).pipe(ye(t=>t))}getStudentByUID(t){return this.http.get(`${we.UrlWebsite}/student/get-by-uid?stdUid=`+t).pipe(ye(r=>r))}PostStudents(t){return this.http.post(`${we.UrlWebsite}/student/save-student`,t).pipe(ye(r=>r))}UpdateStudents(t){return this.http.put(`${we.UrlWebsite}/student/update-student`,t).pipe(ye(r=>r))}RenewStudents(t){return this.http.post(`${we.UrlWebsite}/payment/save-payment`,t).pipe(ye(r=>r))}DeleteStudent(t){return this.http.put(`${we.UrlWebsite}/student/delete-student?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v8=(()=>{class n{constructor(t){this.http=t}getBuses(){return this.http.get(`${we.UrlWebsite}/bus/company/active?id=`+we.Token).pipe(ye(t=>t))}getCountBuses(){return this.http.get(`${we.UrlWebsite}/bus/get-count/company/active?id=`+we.Token).pipe(ye(t=>t))}PostBus(t){return this.http.post(`${we.UrlWebsite}/bus/save-bus`,t).pipe(ye(r=>r))}UpdateBus(t){return this.http.put(`${we.UrlWebsite}/bus/update-bus`,t).pipe(ye(r=>r))}DeleteBus(t){return this.http.put(`${we.UrlWebsite}/bus/delete-bus?id=`+t,!0).pipe(ye(r=>r,r=>r))}AvailableBuses(){return this.http.get(`${we.UrlWebsite}/bus/company/available?id=`+we.Token).pipe(ye(t=>t,t=>t))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x1=(()=>{class n{constructor(t){this.http=t}getCountEmployees(){return this.http.get(`${we.UrlWebsite}/employee/get-count/company/active?id=`+we.Token).pipe(ye(t=>t))}getSupervisors(){return this.http.get(`${we.UrlWebsite}/employee/company/supervisor/active?id=`+we.Token).pipe(ye(t=>t))}getDrivers(){return this.http.get(`${we.UrlWebsite}/driverInfo/company/active?id=`+we.Token).pipe(ye(t=>t))}getAvailableDrivers(){return this.http.get(`${we.UrlWebsite}/employee/company/driver/available?id=`+we.Token).pipe(ye(t=>t))}getAdmins(){return this.http.get(`${we.UrlWebsite}/admin/company/active?id=`+we.Token).pipe(ye(t=>t))}getLK_Employees(){return this.http.get(`${we.UrlWebsite}/lkEmployee`).pipe(ye(t=>t))}PostSuperVisor(t){return this.http.post(`${we.UrlWebsite}/employee/save-employee`,t).pipe(ye(r=>r))}UpdateSuperVisor(t){return this.http.put(`${we.UrlWebsite}/employee/update-supervisor`,t).pipe(ye(r=>r))}PostDriverInfo(t){return this.http.post(`${we.UrlWebsite}/driverInfo/save-driverInfo`,t).pipe(ye(r=>r))}UpdateDriverInfo(t){return this.http.put(`${we.UrlWebsite}/driverInfo/update-driverInfo`,t).pipe(ye(r=>r))}PostAdmin(t){return this.http.post(`${we.UrlWebsite}/admin/save-admin`,t).pipe(ye(r=>r))}UpdateAdmin(t){return this.http.put(`${we.UrlWebsite}/admin/update-admin`,t).pipe(ye(r=>r))}DeleteAppointment(t){return this.http.put(`${we.UrlWebsite}/employee/delete-employee?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _8{}const xc="*";function Nl(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qo(n,e=null){return{type:4,styles:e,timings:n}}function y8(n,e=null){return{type:2,steps:n,options:e}}function On(n){return{type:6,styles:n,offset:null}}function vi(n,e,t){return{type:0,name:n,styles:e,options:t}}function sy(n){return{type:5,steps:n}}function lo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function b8(n=null){return{type:9,options:n}}function w8(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function C8(n){Promise.resolve(null).then(n)}class ay{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){C8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?C8(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const S8=["toast-component",""];function Die(n,e){if(1&n){const t=er();T(0,"button",5),Te("click",function(){return ft(t),de().remove()}),T(1,"span",6),x(2,"\xd7"),A()()}}function Aie(n,e){if(1&n&&(nn(0),x(1),rn()),2&n){const t=de(2);j(1),Ke("[",t.duplicatesCount+1,"]")}}function Iie(n,e){if(1&n&&(T(0,"div"),x(1),J(2,Aie,2,1,"ng-container",4),A()),2&n){const t=de();bc(t.options.titleClass),ir("aria-label",t.title),j(1),Ke(" ",t.title," "),j(1),te("ngIf",t.duplicatesCount)}}function kie(n,e){if(1&n&&le(0,"div",7),2&n){const t=de();bc(t.options.messageClass),te("innerHTML",t.message,v_)}}function Mie(n,e){if(1&n&&(T(0,"div",8),x(1),A()),2&n){const t=de();bc(t.options.messageClass),ir("aria-label",t.message),j(1),Ke(" ",t.message," ")}}function xie(n,e){if(1&n&&(T(0,"div"),le(1,"div",9),A()),2&n){const t=de();j(1),Go("width",t.width+"%")}}function Rie(n,e){if(1&n){const t=er();T(0,"button",5),Te("click",function(){return ft(t),de().remove()}),T(1,"span",6),x(2,"\xd7"),A()()}}function Pie(n,e){if(1&n&&(nn(0),x(1),rn()),2&n){const t=de(2);j(1),Ke("[",t.duplicatesCount+1,"]")}}function Oie(n,e){if(1&n&&(T(0,"div"),x(1),J(2,Pie,2,1,"ng-container",4),A()),2&n){const t=de();bc(t.options.titleClass),ir("aria-label",t.title),j(1),Ke(" ",t.title," "),j(1),te("ngIf",t.duplicatesCount)}}function Nie(n,e){if(1&n&&le(0,"div",7),2&n){const t=de();bc(t.options.messageClass),te("innerHTML",t.message,v_)}}function Fie(n,e){if(1&n&&(T(0,"div",8),x(1),A()),2&n){const t=de();bc(t.options.messageClass),ir("aria-label",t.message),j(1),Ke(" ",t.message," ")}}function Lie(n,e){if(1&n&&(T(0,"div"),le(1,"div",9),A()),2&n){const t=de();j(1),Go("width",t.width+"%")}}class Vie{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class R1{constructor(e,t,r,i,o,a){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new Ie,this._onAction=new Ie,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const T8={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},D8=new We("ToastConfig");class Uie{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ie,this._activate=new Ie,this._manualClose=new Ie,this._resetTimeout=new Ie,this._countDuplicate=new Ie}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class jie{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===R1?this._toastPackage:this._parentInjector.get(e,t,r)}}class Hie extends class Bie{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class zie{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let qie=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ie=(()=>{class n{constructor(t,r,i,o){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Hie(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new zie(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(oe(qie),oe(rf),oe(Wm),oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),So=(()=>{class n{constructor(t,r,i,o,a){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},o=""){return this._preBuildNotification(o,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,o){const{includeTitleDuplicates:a}=this.toastrConfig;for(const l of this.toasts){const c=a&&l.title===t;if((!a||c)&&l.message===r)return l.toastRef.onDuplicate(i,o),l}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,o)):this._buildNotification(t,r,i,o)}_buildNotification(t,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=r;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let p=r;r&&o.enableHtml&&(p=this.sanitizer.sanitize(vr.HTML,r));const v=new Uie(c),b=new R1(this.index,o,p,i,t,v),w=new jie(b,this._injector),I=new Vie(o.toastComponent,w),R=c.attach(I,this.toastrConfig.newestOnTop);v.componentInstance=R.instance;const N={toastId:this.index,title:i||"",message:r||"",toastRef:v,onShown:v.afterActivate(),onHidden:v.afterClosed(),onTap:b.onTap(),onAction:b.onAction(),portal:R};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{N.toastRef.activate()})),this.toasts.push(N),N}}return n.\u0275fac=function(t){return new(t||n)(oe(D8),oe($ie),oe(ji),oe(G5),oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wie=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(H(So),H(R1),H(bn))},n.\u0275cmp=Ft({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&Te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(cA("@flyInOut",r.state),bc(r.toastClasses),Go("display",r.displayStyle))},attrs:S8,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(J(0,Die,3,0,"button",0),J(1,Iie,3,5,"div",1),J(2,kie,1,3,"div",2),J(3,Mie,2,4,"div",3),J(4,xie,2,2,"div",4)),2&t&&(te("ngIf",r.options.closeButton),j(1),te("ngIf",r.title),j(1),te("ngIf",r.message&&r.options.enableHtml),j(1),te("ngIf",r.message&&!r.options.enableHtml),j(1),te("ngIf",r.options.progressBar))},directives:[ri],encapsulation:2,data:{animation:[Nl("flyInOut",[vi("inactive",On({opacity:0})),vi("active",On({opacity:1})),vi("removed",On({opacity:0})),lo("inactive => active",Qo("{{ easeTime }}ms {{ easing }}")),lo("active => removed",Qo("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Gie=Object.assign(Object.assign({},T8),{toastComponent:Wie});let Kie=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:D8,useValue:{default:Gie,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[Ac]]}),n})(),Yie=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(H(So),H(R1),H(Wm))},n.\u0275cmp=Ft({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&Te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(bc(r.toastClasses),Go("display",r.displayStyle))},attrs:S8,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(J(0,Rie,3,0,"button",0),J(1,Oie,3,5,"div",1),J(2,Nie,1,3,"div",2),J(3,Fie,2,4,"div",3),J(4,Lie,2,2,"div",4)),2&t&&(te("ngIf",r.options.closeButton),j(1),te("ngIf",r.title),j(1),te("ngIf",r.message&&r.options.enableHtml),j(1),te("ngIf",r.message&&!r.options.enableHtml),j(1),te("ngIf",r.options.progressBar))},directives:[ri],encapsulation:2}),n})();function Qie(n,e){1&n&&(T(0,"span",32),x(1,"Active"),A())}function Xie(n,e){1&n&&(T(0,"span",33),x(1,"canceled"),A())}function Zie(n,e){1&n&&(T(0,"span",33),x(1,"canceled"),A())}function Jie(n,e){1&n&&(T(0,"span",33),x(1,"pending"),A())}function eoe(n,e){1&n&&(T(0,"span",34),x(1,"complete"),A())}function toe(n,e){if(1&n&&(T(0,"tr")(1,"td"),le(2,"i",28),T(3,"strong"),x(4),A()(),T(5,"td"),x(6),A(),T(7,"td"),x(8),A(),T(9,"td"),x(10),A(),T(11,"td"),x(12),A(),T(13,"td"),J(14,Qie,2,0,"span",29),J(15,Xie,2,0,"span",30),J(16,Zie,2,0,"span",30),J(17,Jie,2,0,"span",30),J(18,eoe,2,0,"span",31),A()()),2&n){const t=e.$implicit,r=e.index;j(4),mt(r+1),j(2),mt(null!=t&&null!=t.emp&&t.emp.empName?t.emp.empName:"----------------------"),j(2),mt(null!=t&&null!=t.bus&&t.bus.model?t.bus.model:"----------------------"),j(2),mt(null!=t&&null!=t.bus&&t.bus.capacity?t.bus.capacity:"----------------------"),j(2),mt(null!=t&&null!=t.appointment&&t.appointment.appointmentStartTime?t.appointment.appointmentStartTime+" "+t.appointment.appointmentType:"----------------------"),j(2),te("ngIf",(null==t?null:t.emp)&&(null==t?null:t.bus)&&"process"==t.rideStatus),j(1),te("ngIf",!(null!=t&&t.emp||null!=t&&t.bus||"process"!=t.rideStatus)),j(1),te("ngIf",!(null!=t&&t.emp||null!=t&&t.bus||"canceled"!=t.rideStatus)),j(1),te("ngIf","pending"==t.rideStatus),j(1),te("ngIf","complete"==t.rideStatus)}}Object.assign(Object.assign({},T8),{toastComponent:Yie});let zI=(()=>{class n{constructor(t,r,i,o,a,l,c){this.ApiRide=t,this.StudentService=r,this.BusService=i,this.EmployeeService=o,this.toastr=a,this.datePipe=l,this.router=c}ngOnInit(){this.getRides(),this.getCountBuses(),this.getCountStudents(),this.getCountEmployees(),"0"==we.Token&&this.router.navigate(["/Company"])}getRides(){let t=this.datePipe.transform(Date.now(),"yyyy-MM-dd");this.ApiRide.getAllRideByDateAndCompany(t).subscribe(r=>{this.Rides=r,console.log(this.Rides)},r=>{this.toastr.warning(r.statusText?r.statusText:r.error?r.error:"Internal Server Error")})}getCountStudents(){this.StudentService.getCountStudents().subscribe(t=>{this.CountStudents=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getCountEmployees(){this.EmployeeService.getCountEmployees().subscribe(t=>{this.CountEmployees=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getCountBuses(){this.BusService.getCountBuses().subscribe(t=>{this.CountBuses=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}}return n.\u0275fac=function(t){return new(t||n)(H(g8),H(jI),H(v8),H(x1),H(So),H(Bs),H(gi))},n.\u0275cmp=Ft({type:n,selectors:[["app-home"]],decls:66,vars:4,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"d-flex","align-items-end","row"],[1,"col-sm-7"],[1,"card-body"],[1,"card-title","text-primary"],[1,"mb-4"],["href","javascript:;",1,"btn","btn-sm","btn-outline-primary"],[1,"col-sm-5","text-center","text-sm-left"],[1,"card-body","pb-0","px-0","px-md-4"],["src","../assets/img/illustrations/man-with-laptop-light.png","height","140","alt","View Badge User","data-app-dark-img","illustrations/man-with-laptop-dark.png","data-app-light-img","illustrations/man-with-laptop-light.png"],[1,"col-lg-9"],[1,"col-md-12"],[1,"card",2,"margin-top","20px"],[1,"card-header"],[1,"table-responsive","text-nowrap"],[1,"table","table-hover"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4"],[1,"col-lg-12","col-md-12","col-12","mb-4"],[1,"card",2,"background","rgb(26 188 155 / 70%)","color","#fff"],[1,"fw-semibold","d-block","mb-1"],[1,"card-title","mb-2",2,"color","#fff"],[1,"card",2,"background","rgba(46, 204, 113,.7)","color","#fff"],[1,"card",2,"background","rgba(52, 152, 219,.7)","color","#fff"],[1,"fab","fa-angular","fa-lg","text-danger","me-3"],["class","badge  bg-label-success me-1",4,"ngIf"],["class","badge  bg-label-danger me-1",4,"ngIf"],["class","badge  bg-label-primary me-1",4,"ngIf"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-1"],[1,"badge","bg-label-primary","me-1"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),x(8,"Hello Admin! \u{1f389}"),A(),T(9,"p",8),x(10," You can go to the Tracking page here "),A(),T(11,"a",9),x(12,"Tracking page"),A()()(),T(13,"div",10)(14,"div",11),le(15,"img",12),A()()()()(),T(16,"div",13),le(17,"br"),T(18,"div",14)(19,"div",15)(20,"h5",16),x(21,"Report Next Rides (of the day)"),A(),T(22,"div",17)(23,"table",18)(24,"thead")(25,"tr")(26,"th"),x(27,"Bus"),A(),T(28,"th"),x(29,"Driver"),A(),T(30,"th"),x(31,"Bus"),A(),T(32,"th"),x(33,"Capacity"),A(),T(34,"th"),x(35,"ride Time"),A(),T(36,"th"),x(37,"Status"),A()()(),T(38,"tbody",19),J(39,toe,19,10,"tr",20),A()()()()(),le(40,"br"),A(),T(41,"div",21),le(42,"br"),T(43,"div",1)(44,"div",22)(45,"div",23)(46,"div",6)(47,"span",24),x(48,"Number of Subscribed Student"),A(),T(49,"h3",25),x(50),A()()()(),T(51,"div",22)(52,"div",26)(53,"div",6)(54,"span",24),x(55,"Number of Employess"),A(),T(56,"h3",25),x(57),A()()()(),T(58,"div",22)(59,"div",27)(60,"div",6)(61,"span",24),x(62,"Number of Registered Buses"),A(),T(63,"h3",25),x(64),A()()()()(),le(65,"div",1),A()()()),2&t&&(j(39),te("ngForOf",r.Rides),j(11),mt(r.CountStudents),j(7),mt(r.CountEmployees),j(7),mt(r.CountBuses))},directives:[$a,ri],styles:[""]}),n})();class qI{constructor(){this.id=null}}class noe{}let A8=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(H(wc),H(Wn))},n.\u0275dir=Le({type:n}),n})(),gf=(()=>{class n extends A8{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,features:[dt]}),n})();const Mu=new We("NgValueAccessor"),ioe={provide:Mu,useExisting:dr(()=>P1),multi:!0};let P1=(()=>{class n extends gf{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Te("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[vn([ioe]),dt]}),n})();const ooe={provide:Mu,useExisting:dr(()=>fa),multi:!0},aoe=new We("CompositionEventMode");let fa=(()=>{class n extends A8{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function soe(){const n=Du()?Du().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(H(wc),H(Wn),H(aoe,8))},n.\u0275dir=Le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Te("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[vn([ooe]),dt]}),n})();function xd(n){return null==n||0===n.length}function I8(n){return null!=n&&"number"==typeof n.length}const Xo=new We("NgValidators"),Rd=new We("NgAsyncValidators"),loe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nn{static min(e){return function k8(n){return e=>{if(xd(e.value)||xd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function M8(n){return e=>{if(xd(e.value)||xd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function x8(n){return xd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function R8(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function P8(n){return xd(n.value)||loe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function O8(n){return e=>xd(e.value)||!I8(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function N8(n){return e=>I8(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function F8(n){if(!n)return O1;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xd(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return H8(e)}static composeAsync(e){return z8(e)}}function O1(n){return null}function L8(n){return null!=n}function V8(n){const e=A_(n)?It(n):n;return aA(e),e}function B8(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function U8(n,e){return e.map(t=>t(n))}function j8(n){return n.map(e=>function uoe(n){return!n.validate}(e)?e:t=>e.validate(t))}function H8(n){if(!n)return null;const e=n.filter(L8);return 0==e.length?null:function(t){return B8(U8(t,e))}}function $I(n){return null!=n?H8(j8(n)):null}function z8(n){if(!n)return null;const e=n.filter(L8);return 0==e.length?null:function(t){return function roe(...n){const e=Z(n),{args:t,keys:r}=Y5(n),i=new Ye(o=>{const{length:a}=t;if(!a)return void o.complete();const l=new Array(a);let c=a,p=a;for(let v=0;v<a;v++){let b=!1;qt(t[v]).subscribe(Bt(o,w=>{b||(b=!0,p--),l[v]=w},()=>c--,void 0,()=>{(!c||!b)&&(p||o.next(r?Q5(r,l):l),o.complete())}))}});return e?i.pipe(hI(e)):i}(U8(t,e).map(V8)).pipe(ye(B8))}}function WI(n){return null!=n?z8(j8(n)):null}function q8(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $8(n){return n._rawValidators}function W8(n){return n._rawAsyncValidators}function GI(n){return n?Array.isArray(n)?n:[n]:[]}function N1(n,e){return Array.isArray(n)?n.includes(e):n===e}function G8(n,e){const t=GI(e);return GI(n).forEach(i=>{N1(t,i)||t.push(i)}),t}function K8(n,e){return GI(e).filter(t=>!N1(n,t))}class Y8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$I(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=WI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xu extends Y8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gs extends Y8{get formDirective(){return null}get path(){return null}}class Q8{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Ka=(()=>{class n extends Q8{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(H(xu,2))},n.\u0275dir=Le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ei("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[dt]}),n})(),Fl=(()=>{class n extends Q8{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(H(gs,10))},n.\u0275dir=Le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ei("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[dt]}),n})();function L1(n,e){return[...e.path,n]}function ly(n,e){QI(n,e),e.valueAccessor.writeValue(n.value),function voe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Z8(n,e)})}(n,e),function yoe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _oe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Z8(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function goe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function V1(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),U1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function B1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QI(n,e){const t=$8(n);null!==e.validator?n.setValidators(q8(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=W8(n);null!==e.asyncValidator?n.setAsyncValidators(q8(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();B1(e._rawValidators,i),B1(e._rawAsyncValidators,i)}function U1(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$8(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=W8(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return B1(e._rawValidators,r),B1(e._rawAsyncValidators,r),t}function Z8(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function J8(n,e){QI(n,e)}function XI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function tV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===fa?t=o:function Coe(n){return Object.getPrototypeOf(n.constructor)===gf}(o)?r=o:i=o}),i||r||t||null}function JI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const uy="VALID",j1="INVALID",eg="PENDING",cy="DISABLED";function tk(n){return(H1(n)?n.validators:n)||null}function nV(n){return Array.isArray(n)?$I(n):n||null}function nk(n,e){return(H1(e)?e.asyncValidators:n)||null}function rV(n){return Array.isArray(n)?WI(n):n||null}function H1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const iV=n=>n instanceof Xt,rk=n=>n instanceof js;function oV(n){return iV(n)?n.value:n.getRawValue()}function sV(n,e){const t=rk(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new st(1e3,"");if(!r[e])throw new st(1001,"")}function aV(n,e){rk(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new st(1002,"")})}class ik{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=nV(this._rawValidators),this._composedAsyncValidatorFn=rV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uy}get invalid(){return this.status===j1}get pending(){return this.status==eg}get disabled(){return this.status===cy}get enabled(){return this.status!==cy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=nV(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rV(e)}addValidators(e){this.setValidators(G8(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(G8(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(K8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(K8(e,this._rawAsyncValidators))}hasValidator(e){return N1(this._rawValidators,e)}hasAsyncValidator(e){return N1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cy,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uy,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uy||this.status===eg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cy:uy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eg,this._hasOwnPendingAsyncValidator=!0;const t=V8(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Eoe(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=rk(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Toe)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rn,this.statusChanges=new Rn}_calculateStatus(){return this._allControlsDisabled()?cy:this.errors?j1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eg)?eg:this._anyControlsHaveStatus(j1)?j1:uy}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){H1(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xt extends ik{constructor(e=null,t,r){super(tk(t),nk(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H1(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class js extends ik{constructor(e,t,r){super(tk(t),nk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){aV(this,e),Object.keys(e).forEach(r=>{sV(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=oV(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Toe extends ik{constructor(e,t,r){super(tk(t),nk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){aV(this,e),e.forEach((r,i)=>{sV(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>oV(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Doe={provide:gs,useExisting:dr(()=>hy)},dy=(()=>Promise.resolve(null))();let hy=(()=>{class n extends gs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rn,this.form=new js({},$I(t),WI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dy.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ly(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dy.then(()=>{const r=this._findContainer(t.path),i=new js({});J8(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dy.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,tV(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(H(Xo,10),H(Rd,10))},n.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Te("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([Doe]),dt]}),n})();const Ioe={provide:xu,useExisting:dr(()=>ok)},cV=(()=>Promise.resolve(null))();let ok=(()=>{class n extends xu{constructor(t,r,i,o,a){super(),this._changeDetectorRef=a,this.control=new Xt,this._registered=!1,this.update=new Rn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZI(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),XI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ly(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cV.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;cV.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?L1(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(H(gs,9),H(Xo,10),H(Rd,10),H(Mu,10),H(ha,8))},n.\u0275dir=Le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([Ioe]),dt,Nr]}),n})(),Ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();const sk=new We("NgModelWithFormControlWarning"),Ooe={provide:gs,useExisting:dr(()=>vs)};let vs=(()=>{class n extends gs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Rn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(U1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ly(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){V1(t.control||null,t,!1),JI(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,tV(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(V1(r||null,t),iV(i)&&(ly(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);J8(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function boe(n,e){return U1(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QI(this.form,this),this._oldForm&&U1(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(H(Xo,10),H(Rd,10))},n.\u0275dir=Le({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Te("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([Ooe]),dt,Nr]}),n})();const Loe={provide:xu,useExisting:dr(()=>Ya)};let Ya=(()=>{class n extends xu{constructor(t,r,i,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new Rn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZI(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),XI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return L1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(H(gs,13),H(Xo,10),H(Rd,10),H(Mu,10),H(sk,8))},n.\u0275dir=Le({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[vn([Loe]),dt,Nr]}),n})();const Voe={provide:Mu,useExisting:dr(()=>Pd),multi:!0};function vV(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Pd=(()=>{class n extends gf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=vV(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Boe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Te("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([Voe]),dt]}),n})(),vf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(vV(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(wc),H(Pd,9))},n.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Uoe={provide:Mu,useExisting:dr(()=>uk),multi:!0};function _V(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let uk=(()=>{class n extends gf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const a=o;for(let l=0;l<a.length;l++){const p=this._getOptionValue(a[l].value);i.push(p)}}else{const a=r.options;for(let l=0;l<a.length;l++){const c=a[l];if(c.selected){const p=this._getOptionValue(c.value);i.push(p)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function joe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Te("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([Uoe]),dt]}),n})(),_f=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_V(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_V(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(wc),H(uk,9))},n.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[hV]]}),n})(),Xoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[IV]}),n})(),Zoe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sk,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[IV]}),n})();var it=_t(367);(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(s,u,m){s!=Array.prototype&&s!=Object.prototype&&(s[u]=m.value)},r=function t(s){s=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,s];for(var u=0;u<s.length;++u){var m=s[u];if(m&&m.Math==Math)return m}return globalThis}(this);function o(s){var u=0;return function(){return u<s.length?{done:!1,value:s[u++]}:{done:!0}}}function a(s){var u="undefined"!=typeof Symbol&&Symbol.iterator&&s[Symbol.iterator];return u?u.call(s):{next:o(s)}}!function i(s,u){if(u){var m=r;s=s.split(".");for(var y=0;y<s.length-1;y++){var D=s[y];D in m||(m[D]={}),m=m[D]}(u=u(y=m[s=s[s.length-1]]))!=y&&null!=u&&e(m,s,{configurable:!0,writable:!0,value:u})}}("Promise",function(s){function u(F){this.b=0,this.c=void 0,this.a=[];var G=this.f();try{F(G.resolve,G.reject)}catch(he){G.reject(he)}}function m(){this.a=null}function y(F){return F instanceof u?F:new u(function(G){G(F)})}if(s)return s;m.prototype.b=function(F){if(null==this.a){this.a=[];var G=this;this.c(function(){G.g()})}this.a.push(F)};var D=r.setTimeout;m.prototype.c=function(F){D(F,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var F=this.a;this.a=[];for(var G=0;G<F.length;++G){var he=F[G];F[G]=null;try{he()}catch(Pe){this.f(Pe)}}}this.a=null},m.prototype.f=function(F){this.c(function(){throw F})},u.prototype.f=function(){function F(Pe){return function(on){he||(he=!0,Pe.call(G,on))}}var G=this,he=!1;return{resolve:F(this.m),reject:F(this.g)}},u.prototype.m=function(F){if(F===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(F instanceof u)this.s(F);else{e:switch(typeof F){case"object":var G=null!=F;break e;case"function":G=!0;break e;default:G=!1}G?this.v(F):this.h(F)}},u.prototype.v=function(F){var G=void 0;try{G=F.then}catch(he){return void this.g(he)}"function"==typeof G?this.u(G,F):this.h(F)},u.prototype.g=function(F){this.i(2,F)},u.prototype.h=function(F){this.i(1,F)},u.prototype.i=function(F,G){if(0!=this.b)throw Error("Cannot settle("+F+", "+G+"): Promise already settled in state"+this.b);this.b=F,this.c=G,this.l()},u.prototype.l=function(){if(null!=this.a){for(var F=0;F<this.a.length;++F)P.b(this.a[F]);this.a=null}};var P=new m;return u.prototype.s=function(F){var G=this.f();F.Ra(G.resolve,G.reject)},u.prototype.u=function(F,G){var he=this.f();try{F.call(G,he.resolve,he.reject)}catch(Pe){he.reject(Pe)}},u.prototype.then=function(F,G){function he(lr,po){return"function"==typeof lr?function(ed){try{Pe(lr(ed))}catch(VO){on(VO)}}:po}var Pe,on,br=new u(function(lr,po){Pe=lr,on=po});return this.Ra(he(F,Pe),he(G,on)),br},u.prototype.catch=function(F){return this.then(void 0,F)},u.prototype.Ra=function(F,G){function he(){switch(Pe.b){case 1:F(Pe.c);break;case 2:G(Pe.c);break;default:throw Error("Unexpected state: "+Pe.b)}}var Pe=this;null==this.a?P.b(he):this.a.push(he)},u.resolve=y,u.reject=function(F){return new u(function(G,he){he(F)})},u.race=function(F){return new u(function(G,he){for(var Pe=a(F),on=Pe.next();!on.done;on=Pe.next())y(on.value).Ra(G,he)})},u.all=function(F){var G=a(F),he=G.next();return he.done?y([]):new u(function(Pe,on){function br(ed){return function(VO){lr[ed]=VO,0==--po&&Pe(lr)}}var lr=[],po=0;do{lr.push(void 0),po++,y(he.value).Ra(br(lr.length-1),on),he=G.next()}while(!he.done)})},u});var l=l||{},c=this||self,p=/^[\w+/_-]+[=]{0,2}$/,v=null;function b(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&p.test(s)?s:""}function w(){}function I(s){var u=typeof s;return"object"!=u?u:s?Array.isArray(s)?"array":u:"null"}function R(s){var u=I(s);return"array"==u||"object"==u&&"number"==typeof s.length}function N(s){return"function"==I(s)}function z(s){var u=typeof s;return"object"==u&&null!=s||"function"==u}function Q(s){return Object.prototype.hasOwnProperty.call(s,Y)&&s[Y]||(s[Y]=++ae)}var Y="closure_uid_"+(1e9*Math.random()>>>0),ae=0;function Ee(s,u,m){return s.call.apply(s.bind,arguments)}function Ve(s,u,m){if(!s)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),s.apply(u,D)}}return function(){return s.apply(u,arguments)}}function De(s,u,m){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ee:Ve).apply(null,arguments)}function xt(s,u){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),s.apply(this,y)}}var Er=Date.now;function nt(s,u){function m(){}m.prototype=u.prototype,s.bb=u.prototype,s.prototype=new m,s.prototype.constructor=s}function Pi(s){return s}function ne(s,u,m){this.code=Fo+s,this.message=u||dh[s]||"",this.a=m||null}function ol(s){var u=s&&s.code;return u?new ne(u.substring(Fo.length),s.message,s.serverResponse):null}nt(ne,Error),ne.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},ne.prototype.toJSON=function(){return this.w()};var bt,Fo="auth/",dh={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Bu={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ot(s){for(var u in Bu)if(Bu[u].id===s)return{firebaseEndpoint:(s=Bu[u]).Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}function jt(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch(u){return!1}}function Zt(s){if(Error.captureStackTrace)Error.captureStackTrace(this,Zt);else{var u=Error().stack;u&&(this.stack=u)}s&&(this.message=String(s))}function oi(s,u){for(var m="",y=(s=s.split("%s")).length-1,D=0;D<y;D++)m+=s[D]+(D<u.length?u[D]:"%s");Zt.call(this,m+s[y])}function Lo(s,u){throw new oi("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function Vo(s,u){this.c=s,this.f=u,this.b=0,this.a=null}function zl(s,u){s.f(u),100>s.b&&(s.b++,u.next=s.a,s.a=u)}function Mr(){this.b=this.a=null}bt=ot("__EID__")?"__EID__":void 0,nt(Zt,Error),Zt.prototype.name="CustomError",nt(oi,Zt),oi.prototype.name="AssertionError",Vo.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};var Ab=new Vo(function(){return new Ki},function(s){s.reset()});function aR(){var s=Rq,u=null;return s.a&&(u=s.a,s.a=s.a.next,s.a||(s.b=null),u.next=null),u}function Ki(){this.next=this.b=this.a=null}Mr.prototype.add=function(s,u){var m=Ab.get();m.set(s,u),this.b?this.b.next=m:this.a=m,this.b=m},Ki.prototype.set=function(s,u){this.a=s,this.b=u,this.next=null},Ki.prototype.reset=function(){this.next=this.b=this.a=null};var Uu=Array.prototype.indexOf?function(s,u){return Array.prototype.indexOf.call(s,u,void 0)}:function(s,u){if("string"==typeof s)return"string"!=typeof u||1!=u.length?-1:s.indexOf(u,0);for(var m=0;m<s.length;m++)if(m in s&&s[m]===u)return m;return-1},ar=Array.prototype.forEach?function(s,u,m){Array.prototype.forEach.call(s,u,m)}:function(s,u,m){for(var y=s.length,D="string"==typeof s?s.split(""):s,P=0;P<y;P++)P in D&&u.call(m,D[P],P,s)},Ib=Array.prototype.filter?function(s,u){return Array.prototype.filter.call(s,u,void 0)}:function(s,u){for(var m=s.length,y=[],D=0,P="string"==typeof s?s.split(""):s,F=0;F<m;F++)if(F in P){var G=P[F];u.call(void 0,G,F,s)&&(y[D++]=G)}return y},mS=Array.prototype.map?function(s,u){return Array.prototype.map.call(s,u,void 0)}:function(s,u){for(var m=s.length,y=Array(m),D="string"==typeof s?s.split(""):s,P=0;P<m;P++)P in D&&(y[P]=u.call(void 0,D[P],P,s));return y},xEe=Array.prototype.some?function(s,u){return Array.prototype.some.call(s,u,void 0)}:function(s,u){for(var m=s.length,y="string"==typeof s?s.split(""):s,D=0;D<m;D++)if(D in y&&u.call(void 0,y[D],D,s))return!0;return!1};function Yc(s,u){return 0<=Uu(s,u)}function gS(s,u){var m;return(m=0<=(u=Uu(s,u)))&&Array.prototype.splice.call(s,u,1),m}function ql(s,u){!function Kc(s,u){for(var m="string"==typeof s?s.split(""):s,y=s.length-1;0<=y;--y)y in m&&u.call(void 0,m[y],y,s)}(s,function(y,D){u.call(void 0,y,D,s)&&Array.prototype.splice.call(s,D,1)})}function lR(s){return Array.prototype.concat.apply([],arguments)}function up(s){var u=s.length;if(0<u){for(var m=Array(u),y=0;y<u;y++)m[y]=s[y];return m}return[]}var iv,aq=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},PEe=/&/g,OEe=/</g,NEe=/>/g,FEe=/"/g,LEe=/'/g,VEe=/\x00/g,BEe=/[\x00&<>"']/;function xr(s,u){return-1!=s.indexOf(u)}function uR(s,u){return s<u?-1:s>u?1:0}e:{var lq=c.navigator;if(lq){var uq=lq.userAgent;if(uq){iv=uq;break e}}iv=""}function Yi(s){return xr(iv,s)}function cq(s,u){for(var m in s)u.call(void 0,s[m],m,s)}function cp(s){for(var u in s)return!1;return!0}function hh(s){var m,u={};for(m in s)u[m]=s[m];return u}var dq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(s,u){for(var m,y,D=1;D<arguments.length;D++){for(m in y=arguments[D])s[m]=y[m];for(var P=0;P<dq.length;P++)m=dq[P],Object.prototype.hasOwnProperty.call(y,m)&&(s[m]=y[m])}}function hq(s,u){e:{try{var m=s&&s.ownerDocument,y=m&&(m.defaultView||m.parentWindow);if((y=y||c).Element&&y.Location){var D=y;break e}}catch(F){}D=null}if(D&&void 0!==D[u]&&(!s||!(s instanceof D[u])&&(s instanceof D.Location||s instanceof D.Element))){if(z(s))try{var P=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch(F){P="<object could not be stringified>"}else P=void 0===s?"undefined":null===s?"null":typeof s;Lo("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,P)}}function ju(s,u){this.a=s===vS&&u||"",this.b=fq}function cR(s){return s instanceof ju&&s.constructor===ju&&s.b===fq?s.a:(Lo("expected object of type Const, got '"+s+"'"),"type_error:Const")}ju.prototype.ta=!0,ju.prototype.sa=function(){return this.a},ju.prototype.toString=function(){return"Const{"+this.a+"}"};var _S,fq={},vS={};function pq(){if(void 0===_S){var s=null,u=c.trustedTypes;if(u&&u.createPolicy){try{s=u.createPolicy("goog#html",{createHTML:Pi,createScript:Pi,createScriptURL:Pi})}catch(m){c.console&&c.console.error(m.message)}_S=s}else _S=s}return _S}function ov(s,u){this.a=u===gq?s:""}function mq(s){return s instanceof ov&&s.constructor===ov?s.a:(Lo("expected object of type TrustedResourceUrl, got '"+s+"' of type "+I(s)),"type_error:TrustedResourceUrl")}function dR(s,u){var m=cR(s);if(!jEe.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return function HEe(s){var u=pq();return new ov(s=u?u.createScriptURL(s):s,gq)}(s=m.replace(UEe,function(y,D){if(!Object.prototype.hasOwnProperty.call(u,D))throw Error('Found marker, "'+D+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(u));return(y=u[D])instanceof ju?cR(y):encodeURIComponent(String(y))}))}ov.prototype.ta=!0,ov.prototype.sa=function(){return this.a.toString()},ov.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var UEe=/%{(\w+)}/g,jEe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,gq={};function Ks(s,u){this.a=u===kb?s:""}function yS(s){return s instanceof Ks&&s.constructor===Ks?s.a:(Lo("expected object of type SafeUrl, got '"+s+"' of type "+I(s)),"type_error:SafeUrl")}Ks.prototype.ta=!0,Ks.prototype.sa=function(){return this.a.toString()},Ks.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var zEe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,qEe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,vq=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _q(s){if(s instanceof Ks)return s;if(s="object"==typeof s&&s.ta?s.sa():String(s),vq.test(s))s=new Ks(s,kb);else{var u=(s=(s=String(s)).replace(/(%0A|%0D)/g,"")).match(qEe);s=u&&zEe.test(u[1])?new Ks(s,kb):null}return s}function yq(s){return s instanceof Ks?s:(s="object"==typeof s&&s.ta?s.sa():String(s),vq.test(s)||(s="about:invalid#zClosurez"),new Ks(s,kb))}var kb={},bq=new Ks("about:invalid#zClosurez",kb);function sv(s,u,m){this.a=m===wq?s:""}sv.prototype.ta=!0,sv.prototype.sa=function(){return this.a.toString()},sv.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var wq={};function Cq(s,u,m,y){return s=s instanceof Ks?s:yq(s),u=u||c,m=m instanceof ju?cR(m):m||"",u.open(yS(s),m,y,void 0)}function Eq(s,u){for(var m=s.split("%s"),y="",D=Array.prototype.slice.call(arguments,1);D.length&&1<m.length;)y+=m.shift()+D.shift();return y+m.join("%s")}function hR(s){return BEe.test(s)&&(-1!=s.indexOf("&")&&(s=s.replace(PEe,"&amp;")),-1!=s.indexOf("<")&&(s=s.replace(OEe,"&lt;")),-1!=s.indexOf(">")&&(s=s.replace(NEe,"&gt;")),-1!=s.indexOf('"')&&(s=s.replace(FEe,"&quot;")),-1!=s.indexOf("'")&&(s=s.replace(LEe,"&#39;")),-1!=s.indexOf("\0")&&(s=s.replace(VEe,"&#0;"))),s}function fR(s){return fR[" "](s),s}fR[" "]=w;var bS,s,KEe=Yi("Opera"),$l=Yi("Trident")||Yi("MSIE"),Sq=Yi("Edge"),YEe=Sq||$l,Tq=Yi("Gecko")&&!(xr(iv.toLowerCase(),"webkit")&&!Yi("Edge"))&&!(Yi("Trident")||Yi("MSIE"))&&!Yi("Edge"),QEe=xr(iv.toLowerCase(),"webkit")&&!Yi("Edge");function Dq(){var s=c.document;return s?s.documentMode:void 0}e:{var pR="",mR=(s=iv,Tq?/rv:([^\);]+)(\)|;)/.exec(s):Sq?/Edge\/([\d\.]+)/.exec(s):$l?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):QEe?/WebKit\/(\S+)/.exec(s):KEe?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(mR&&(pR=mR?mR[1]:""),$l){var gR=Dq();if(null!=gR&&gR>parseFloat(pR)){bS=String(gR);break e}}bS=pR}var XEe={};function Aq(s){return function GEe(s,u){var m=XEe;return Object.prototype.hasOwnProperty.call(m,s)?m[s]:m[s]=u(s)}(s,function(){for(var u=0,m=aq(String(bS)).split("."),y=aq(String(s)).split("."),D=Math.max(m.length,y.length),P=0;0==u&&P<D;P++){var F=m[P]||"",G=y[P]||"";do{if(F=/(\d*)(\D*)(.*)/.exec(F)||["","","",""],G=/(\d*)(\D*)(.*)/.exec(G)||["","","",""],0==F[0].length&&0==G[0].length)break;u=uR(0==F[1].length?0:parseInt(F[1],10),0==G[1].length?0:parseInt(G[1],10))||uR(0==F[2].length,0==G[2].length)||uR(F[2],G[2]),F=F[3],G=G[3]}while(0==u)}return 0<=u})}var fh=c.document&&$l&&(Dq()||parseInt(bS,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(s){}var ZEe=!$l||9<=Number(fh);function Mb(s){var u=document;return"string"==typeof s?u.getElementById(s):s}function kq(s,u){cq(u,function(m,y){m&&"object"==typeof m&&m.ta&&(m=m.sa()),"style"==y?s.style.cssText=m:"class"==y?s.className=m:"for"==y?s.htmlFor=m:Mq.hasOwnProperty(y)?s.setAttribute(Mq[y],m):0==y.lastIndexOf("aria-",0)||0==y.lastIndexOf("data-",0)?s.setAttribute(y,m):s[y]=m})}var _R,ES,Mq={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function eSe(s,u,m){function y(G){G&&u.appendChild("string"==typeof G?s.createTextNode(G):G)}for(var D=2;D<m.length;D++){var P=m[D];if(!R(P)||z(P)&&0<P.nodeType)y(P);else{e:{if(P&&"number"==typeof P.length){if(z(P)){var F="function"==typeof P.item||"string"==typeof P.item;break e}if(N(P)){F="function"==typeof P.item;break e}}F=!1}ar(F?up(P):P,y)}}}function wS(s,u){return u=String(u),"application/xhtml+xml"===s.contentType&&(u=u.toLowerCase()),s.createElement(u)}function xq(s){c.setTimeout(function(){throw s},0)}function CS(s,u){ES||function nSe(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);ES=function(){s.then(Pq)}}else ES=function(){var u=Pq;!N(c.setImmediate)||c.Window&&c.Window.prototype&&!Yi("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(_R||(_R=function tSe(){var s=c.MessageChannel;if(void 0===s&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Yi("Presto")&&(s=function(){var D=wS(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var P=D.contentWindow;(D=P.document).open(),D.close();var F="callImmediate"+Math.random(),G="file:"==P.location.protocol?"*":P.location.protocol+"//"+P.location.host;D=De(function(he){("*"==G||he.origin==G)&&he.data==F&&this.port1.onmessage()},this),P.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){P.postMessage(F,G)}}}),void 0!==s&&!Yi("Trident")&&!Yi("MSIE")){var u=new s,m={},y=m;return u.port1.onmessage=function(){if(void 0!==m.next){var D=(m=m.next).Hb;m.Hb=null,D()}},function(D){y.next={Hb:D},y=y.next,u.port2.postMessage(0)}}return function(D){c.setTimeout(D,0)}}()),_R(u)):c.setImmediate(u)}}(),yR||(ES(),yR=!0),Rq.add(s,u)}var yR=!1,Rq=new Mr;function Pq(){for(var s;s=aR();){try{s.a.call(s.b)}catch(u){xq(u)}zl(Ab,s)}yR=!1}function Fn(s,u){if(this.a=dp,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=w)try{var m=this;s.call(u,function(y){hp(m,xb,y)},function(y){if(!(y instanceof av))try{throw y instanceof Error?y:Error("Promise rejected.")}catch(D){}hp(m,Qc,y)})}catch(y){hp(this,Qc,y)}}var dp=0,xb=2,Qc=3;function Oq(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Oq.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Nq=new Vo(function(){return new Oq},function(s){s.reset()});function bR(s,u,m){var y=Nq.get();return y.g=s,y.b=u,y.f=m,y}function Rt(s){if(s instanceof Fn)return s;var u=new Fn(w);return hp(u,xb,s),u}function jr(s){return new Fn(function(u,m){m(s)})}function Fq(s,u,m){Uq(s,u,m,null)||CS(xt(u,s))}function Lq(s){return new Fn(function(u){var m=s.length,y=[];if(m)for(var D=function(G,he,Pe){m--,y[G]=he?{Qb:!0,value:Pe}:{Qb:!1,reason:Pe},0==m&&u(y)},P=0;P<s.length;P++)Fq(s[P],xt(D,P,!0),xt(D,P,!1));else u(y)})}function Vq(s,u){if(s.a==dp)if(s.c){var m=s.c;if(m.b){for(var y=0,D=null,P=null,F=m.b;F&&(F.c||(y++,F.a==s&&(D=F),!(D&&1<y)));F=F.next)D||(P=F);D&&(m.a==dp&&1==y?Vq(m,u):(P?((y=P).next==m.f&&(m.f=y),y.next=y.next.next):Hq(m),zq(m,D,Qc,u)))}s.c=null}else hp(s,Qc,u)}function wR(s,u){s.b||s.a!=xb&&s.a!=Qc||jq(s),s.f?s.f.next=u:s.b=u,s.f=u}function Bq(s,u,m,y){var D=bR(null,null,null);return D.a=new Fn(function(P,F){D.g=u?function(G){try{var he=u.call(y,G);P(he)}catch(Pe){F(Pe)}}:P,D.b=m?function(G){try{var he=m.call(y,G);void 0===he&&G instanceof av?F(G):P(he)}catch(Pe){F(Pe)}}:F}),D.a.c=s,wR(s,D),D.a}function hp(s,u,m){s.a==dp&&(s===m&&(u=Qc,m=new TypeError("Promise cannot resolve to itself")),s.a=1,Uq(m,s.$c,s.ad,s)||(s.i=m,s.a=u,s.c=null,jq(s),u!=Qc||m instanceof av||function oSe(s,u){s.g=!0,CS(function(){s.g&&$q.call(null,u)})}(s,m)))}function Uq(s,u,m,y){if(s instanceof Fn)return wR(s,bR(u||w,m||null,y)),!0;if(jt(s))return s.then(u,m,y),!0;if(z(s))try{var D=s.then;if(N(D))return function iSe(s,u,m,y,D){function P(he){G||(G=!0,y.call(D,he))}var G=!1;try{u.call(s,function F(he){G||(G=!0,m.call(D,he))},P)}catch(he){P(he)}}(s,D,u,m,y),!0}catch(P){return m.call(y,P),!0}return!1}function jq(s){s.h||(s.h=!0,CS(s.gc,s))}function Hq(s){var u=null;return s.b&&(s.b=(u=s.b).next,u.next=null),s.b||(s.f=null),u}function zq(s,u,m,y){if(m==Qc&&u.b&&!u.c)for(;s&&s.g;s=s.c)s.g=!1;if(u.a)u.a.c=null,qq(u,m,y);else try{u.c?u.g.call(u.f):qq(u,m,y)}catch(D){$q.call(null,D)}zl(Nq,u)}function qq(s,u,m){u==xb?s.g.call(s.f,m):s.b&&s.b.call(s.f,m)}Fn.prototype.then=function(s,u,m){return Bq(this,N(s)?s:null,N(u)?u:null,m)},Fn.prototype.$goog_Thenable=!0,(n=Fn.prototype).oa=function(s,u){return(s=bR(s,s,u)).c=!0,wR(this,s),this},n.o=function(s,u){return Bq(this,null,s,u)},n.cancel=function(s){if(this.a==dp){var u=new av(s);CS(function(){Vq(this,u)},this)}},n.$c=function(s){this.a=dp,hp(this,xb,s)},n.ad=function(s){this.a=dp,hp(this,Qc,s)},n.gc=function(){for(var s;s=Hq(this);)zq(this,s,this.a,this.i);this.h=!1};var $q=xq;function av(s){Zt.call(this,s)}function SS(){0!=CR&&(Wq[Q(this)]=this),this.ya=this.ya,this.pa=this.pa}nt(av,Zt),av.prototype.name="cancel";var CR=0,Wq={};function Gq(s){if(!s.ya&&(s.ya=!0,s.Da(),0!=CR)){var u=Q(s);if(0!=CR&&s.pa&&0<s.pa.length)throw Error(s+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wq[u]}}SS.prototype.ya=!1,SS.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var sSe=Object.freeze||function(s){return s},Kq=!$l||9<=Number(fh),aSe=$l&&!Aq("9"),lSe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,u=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",w,u),c.removeEventListener("test",w,u)}catch(m){}return s}();function Ys(s,u){this.type=s,this.b=this.target=u,this.defaultPrevented=!1}function fp(s,u){if(Ys.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var m=this.type=s.type,y=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=u,u=s.relatedTarget){if(Tq){e:{try{fR(u.nodeName);var D=!0;break e}catch(P){}D=!1}D||(u=null)}}else"mouseover"==m?u=s.fromElement:"mouseout"==m&&(u=s.toElement);this.relatedTarget=u,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:uSe[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}Ys.prototype.preventDefault=function(){this.defaultPrevented=!0},nt(fp,Ys);var uSe=sSe({2:"touch",3:"pen",4:"mouse"});fp.prototype.preventDefault=function(){fp.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,aSe)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch(u){}},fp.prototype.g=function(){return this.a};var Rb="closure_listenable_"+(1e6*Math.random()|0),cSe=0;function dSe(s,u,m,y,D){this.listener=s,this.proxy=null,this.src=u,this.type=m,this.capture=!!y,this.Wa=D,this.key=++cSe,this.wa=this.Qa=!1}function TS(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function DS(s){this.src=s,this.a={},this.b=0}function ER(s,u){var m=u.type;m in s.a&&gS(s.a[m],u)&&(TS(u),0==s.a[m].length&&(delete s.a[m],s.b--))}function SR(s,u,m,y){for(var D=0;D<s.length;++D){var P=s[D];if(!P.wa&&P.listener==u&&P.capture==!!m&&P.Wa==y)return D}return-1}DS.prototype.add=function(s,u,m,y,D){var P=s.toString();(s=this.a[P])||(s=this.a[P]=[],this.b++);var F=SR(s,u,y,D);return-1<F?(u=s[F],m||(u.Qa=!1)):((u=new dSe(u,this.src,P,!!y,D)).Qa=m,s.push(u)),u};var TR="closure_lm_"+(1e6*Math.random()|0),DR={};function sl(s,u,m,y,D){if(y&&y.once)AR(s,u,m,y,D);else if(Array.isArray(u))for(var P=0;P<u.length;P++)sl(s,u[P],m,y,D);else m=kR(m),s&&s[Rb]?t$(s,u,m,z(y)?!!y.capture:!!y,D):Qq(s,u,m,!1,y,D)}function Qq(s,u,m,y,D,P){if(!u)throw Error("Invalid event type");var F=z(D)?!!D.capture:!!D,G=AS(s);if(G||(s[TR]=G=new DS(s)),!(m=G.add(u,m,y,F,P)).proxy)if(y=function hSe(){var s=fSe,u=Kq?function(m){return s.call(u.src,u.listener,m)}:function(m){if(!(m=s.call(u.src,u.listener,m)))return m};return u}(),m.proxy=y,y.src=s,y.listener=m,s.addEventListener)lSe||(D=F),void 0===D&&(D=!1),s.addEventListener(u.toString(),y,D);else if(s.attachEvent)s.attachEvent(Zq(u.toString()),y);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(y)}}function AR(s,u,m,y,D){if(Array.isArray(u))for(var P=0;P<u.length;P++)AR(s,u[P],m,y,D);else m=kR(m),s&&s[Rb]?MR(s,u,m,z(y)?!!y.capture:!!y,D):Qq(s,u,m,!0,y,D)}function Ea(s,u,m,y,D){if(Array.isArray(u))for(var P=0;P<u.length;P++)Ea(s,u[P],m,y,D);else y=z(y)?!!y.capture:!!y,m=kR(m),s&&s[Rb]?(s=s.v,(u=String(u).toString())in s.a&&-1<(m=SR(P=s.a[u],m,y,D))&&(TS(P[m]),Array.prototype.splice.call(P,m,1),0==P.length&&(delete s.a[u],s.b--))):s&&(s=AS(s))&&(u=s.a[u.toString()],s=-1,u&&(s=SR(u,m,y,D)),(m=-1<s?u[s]:null)&&Xq(m))}function Xq(s){if("number"!=typeof s&&s&&!s.wa){var u=s.src;if(u&&u[Rb])ER(u.v,s);else{var m=s.type,y=s.proxy;u.removeEventListener?u.removeEventListener(m,y,s.capture):u.detachEvent?u.detachEvent(Zq(m),y):u.addListener&&u.removeListener&&u.removeListener(y),(m=AS(u))?(ER(m,s),0==m.b&&(m.src=null,u[TR]=null)):TS(s)}}}function Zq(s){return s in DR?DR[s]:DR[s]="on"+s}function Jq(s,u,m,y){var D=!0;if((s=AS(s))&&(u=s.a[u.toString()]))for(u=u.concat(),s=0;s<u.length;s++){var P=u[s];P&&P.capture==m&&!P.wa&&(P=e$(P,y),D=D&&!1!==P)}return D}function e$(s,u){var m=s.listener,y=s.Wa||s.src;return s.Qa&&Xq(s),m.call(y,u)}function fSe(s,u){if(s.wa)return!0;if(!Kq){if(!u)e:{u=["window","event"];for(var m=c,y=0;y<u.length;y++)if(null==(m=m[u[y]])){u=null;break e}u=m}if(u=new fp(y=u,this),m=!0,!(0>y.keyCode||null!=y.returnValue)){e:{var D=!1;if(0==y.keyCode)try{y.keyCode=-1;break e}catch(F){D=!0}(D||null==y.returnValue)&&(y.returnValue=!0)}for(y=[],D=u.b;D;D=D.parentNode)y.push(D);for(s=s.type,D=y.length-1;0<=D;D--){u.b=y[D];var P=Jq(y[D],s,!0,u);m=m&&P}for(D=0;D<y.length;D++)u.b=y[D],P=Jq(y[D],s,!1,u),m=m&&P}return m}return e$(s,new fp(u,this))}function AS(s){return(s=s[TR])instanceof DS?s:null}var IR="__closure_events_fn_"+(1e9*Math.random()>>>0);function kR(s){return N(s)?s:(s[IR]||(s[IR]=function(u){return s.handleEvent(u)}),s[IR])}function As(){SS.call(this),this.v=new DS(this),this.bc=this,this.hb=null}function t$(s,u,m,y,D){s.v.add(String(u),m,!1,y,D)}function MR(s,u,m,y,D){s.v.add(String(u),m,!0,y,D)}function IS(s,u,m,y){if(!(u=s.v.a[String(u)]))return!0;u=u.concat();for(var D=!0,P=0;P<u.length;++P){var F=u[P];if(F&&!F.wa&&F.capture==m){var G=F.listener,he=F.Wa||F.src;F.Qa&&ER(s.v,F),D=!1!==G.call(he,y)&&D}}return D&&!y.defaultPrevented}function xR(s,u,m){if(N(s))m&&(s=De(s,m));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=De(s.handleEvent,s)}return 2147483647<Number(u)?-1:c.setTimeout(s,u||0)}function lv(s){var u=null;return new Fn(function(m,y){-1==(u=xR(function(){m(void 0)},s))&&y(Error("Failed to schedule timer."))}).o(function(m){throw c.clearTimeout(u),m})}function n$(s){if(s.X&&"function"==typeof s.X)return s.X();if("string"==typeof s)return s.split("");if(R(s)){for(var u=[],m=s.length,y=0;y<m;y++)u.push(s[y]);return u}for(y in u=[],m=0,s)u[m++]=s[y];return u}function r$(s){if(s.Y&&"function"==typeof s.Y)return s.Y();if(!s.X||"function"!=typeof s.X){if(R(s)||"string"==typeof s){var u=[];s=s.length;for(var m=0;m<s;m++)u.push(m);return u}for(var y in u=[],m=0,s)u[m++]=y;return u}}function uv(s,u){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var y=0;y<m;y+=2)this.set(arguments[y],arguments[y+1])}else if(s)if(s instanceof uv)for(m=s.Y(),y=0;y<m.length;y++)this.set(m[y],s.get(m[y]));else for(y in s)this.set(y,s[y])}function RR(s){if(s.c!=s.a.length){for(var u=0,m=0;u<s.a.length;){var y=s.a[u];pp(s.b,y)&&(s.a[m++]=y),u++}s.a.length=m}if(s.c!=s.a.length){var D={};for(m=u=0;u<s.a.length;)pp(D,y=s.a[u])||(s.a[m++]=y,D[y]=1),u++;s.a.length=m}}function pp(s,u){return Object.prototype.hasOwnProperty.call(s,u)}nt(As,SS),As.prototype[Rb]=!0,As.prototype.addEventListener=function(s,u,m,y){sl(this,s,u,m,y)},As.prototype.removeEventListener=function(s,u,m,y){Ea(this,s,u,m,y)},As.prototype.dispatchEvent=function(s){var u,m=this.hb;if(m)for(u=[];m;m=m.hb)u.push(m);m=this.bc;var y=s.type||s;if("string"==typeof s)s=new Ys(s,m);else if(s instanceof Ys)s.target=s.target||m;else{var D=s;Gs(s=new Ys(y,m),D)}if(D=!0,u)for(var P=u.length-1;0<=P;P--){var F=s.b=u[P];D=IS(F,y,!0,s)&&D}if(D=IS(F=s.b=m,y,!0,s)&&D,D=IS(F,y,!1,s)&&D,u)for(P=0;P<u.length;P++)D=IS(F=s.b=u[P],y,!1,s)&&D;return D},As.prototype.Da=function(){if(As.bb.Da.call(this),this.v){var m,s=this.v;for(m in s.a){for(var y=s.a[m],D=0;D<y.length;D++)TS(y[D]);delete s.a[m],s.b--}}this.hb=null},(n=uv.prototype).X=function(){RR(this);for(var s=[],u=0;u<this.a.length;u++)s.push(this.b[this.a[u]]);return s},n.Y=function(){return RR(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(s,u){return pp(this.b,s)?this.b[s]:u},n.set=function(s,u){pp(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=u},n.forEach=function(s,u){for(var m=this.Y(),y=0;y<m.length;y++){var D=m[y],P=this.get(D);s.call(u,P,D,this)}};var i$=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ph(s,u){var m;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,s instanceof ph?(this.i=void 0!==u?u:s.i,Pb(this,s.c),this.l=s.l,this.a=s.a,Ob(this,s.g),this.f=s.f,PR(this,l$(s.b)),this.h=s.h):s&&(m=String(s).match(i$))?(this.i=!!u,Pb(this,m[1]||"",!0),this.l=Nb(m[2]||""),this.a=Nb(m[3]||"",!0),Ob(this,m[4]),this.f=Nb(m[5]||"",!0),PR(this,m[6]||"",!0),this.h=Nb(m[7]||"")):(this.i=!!u,this.b=new mp(null,this.i))}function Pb(s,u,m){s.c=m?Nb(u,!0):u,s.c&&(s.c=s.c.replace(/:$/,""))}function Ob(s,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);s.g=u}else s.g=null}function PR(s,u,m){u instanceof mp?(s.b=u,function wSe(s,u){u&&!s.f&&(mh(s),s.c=null,s.a.forEach(function(m,y){var D=y.toLowerCase();y!=D&&(Hu(this,y),a$(this,D,m))},s)),s.f=u}(s.b,s.i)):(m||(u=Fb(u,ySe)),s.b=new mp(u,s.i))}function yi(s,u,m){s.b.set(u,m)}function al(s,u){return s.b.get(u)}function Qs(s){return s instanceof ph?new ph(s):new ph(s,void 0)}function kS(s,u,m,y){var D=new ph(null,void 0);return s&&Pb(D,s),u&&(D.a=u),m&&Ob(D,m),y&&(D.f=y),D}function Nb(s,u){return s?u?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Fb(s,u,m){return"string"==typeof s?(s=encodeURI(s).replace(u,gSe),m&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function gSe(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ph.prototype.toString=function(){var s=[],u=this.c;u&&s.push(Fb(u,o$,!0),":");var m=this.a;return(m||"file"==u)&&(s.push("//"),(u=this.l)&&s.push(Fb(u,o$,!0),"@"),s.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.g)&&s.push(":",String(m))),(m=this.f)&&(this.a&&"/"!=m.charAt(0)&&s.push("/"),s.push(Fb(m,"/"==m.charAt(0)?_Se:vSe,!0))),(m=this.b.toString())&&s.push("?",m),(m=this.h)&&s.push("#",Fb(m,bSe)),s.join("")},ph.prototype.resolve=function(s){var u=new ph(this),m=!!s.c;m?Pb(u,s.c):m=!!s.l,m?u.l=s.l:m=!!s.a,m?u.a=s.a:m=null!=s.g;var y=s.f;if(m)Ob(u,s.g);else if(m=!!s.f){if("/"!=y.charAt(0))if(this.a&&!this.f)y="/"+y;else{var D=u.f.lastIndexOf("/");-1!=D&&(y=u.f.substr(0,D+1)+y)}if(".."==(D=y)||"."==D)y="";else if(xr(D,"./")||xr(D,"/.")){y=0==D.lastIndexOf("/",0),D=D.split("/");for(var P=[],F=0;F<D.length;){var G=D[F++];"."==G?y&&F==D.length&&P.push(""):".."==G?((1<P.length||1==P.length&&""!=P[0])&&P.pop(),y&&F==D.length&&P.push("")):(P.push(G),y=!0)}y=P.join("/")}else y=D}return m?u.f=y:m=""!==s.b.toString(),m?PR(u,l$(s.b)):m=!!s.h,m&&(u.h=s.h),u};var o$=/[#\/\?@]/g,vSe=/[#\?:]/g,_Se=/[#\?]/g,ySe=/[#\?@]/g,bSe=/#/g;function mp(s,u){this.b=this.a=null,this.c=s||null,this.f=!!u}function mh(s){s.a||(s.a=new uv,s.b=0,s.c&&function mSe(s,u){if(s){s=s.split("&");for(var m=0;m<s.length;m++){var y=s[m].indexOf("="),D=null;if(0<=y){var P=s[m].substring(0,y);D=s[m].substring(y+1)}else P=s[m];u(P,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(s.c,function(u,m){s.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}function s$(s){var u=r$(s);if(void 0===u)throw Error("Keys are undefined");var m=new mp(null,void 0);s=n$(s);for(var y=0;y<u.length;y++){var D=u[y],P=s[y];Array.isArray(P)?a$(m,D,P):m.add(D,P)}return m}function Hu(s,u){mh(s),u=cv(s,u),pp(s.a.b,u)&&(s.c=null,s.b-=s.a.get(u).length,pp((s=s.a).b,u)&&(delete s.b[u],s.c--,s.a.length>2*s.c&&RR(s)))}function OR(s,u){return mh(s),u=cv(s,u),pp(s.a.b,u)}function a$(s,u,m){Hu(s,u),0<m.length&&(s.c=null,s.a.set(cv(s,u),up(m)),s.b+=m.length)}function l$(s){var u=new mp;return u.c=s.c,s.a&&(u.a=new uv(s.a),u.b=s.b),u}function cv(s,u){return u=String(u),s.f&&(u=u.toLowerCase()),u}function u$(s){var u=[];return NR(new CSe,s,u),u.join("")}function CSe(){}function NR(s,u,m){if(null==u)m.push("null");else{if("object"==typeof u){if(Array.isArray(u)){var y=u;u=y.length,m.push("[");for(var D="",P=0;P<u;P++)m.push(D),NR(s,y[P],m),D=",";return void m.push("]")}if(!(u instanceof String||u instanceof Number||u instanceof Boolean)){for(y in m.push("{"),D="",u)Object.prototype.hasOwnProperty.call(u,y)&&"function"!=typeof(P=u[y])&&(m.push(D),d$(y,m),m.push(":"),NR(s,P,m),D=",");return void m.push("}")}u=u.valueOf()}switch(typeof u){case"string":d$(u,m);break;case"number":m.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":m.push(String(u));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}(n=mp.prototype).add=function(s,u){mh(this),this.c=null,s=cv(this,s);var m=this.a.get(s);return m||this.a.set(s,m=[]),m.push(u),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(s,u){mh(this),this.a.forEach(function(m,y){ar(m,function(D){s.call(u,D,y,this)},this)},this)},n.Y=function(){mh(this);for(var s=this.a.X(),u=this.a.Y(),m=[],y=0;y<u.length;y++)for(var D=s[y],P=0;P<D.length;P++)m.push(u[y]);return m},n.X=function(s){mh(this);var u=[];if("string"==typeof s)OR(this,s)&&(u=lR(u,this.a.get(cv(this,s))));else{s=this.a.X();for(var m=0;m<s.length;m++)u=lR(u,s[m])}return u},n.set=function(s,u){return mh(this),this.c=null,OR(this,s=cv(this,s))&&(this.b-=this.a.get(s).length),this.a.set(s,[u]),this.b+=1,this},n.get=function(s,u){return s&&0<(s=this.X(s)).length?String(s[0]):u},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],u=this.a.Y(),m=0;m<u.length;m++){var y=u[m],D=encodeURIComponent(String(y));y=this.X(y);for(var P=0;P<y.length;P++){var F=D;""!==y[P]&&(F+="="+encodeURIComponent(String(y[P]))),s.push(F)}}return this.c=s.join("&")};var c$={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ESe=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function d$(s,u){u.push('"',s.replace(ESe,function(m){var y=c$[m];return y||(y="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),c$[m]=y),y}),'"')}function FR(){var s=Bo();return $l&&!!fh&&11==fh||/Edge\/\d+/.test(s)}function Lb(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function h$(s,u){u=u||c.window;var m="about:blank";s&&(m=yS(_q(s)||bq)),u.location.href=m}function f$(s,u){var y,m=[];for(y in s)y in u?typeof s[y]!=typeof u[y]?m.push(y):"object"==typeof s[y]&&null!=s[y]&&null!=u[y]?0<f$(s[y],u[y]).length&&m.push(y):s[y]!==u[y]&&m.push(y):m.push(y);for(y in u)y in s||m.push(y);return m}function p$(s){return!!((s=(s||Bo()).toLowerCase()).match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function gp(s){s=s||c.window;try{s.close()}catch(u){}}function m$(s,u,m){var y=Math.floor(1e9*Math.random()).toString();u=u||500,m=m||600;var D=(window.screen.availHeight-m)/2,P=(window.screen.availWidth-u)/2;for(F in u={width:u,height:m,top:0<D?D:0,left:0<P?P:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=Bo().toLowerCase(),y&&(u.target=y,xr(m,"crios/")&&(u.target="_blank")),dv(Bo())==BR&&(s=s||"http://localhost",u.scrollbars=!0),m=s||"",(s=u)||(s={}),y=window,u=m instanceof Ks?m:_q(void 0!==m.href?m.href:String(m))||bq,m=s.target||m.target,D=[],s)switch(F){case"width":case"height":case"top":case"left":D.push(F+"="+s[F]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(F+"="+(s[F]?1:0))}var F=D.join(",");if((Yi("iPhone")&&!Yi("iPod")&&!Yi("iPad")||Yi("iPad")||Yi("iPod"))&&y.navigator&&y.navigator.standalone&&m&&"_self"!=m?(hq(F=wS(document,"A"),"HTMLAnchorElement"),u=u instanceof Ks?u:yq(u),F.href=yS(u),F.setAttribute("target",m),s.noreferrer&&F.setAttribute("rel","noreferrer"),(s=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,y,1),F.dispatchEvent(s),F={}):s.noreferrer?(F=Cq("",y,m,F),s=yS(u),F&&(YEe&&xr(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),F.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hR(s)+'">',s=new sv(s=(y=pq())?y.createHTML(s):s,null,wq),y=F.document)&&(y.write(function $Ee(s){return s instanceof sv&&s.constructor===sv?s.a:(Lo("expected object of type SafeHtml, got '"+s+"' of type "+I(s)),"type_error:SafeHtml")}(s)),y.close())):(F=Cq(u,y,m,F))&&s.noopener&&(F.opener=null),F)try{F.focus()}catch(G){}return F}var DSe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ASe=/^[^@]+@[^@]+$/;function MS(){var s=null;return new Fn(function(u){"complete"==c.document.readyState?u():(s=function(){u()},AR(window,"load",s))}).o(function(u){throw Ea(window,"load",s),u})}function LR(s){return s=s||Bo(),!("file:"!==fv()&&"ionic:"!==fv()||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function VR(){var s=c.window;try{return!(!s||s==s.top)}catch(u){return!1}}function Wl(){return void 0!==c.WorkerGlobalScope&&"function"==typeof c.importScripts}function zu(){return it.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":it.default.INTERNAL.hasOwnProperty("node")?"Node":Wl()?"Worker":"Browser"}function g$(){var s=zu();return"ReactNative"===s||"Node"===s}var BR="Firefox";function dv(s){var u=s.toLowerCase();return xr(u,"opera/")||xr(u,"opr/")||xr(u,"opios/")?"Opera":xr(u,"iemobile")?"IEMobile":xr(u,"msie")||xr(u,"trident/")?"IE":xr(u,"edge/")?"Edge":xr(u,"firefox/")?BR:xr(u,"silk/")?"Silk":xr(u,"blackberry")?"Blackberry":xr(u,"webos")?"Webos":!xr(u,"safari/")||xr(u,"chrome/")||xr(u,"crios/")||xr(u,"android")?!xr(u,"chrome/")&&!xr(u,"crios/")||xr(u,"edge/")?xr(u,"android")?"Android":(s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==s.length?s[1]:"Other":"Chrome":"Safari"}var _$={md:"FirebaseCore-web",od:"FirebaseUI-web"};function hv(s,u){u=u||[];var D,m=[],y={};for(D in _$)y[_$[D]]=!0;for(D=0;D<u.length;D++)void 0!==y[u[D]]&&(delete y[u[D]],m.push(u[D]));return m.sort(),(u=m).length||(u=["FirebaseCore-web"]),"Browser"===(m=zu())?m=dv(y=Bo()):"Worker"===m&&(m=dv(y=Bo())+"-"+m),m+"/JsCore/"+s+"/"+u.join(",")}function Bo(){return c.navigator&&c.navigator.userAgent||""}function Hr(s,u){s=s.split("."),u=u||c;for(var m=0;m<s.length&&"object"==typeof u&&null!=u;m++)u=u[s[m]];return m!=s.length&&(u=void 0),u}function UR(){try{var s=c.localStorage,u=_p();if(s)return s.setItem(u,"1"),s.removeItem(u),!FR()||!!c.indexedDB}catch(m){return Wl()&&!!c.indexedDB}return!1}function vp(){return(xS()||"chrome-extension:"===fv()||LR())&&!g$()&&UR()&&!Wl()}function xS(){return"http:"===fv()||"https:"===fv()}function fv(){return c.location&&c.location.protocol||null}function Vb(s){return!(p$(s=s||Bo())||dv(s)==BR)}function Bb(s){return void 0===s?null:u$(s)}function y$(s){var m,u={};for(m in s)s.hasOwnProperty(m)&&null!=s[m]&&(u[m]=s[m]);return u}function pv(s){if(null!==s)return JSON.parse(s)}function _p(s){return s||Math.floor(1e9*Math.random()).toString()}function b$(s){return!("Safari"==dv(s=s||Bo())||s.toLowerCase().match(/iphone|ipad|ipod/))}function w$(){var s=c.___jsl;if(s&&s.H)for(var u in s.H)if(s.H[u].r=s.H[u].r||[],s.H[u].L=s.H[u].L||[],s.H[u].r=s.H[u].L.concat(),s.CP)for(var m=0;m<s.CP.length;m++)s.CP[m]=null}function gh(s,u){if(s>u)throw Error("Short delay should be less than long delay!");this.a=s,this.c=u,s=Bo(),u=zu(),this.b=p$(s)||"ReactNative"===u}function jR(){var s=c.document;return!s||void 0===s.visibilityState||"visible"==s.visibilityState}function Ub(s){try{var u=new Date(parseInt(s,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(s))return u.toUTCString()}catch(m){}return null}function C$(){return!(!Hr("fireauth.oauthhelper",c)&&!Hr("fireauth.iframe",c))}gh.prototype.get=function(){var s=c.navigator;return!s||"boolean"!=typeof s.onLine||!xS()&&"chrome-extension:"!==fv()&&void 0===s.connection||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zR,E$={};function HR(s){E$[s]||(E$[s]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(s))}try{var qR={};Object.defineProperty(qR,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qR,"abcd",{configurable:!0,enumerable:!0,value:2}),zR=2==qR.abcd}catch(s){zR=!1}function vt(s,u,m){zR?Object.defineProperty(s,u,{configurable:!0,enumerable:!0,value:m}):s[u]=m}function Is(s,u){if(u)for(var m in u)u.hasOwnProperty(m)&&vt(s,m,u[m])}function qu(s){var u={};return Is(u,s),u}function $R(s){var u=s;if("object"==typeof s&&null!=s)for(var m in u="length"in s?[]:{},s)vt(u,m,$R(s[m]));return u}function WR(s){var u=s&&(s[QR]?"phone":null);if(!(u&&s&&s[YR]))throw new ne("internal-error","Internal assert: invalid MultiFactorInfo object");vt(this,"uid",s[YR]),vt(this,"displayName",s[S$]||null);var m=null;s[KR]&&(m=new Date(s[KR]).toUTCString()),vt(this,"enrollmentTime",m),vt(this,"factorId",u)}function GR(s){try{var u=new jb(s)}catch(m){u=null}return u}WR.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var S$="displayName",KR="enrolledAt",YR="mfaEnrollmentId",QR="phoneInfo";function jb(s){WR.call(this,s),vt(this,"phoneNumber",s[QR])}function NSe(s){var u={},m=s[FSe],y=s[VSe],D=s[BSe];if(s=GR(s[LSe]),!D||D!=RS&&D!=Hb&&!m||D==Hb&&!y||D==XR&&!s)throw Error("Invalid checkActionCode response!");D==Hb?(u[D$]=m||null,u[A$]=m||null,u[T$]=y):(u[D$]=y||null,u[A$]=y||null,u[T$]=m||null),u[USe]=s||null,vt(this,HSe,D),vt(this,jSe,$R(u))}nt(jb,WR),jb.prototype.w=function(){var s=jb.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};var XR="REVERT_SECOND_FACTOR_ADDITION",RS="EMAIL_SIGNIN",Hb="VERIFY_AND_CHANGE_EMAIL",FSe="email",LSe="mfaInfo",VSe="newEmail",BSe="requestType",T$="email",D$="fromEmail",USe="multiFactorInfo",A$="previousEmail",jSe="data",HSe="operation";function ZR(s){var u=al(s=Qs(s),I$)||null,m=al(s,k$)||null,y=al(s,M$)||null;if(y=y&&WSe[y]||null,!u||!m||!y)throw new ne("argument-error",I$+", "+k$+"and "+M$+" are required in a valid action code URL.");Is(this,{apiKey:u,operation:y,code:m,continueUrl:al(s,zSe)||null,languageCode:al(s,qSe)||null,tenantId:al(s,$Se)||null})}var I$="apiKey",k$="oobCode",zSe="continueUrl",qSe="languageCode",M$="mode",$Se="tenantId",WSe={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:XR,signIn:RS,verifyAndChangeEmail:Hb,verifyEmail:"VERIFY_EMAIL"};function x$(s){try{return new ZR(s)}catch(u){return null}}function PS(s){var u=s[GSe];if(void 0===u)throw new ne("missing-continue-uri");if("string"!=typeof u||"string"==typeof u&&!u.length)throw new ne("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var m=s[R$];if(m&&"object"==typeof m){u=m[L$];var y=m[N$];if(m=m[F$],"string"==typeof u&&u.length){if(this.a=u,void 0!==y&&"boolean"!=typeof y)throw new ne("argument-error",N$+" property must be a boolean when specified.");if(this.g=!!y,void 0!==m&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new ne("argument-error",F$+" property must be a non empty string when specified.");this.b=m||null}else{if(void 0!==u)throw new ne("argument-error",L$+" property must be a non empty string when specified.");if(void 0!==y||void 0!==m)throw new ne("missing-android-pkg-name")}}else if(void 0!==m)throw new ne("argument-error",R$+" property must be a non null object when specified.");if(this.f=null,(u=s[O$])&&"object"==typeof u){if("string"==typeof(u=u[V$])&&u.length)this.f=u;else if(void 0!==u)throw new ne("argument-error",V$+" property must be a non empty string when specified.")}else if(void 0!==u)throw new ne("argument-error",O$+" property must be a non null object when specified.");if(void 0!==(u=s[JR])&&"boolean"!=typeof u)throw new ne("argument-error",JR+" property must be a boolean when specified.");if(this.c=!!u,void 0!==(s=s[P$])&&("string"!=typeof s||"string"==typeof s&&!s.length))throw new ne("argument-error",P$+" property must be a non empty string when specified.");this.i=s||null}var R$="android",P$="dynamicLinkDomain",JR="handleCodeInApp",O$="iOS",GSe="url",N$="installApp",F$="minimumVersion",L$="packageName",V$="bundleId";function OS(s){var u={};for(var m in u.continueUrl=s.h,u.canHandleCodeInApp=s.c,(u.androidPackageName=s.a)&&(u.androidMinimumVersion=s.b,u.androidInstallApp=s.g),u.iOSBundleId=s.f,u.dynamicLinkDomain=s.i,u)null===u[m]&&delete u[m];return u}var zb=null;function NS(s){var u=B$(s);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=s,this.a=u.exp,this.i=u.sub,s=Date.now()/1e3,this.g=u.iat||(s>this.a?this.a:s),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||"anonymous"==this.b}function FS(s){try{return new NS(s)}catch(u){return null}}function B$(s){if(!s||3!=(s=s.split(".")).length)return null;for(var u=(4-(s=s[1]).length%4)%4,m=0;m<u;m++)s+=".";try{var y=function YSe(s){var u=[];return function QSe(s,u){function m(he){for(;y<s.length;){var Pe=s.charAt(y++),on=zb[Pe];if(null!=on)return on;if(!/^[\s\xa0]*$/.test(Pe))throw Error("Unknown base64 encoding at char: "+Pe)}return he}!function XSe(){if(!zb){zb={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var y=s.concat(u[m].split("")),D=0;D<y.length;D++){var P=y[D];void 0===zb[P]&&(zb[P]=D)}}}();for(var y=0;;){var D=m(-1),P=m(0),F=m(64),G=m(64);if(64===G&&-1===D)break;u(D<<2|P>>4),64!=F&&(u(P<<4&240|F>>2),64!=G&&u(F<<6&192|G))}}(s,function(m){u.push(m)}),u}(s);for(s=[],m=u=0;u<y.length;){var D=y[u++];if(128>D)s[m++]=String.fromCharCode(D);else if(191<D&&224>D){var P=y[u++];s[m++]=String.fromCharCode((31&D)<<6|63&P)}else if(239<D&&365>D){P=y[u++];var F=y[u++],he=((7&D)<<18|(63&P)<<12|(63&F)<<6|63&y[u++])-65536;s[m++]=String.fromCharCode(55296+(he>>10)),s[m++]=String.fromCharCode(56320+(1023&he))}else P=y[u++],F=y[u++],s[m++]=String.fromCharCode((15&D)<<12|(63&P)<<6|63&F)}return JSON.parse(s.join(""))}catch(Pe){}return null}NS.prototype.T=function(){return this.f},NS.prototype.l=function(){return this.c},NS.prototype.toString=function(){return this.h};var U$="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),LS=["client_id","response_type","scope","redirect_uri","state"],eP={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:LS},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:LS},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:LS},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:U$},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function tP(s){for(var u in eP)if(eP[u].fa==s)return eP[u];return null}function j$(s){var u={};u["facebook.com"]=z$,u["google.com"]=$$,u["github.com"]=q$,u["twitter.com"]=W$;var m=s&&s[H$];try{if(m)return u[m]?new u[m](s):new $u(s);if(void 0!==s[nP])return new rP(s)}catch(y){}return null}var nP="idToken",H$="providerId";function rP(s){var u=s[H$];if(!u&&s[nP]){var m=FS(s[nP]);m&&m.b&&(u=m.b)}if(!u)throw Error("Invalid additional user info!");("anonymous"==u||"custom"==u)&&(u=null),m=!1,void 0!==s.isNewUser?m=!!s.isNewUser:"identitytoolkit#SignupNewUserResponse"===s.kind&&(m=!0),vt(this,"providerId",u),vt(this,"isNewUser",m)}function $u(s){rP.call(this,s),vt(this,"profile",$R((s=pv(s.rawUserInfo||"{}"))||{}))}function z$(s){if($u.call(this,s),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function q$(s){if($u.call(this,s),"github.com"!=this.providerId)throw Error("Invalid provider ID!");vt(this,"username",this.profile&&this.profile.login||null)}function $$(s){if($u.call(this,s),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function W$(s){if($u.call(this,s),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");vt(this,"username",s.screenName||null)}function G$(s){var u=Qs(s),m=al(u,"link"),y=al(Qs(m),"link");return u=al(u,"deep_link_id"),al(Qs(u),"link")||u||y||m||s}function VS(s,u){if(!s&&!u)throw new ne("internal-error","Internal assert: no raw session string available");if(s&&u)throw new ne("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=u||null,this.type=this.a?qb:BS}nt($u,rP),nt(z$,$u),nt(q$,$u),nt($$,$u),nt(W$,$u);var qb="enroll",BS="signin";function mv(){}function gv(s,u){return s.then(function(m){if(m[Yl]){var y=FS(m[Yl]);if(!y||u!=y.i)throw new ne("user-mismatch");return m}throw new ne("user-mismatch")}).o(function(m){throw m&&m.code&&m.code==Fo+"user-not-found"?new ne("user-mismatch"):m})}function yp(s,u){if(!u)throw new ne("internal-error","failed to construct a credential");this.a=u,vt(this,"providerId",s),vt(this,"signInMethod",s)}function iP(s){return{pendingToken:s.a,requestUri:"http://localhost"}}function ZSe(s){if(s&&s.providerId&&s.signInMethod&&0==s.providerId.indexOf("saml.")&&s.pendingToken)try{return new yp(s.providerId,s.pendingToken)}catch(u){}return null}function Xc(s,u,m){if(this.a=null,u.idToken||u.accessToken)u.idToken&&vt(this,"idToken",u.idToken),u.accessToken&&vt(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&vt(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else{if(!u.oauthToken||!u.oauthTokenSecret)throw new ne("internal-error","failed to construct a credential");vt(this,"accessToken",u.oauthToken),vt(this,"secret",u.oauthTokenSecret)}vt(this,"providerId",s),vt(this,"signInMethod",m)}function oP(s){var u={};return s.idToken&&(u.id_token=s.idToken),s.accessToken&&(u.access_token=s.accessToken),s.secret&&(u.oauth_token_secret=s.secret),u.providerId=s.providerId,s.nonce&&!s.a&&(u.nonce=s.nonce),u={postBody:s$(u).toString(),requestUri:"http://localhost"},s.a&&(delete u.postBody,u.pendingToken=s.a),u}function JSe(s){if(s&&s.providerId&&s.signInMethod){var u={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Xc(s.providerId,u,s.signInMethod)}catch(m){}}return null}function bp(s,u){this.Qc=u||[],Is(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(tP(s)||{}).Ja||null,this.pb=null}function K$(s){if("string"!=typeof s||0!=s.indexOf("saml."))throw new ne("argument-error",'SAML provider IDs must be prefixed with "saml."');bp.call(this,s,[])}function Sa(s){bp.call(this,s,LS),this.a=[]}function wp(){Sa.call(this,"facebook.com")}function Y$(s){if(!s)throw new ne("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=s;return z(s)&&(u=s.accessToken),(new wp).credential({accessToken:u})}function Cp(){Sa.call(this,"github.com")}function Q$(s){if(!s)throw new ne("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=s;return z(s)&&(u=s.accessToken),(new Cp).credential({accessToken:u})}function Ep(){Sa.call(this,"google.com"),this.Ca("profile")}function X$(s,u){var m=s;return z(s)&&(m=s.idToken,u=s.accessToken),(new Ep).credential({idToken:m,accessToken:u})}function vv(){bp.call(this,"twitter.com",U$)}function Z$(s,u){var m=s;if(z(m)||(m={oauthToken:s,oauthTokenSecret:u}),!m.oauthToken||!m.oauthTokenSecret)throw new ne("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xc("twitter.com",m,"twitter.com")}function vh(s,u,m){this.a=s,this.f=u,vt(this,"providerId","password"),vt(this,"signInMethod",m===ll.EMAIL_LINK_SIGN_IN_METHOD?ll.EMAIL_LINK_SIGN_IN_METHOD:ll.EMAIL_PASSWORD_SIGN_IN_METHOD)}function eTe(s){return s&&s.email&&s.password?new vh(s.email,s.password,s.signInMethod):null}function ll(){Is(this,{providerId:"password",isOAuthProvider:!1})}function J$(s,u){if(!(u=sP(u)))throw new ne("argument-error","Invalid email link!");return new vh(s,u.code,ll.EMAIL_LINK_SIGN_IN_METHOD)}function sP(s){return(s=x$(s=G$(s)))&&s.operation===RS?s:null}function _h(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new ne("internal-error");this.a=s,vt(this,"providerId","phone"),this.fa="phone",vt(this,"signInMethod","phone")}function tTe(s){if(s&&"phone"===s.providerId&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var u={};return ar(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){s[m]&&(u[m]=s[m])}),new _h(u)}return null}function $b(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Zc(s){try{this.a=s||it.default.auth()}catch(u){throw new ne("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Is(this,{providerId:"phone",isOAuthProvider:!1})}function eW(s,u){if(!s)throw new ne("missing-verification-id");if(!u)throw new ne("missing-verification-code");return new _h({fb:s,eb:u})}function aP(s){if(s.temporaryProof&&s.phoneNumber)return new _h({La:s.temporaryProof,ea:s.phoneNumber});var u=s&&s.providerId;if(!u||"password"===u)return null;var m=s&&s.oauthAccessToken,y=s&&s.oauthTokenSecret,D=s&&s.nonce,P=s&&s.oauthIdToken,F=s&&s.pendingToken;try{switch(u){case"google.com":return X$(P,m);case"facebook.com":return Y$(m);case"github.com":return Q$(m);case"twitter.com":return Z$(m,y);default:return m||y||P||F?F?0==u.indexOf("saml.")?new yp(u,F):new Xc(u,{pendingToken:F,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},u):new Sa(u).credential({idToken:P,accessToken:m,rawNonce:D}):null}}catch(G){return null}}function lP(s){if(!s.isOAuthProvider)throw new ne("invalid-oauth-provider")}function Gl(s,u,m,y,D,P,F){if(this.c=s,this.b=u||null,this.g=m||null,this.f=y||null,this.i=P||null,this.h=F||null,this.a=D||null,!this.g&&!this.a)throw new ne("invalid-auth-event");if(this.g&&this.a)throw new ne("invalid-auth-event");if(this.g&&!this.f)throw new ne("invalid-auth-event")}function tW(s){return(s=s||{}).type?new Gl(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&ol(s.error),s.postBody,s.tenantId):null}function nTe(){this.b=null,this.a=[]}VS.prototype.Ha=function(){return Rt(this.a?this.a:this.b)},VS.prototype.w=function(){return this.type==qb?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},mv.prototype.ka=function(){},mv.prototype.b=function(){},mv.prototype.c=function(){},mv.prototype.w=function(){},yp.prototype.ka=function(s){return AP(s,iP(this))},yp.prototype.b=function(s,u){var m=iP(this);return m.idToken=u,IP(s,m)},yp.prototype.c=function(s,u){return gv(kP(s,iP(this)),u)},yp.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Xc.prototype.ka=function(s){return AP(s,oP(this))},Xc.prototype.b=function(s,u){var m=oP(this);return m.idToken=u,IP(s,m)},Xc.prototype.c=function(s,u){return gv(kP(s,oP(this)),u)},Xc.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s},bp.prototype.Ka=function(s){return this.Jb=hh(s),this},nt(K$,bp),nt(Sa,bp),Sa.prototype.Ca=function(s){return Yc(this.a,s)||this.a.push(s),this},Sa.prototype.Rb=function(){return up(this.a)},Sa.prototype.credential=function(s,u){var m;if(!(m=z(s)?{idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:{idToken:s||null,accessToken:u||null}).idToken&&!m.accessToken)throw new ne("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xc(this.providerId,m,this.providerId)},nt(wp,Sa),vt(wp,"PROVIDER_ID","facebook.com"),vt(wp,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),nt(Cp,Sa),vt(Cp,"PROVIDER_ID","github.com"),vt(Cp,"GITHUB_SIGN_IN_METHOD","github.com"),nt(Ep,Sa),vt(Ep,"PROVIDER_ID","google.com"),vt(Ep,"GOOGLE_SIGN_IN_METHOD","google.com"),nt(vv,bp),vt(vv,"PROVIDER_ID","twitter.com"),vt(vv,"TWITTER_SIGN_IN_METHOD","twitter.com"),vh.prototype.ka=function(s){return this.signInMethod==ll.EMAIL_LINK_SIGN_IN_METHOD?zn(s,VTe,{email:this.a,oobCode:this.f}):zn(s,DW,{email:this.a,password:this.f})},vh.prototype.b=function(s,u){return this.signInMethod==ll.EMAIL_LINK_SIGN_IN_METHOD?zn(s,BTe,{idToken:u,email:this.a,oobCode:this.f}):zn(s,TW,{idToken:u,email:this.a,password:this.f})},vh.prototype.c=function(s,u){return gv(this.ka(s),u)},vh.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Is(ll,{PROVIDER_ID:"password"}),Is(ll,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Is(ll,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_h.prototype.ka=function(s){return s.gb($b(this))},_h.prototype.b=function(s,u){var m=$b(this);return m.idToken=u,zn(s,oDe,m)},_h.prototype.c=function(s,u){var m=$b(this);return m.operation="REAUTH",gv(s=zn(s,sDe,m),u)},_h.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s},Zc.prototype.gb=function(s,u){var m=this.a.a;return Rt(u.verify()).then(function(y){if("string"!=typeof y)throw new ne("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===u.type){var F,D=z(s)?s.session:null,P=z(s)?s.phoneNumber:s;return F=D&&D.type==qb?D.Ha().then(function(G){return function kTe(s,u){return zn(s,ZTe,u).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:G,phoneEnrollmentInfo:{phoneNumber:P,recaptchaToken:y}})}):D&&D.type==BS?D.Ha().then(function(G){return function MTe(s,u){return zn(s,JTe,u).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:G,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:y}})}):function ITe(s,u){return zn(s,QTe,u)}(m,{phoneNumber:P,recaptchaToken:y}),F.then(function(G){return"function"==typeof u.reset&&u.reset(),G},function(G){throw"function"==typeof u.reset&&u.reset(),G})}throw new ne("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Is(Zc,{PROVIDER_ID:"phone"}),Is(Zc,{PHONE_SIGN_IN_METHOD:"phone"}),Gl.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Gl.prototype.T=function(){return this.h},Gl.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var dP,uP=null;function cP(s){var u="unauthorized-domain",m=void 0,y=Qs(s);s=y.a,"chrome-extension"==(y=y.c)?m=Eq("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):"http"==y||"https"==y?m=Eq("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):u="operation-not-supported-in-this-environment",ne.call(this,u,m)}function Wb(s,u,m){ne.call(this,s,m),(s=u||{}).Kb&&vt(this,"email",s.Kb),s.ea&&vt(this,"phoneNumber",s.ea),s.credential&&vt(this,"credential",s.credential),s.$b&&vt(this,"tenantId",s.$b)}function US(s){if(s.code){var u=s.code||"";0==u.indexOf(Fo)&&(u=u.substring(Fo.length));var m={credential:aP(s),$b:s.tenantId};if(s.email)m.Kb=s.email;else if(s.phoneNumber)m.ea=s.phoneNumber;else if(!m.credential)return new ne(u,s.message||void 0);return new Wb(u,m,s.message)}return null}function Gb(){}function jS(){}function rW(s){if(!s.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<u.length;m++){var y=u[m];try{return new ActiveXObject(y),s.f=y}catch(D){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}function HS(){}function iW(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=De(this.qc,this),this.a.onerror=De(this.Tb,this),this.a.onprogress=De(this.rc,this),this.a.ontimeout=De(this.vc,this)}function hP(s,u){s.readyState=u,s.onreadystatechange&&s.onreadystatechange()}function fP(s,u,m){this.reset(s,u,m,void 0,void 0)}function pP(s){this.f=s,this.b=this.c=this.a=null}function Kb(s,u){this.name=s,this.value=u}nt(cP,ne),nt(Wb,ne),Wb.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Gs(s,u),s},Wb.prototype.toJSON=function(){return this.w()},Gb.prototype.c=null,nt(jS,Gb),jS.prototype.a=function(){var s=rW(this);return s?new ActiveXObject(s):new XMLHttpRequest},jS.prototype.b=function(){var s={};return rW(this)&&(s[0]=!0,s[1]=!0),s},dP=new jS,nt(HS,Gb),HS.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if("undefined"!=typeof XDomainRequest)return new iW;throw Error("Unsupported browser")},HS.prototype.b=function(){return{}},(n=iW.prototype).open=function(s,u,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(s,u)},n.send=function(s){if(s){if("string"!=typeof s)throw Error("Only string data is supported");this.a.send(s)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(s){return"content-type"==s.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,hP(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",hP(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,hP(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},fP.prototype.a=null,fP.prototype.reset=function(s,u,m,y,D){y||Er(),delete this.a},Kb.prototype.toString=function(){return this.name};var oW=new Kb("SEVERE",1e3),mP=new Kb("WARNING",900),oTe=new Kb("CONFIG",700),sTe=new Kb("FINE",500);function sW(s){return s.c?s.c:s.a?sW(s.a):(Lo("Root logger has no level set."),null)}pP.prototype.log=function(s,u,m){if(s.value>=sW(this).value)for(N(u)&&(u=u()),s=new fP(s,String(u),this.f),m&&(s.a=m),m=this;m;)m=m.a};var gP={},zS=null;function vP(s){var u;if(zS||(zS=new pP(""),gP[""]=zS,zS.c=oTe),!(u=gP[s])){u=new pP(s);var m=s.lastIndexOf("."),y=s.substr(m+1);(m=vP(s.substr(0,m))).b||(m.b={}),m.b[y]=u,u.a=m,gP[s]=u}return u}function ul(s,u){s&&s.log(sTe,u,void 0)}function qS(s){this.f=s}function $S(s){As.call(this),this.u=s,this.h=void 0,this.readyState=_P,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=vP("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}nt(qS,Gb),qS.prototype.a=function(){return new $S(this.f)},qS.prototype.b=function(s){return function(){return s}}({}),nt($S,As);var _P=0;function aW(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}function Yb(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Qb(s)}function Qb(s){s.onreadystatechange&&s.onreadystatechange.call(s)}function Xb(s){As.call(this),this.headers=new uv,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=lW,this.u=this.S=!1}(n=$S.prototype).open=function(s,u){if(this.readyState!=_P)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=u,this.readyState=1,Qb(this)},n.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(u.body=s),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yb(this)),this.readyState=_P},n.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Qb(this)),this.a&&(this.readyState=3,Qb(this),this.a&&("arraybuffer"===this.responseType?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==c.ReadableStream&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,aW(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(s){if(this.a){var u=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});u&&(this.response=this.responseText+=u),s.done?Yb(this):Qb(this),3==this.readyState&&aW(this)}},n.tc=function(s){this.a&&(this.response=this.responseText=s,Yb(this))},n.sc=function(s){this.a&&(this.response=s,Yb(this))},n.Va=function(s){var u=this.i;u&&u.log(mP,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Yb(this)},n.setRequestHeader=function(s,u){this.l.append(s,u)},n.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(mP,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(mP,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var u=this.b.entries(),m=u.next();!m.done;)s.push((m=m.value)[0]+": "+m[1]),m=u.next();return s.join("\r\n")},Object.defineProperty($S.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(s){this.h=s?"include":"same-origin"}}),nt(Xb,As);var lW="";Xb.prototype.b=vP("goog.net.XhrIo");var aTe=/^https?$/i,lTe=["POST","PUT"];function dTe(s){return"content-type"==s.toLowerCase()}function uW(s,u){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=u,cW(s),WS(s)}function cW(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}function dW(s){if(s.c&&void 0!==l)if(s.C[1]&&4==Zb(s)&&2==GS(s))ul(s.b,Jc(s,"Local request error detected and ignored"));else if(s.i&&4==Zb(s))xR(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),4==Zb(s)){ul(s.b,Jc(s,"Request complete")),s.c=!1;try{var y,u=GS(s);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(y=m)){var D;if(D=0===u){var P=String(s.l).match(i$)[1]||null;if(!P&&c.self&&c.self.location){var F=c.self.location.protocol;P=F.substr(0,F.length-1)}D=!aTe.test(P?P.toLowerCase():"")}y=D}if(y)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var G=2<Zb(s)?s.a.statusText:""}catch(he){ul(s.b,"Can not get status: "+he.message),G=""}s.h=G+" ["+GS(s)+"]",cW(s)}}finally{WS(s)}}}function WS(s,u){if(s.a){hW(s);var m=s.a,y=s.C[0]?w:null;s.a=null,s.C=null,u||s.dispatchEvent("ready");try{m.onreadystatechange=y}catch(D){(s=s.b)&&s.log(oW,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function hW(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Zb(s){return s.a?s.a.readyState:0}function GS(s){try{return 2<Zb(s)?s.a.status:-1}catch(u){return-1}}function Jc(s,u){return u+" ["+s.P+" "+s.l+" "+GS(s)+"]"}function Sp(s){var u=mTe;this.g=[],this.u=u,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Jb(s,u,m){s.a=!0,s.c=m,s.f=!u,pW(s)}function KS(s){if(s.a){if(!s.v)throw new YS(s);s.v=!1}}function yP(s,u,m,y){s.g.push([u,m,y]),s.a&&pW(s)}function fW(s){return xEe(s.g,function(u){return N(u[1])})}function pW(s){if(s.h&&s.a&&fW(s)){var u=s.h,m=QS[u];m&&(c.clearTimeout(m.a),delete QS[u]),s.h=0}s.b&&(s.b.l--,delete s.b),u=s.c;for(var y=m=!1;s.g.length&&!s.i;){var D=s.g.shift(),P=D[0],F=D[1];if(D=D[2],P=s.f?F:P)try{var G=P.call(D||s.s,u);void 0!==G&&(s.f=s.f&&(G==u||G instanceof Error),s.c=u=G),(jt(u)||"function"==typeof c.Promise&&u instanceof c.Promise)&&(y=!0,s.i=!0)}catch(he){u=he,s.f=!0,fW(s)||(m=!0)}}s.c=u,y&&(G=De(s.m,s,!0),y=De(s.m,s,!1),u instanceof Sp?(yP(u,G,y),u.C=!0):u.then(G,y)),m&&(u=new mW(u),QS[u.a]=u,s.h=u.a)}function YS(){Zt.call(this)}function e0(){Zt.call(this)}function mW(s){this.a=c.setTimeout(De(this.c,this),0),this.b=s}(n=Xb.prototype).Ma=function(){void 0!==l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ul(this.b,Jc(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ul(this.b,Jc(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),WS(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),WS(this,!0)),Xb.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?dW(this):this.Jc())},n.Jc=function(){dW(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case lW:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(oW,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return ul(this.b,"Can not get response: "+u.message),null}},Sp.prototype.cancel=function(s){if(this.a)this.c instanceof Sp&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,s?u.cancel(s):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new e0(this),KS(this),Jb(this,!1,s))}},Sp.prototype.m=function(s,u){this.i=!1,Jb(this,s,u)},Sp.prototype.then=function(s,u,m){var y,D,P=new Fn(function(F,G){y=F,D=G});return yP(this,y,function(F){F instanceof e0?P.cancel():D(F)}),P.then(s,u,m)},Sp.prototype.$goog_Thenable=!0,nt(YS,Zt),YS.prototype.message="Deferred has already fired",YS.prototype.name="AlreadyCalledError",nt(e0,Zt),e0.prototype.message="Deferred was canceled",e0.prototype.name="CanceledError",mW.prototype.c=function(){throw delete QS[this.a],this.b};var QS={};function bP(s){var u={},m=u.document||document,y=mq(s).toString(),D=wS(document,"SCRIPT"),P={Xb:D,Ma:void 0},F=new Sp(P),G=null,he=null!=u.timeout?u.timeout:5e3;return 0<he&&(G=window.setTimeout(function(){XS(D,!0);var Pe=new wP(vTe,"Timeout reached for loading script "+y);KS(F),Jb(F,!1,Pe)},he),P.Ma=G),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(XS(D,u.xd||!1,G),KS(F),Jb(F,!0,null))},D.onerror=function(){XS(D,!0,G);var Pe=new wP(gTe,"Error while loading script "+y);KS(F),Jb(F,!1,Pe)},Gs(P=u.attributes||{},{type:"text/javascript",charset:"UTF-8"}),kq(D,P),function WEe(s,u){hq(s,"HTMLScriptElement"),s.src=mq(u),(u=s.ownerDocument&&s.ownerDocument.defaultView)&&u!=c?u=b(u.document):(null===v&&(v=b(c.document)),u=v),u&&s.setAttribute("nonce",u)}(D,s),function pTe(s){var u;return(u=(s||document).getElementsByTagName("HEAD"))&&0!=u.length?u[0]:s.documentElement}(m).appendChild(D),F}function mTe(){if(this&&this.Xb){var s=this.Xb;s&&"SCRIPT"==s.tagName&&XS(s,!0,this.Ma)}}function XS(s,u,m){null!=m&&c.clearTimeout(m),s.onload=w,s.onerror=w,s.onreadystatechange=w,u&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var gTe=0,vTe=1;function wP(s,u){var m="Jsloader error (code #"+s+")";u&&(m+=": "+u),Zt.call(this,m),this.code=s}function ZS(s){this.f=s}function Kl(s,u,m){if(this.c=s,this.l=(s=u||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||_Te,this.g=hh(s.secureTokenHeaders||yTe),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||bTe,this.a=hh(s.firebaseHeaders||wTe),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==zu(),!(m=c.XMLHttpRequest||m&&it.default.INTERNAL.node&&it.default.INTERNAL.node.XMLHttpRequest)&&!Wl())throw new ne("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Wl()?new qS(self):g$()?new ZS(m):new HS,this.b=null}nt(wP,Zt),nt(ZS,Gb),ZS.prototype.a=function(){return new this.f},ZS.prototype.b=function(){return{}};var CP,Yl="idToken",_Te=new gh(3e4,6e4),yTe={"Content-Type":"application/x-www-form-urlencoded"},bTe=new gh(3e4,6e4),wTe={"Content-Type":"application/json"};function gW(s,u){u?s.a["X-Firebase-Locale"]=u:delete s.a["X-Firebase-Locale"]}function JS(s,u){u&&(s.l=EP("https://securetoken.googleapis.com/v1/token",u),s.h=EP("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),s.i=EP("https://identitytoolkit.googleapis.com/v2/",u))}function EP(s,u){return s=Qs(s),u=Qs(u.url),s.f=s.a+s.f,Pb(s,u.c),s.a=u.a,Ob(s,u.g),s.toString()}function vW(s,u){u?(s.a["X-Client-Version"]=u,s.g["X-Client-Version"]=u):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}function _W(s,u,m,y,D,P,F){(function SSe(){var s=Bo();return!((s="Chrome"!=dv(s)?null:(s=s.match(/\sChrome\/(\d+)/i))&&2==s.length?parseInt(s[1],10):null)&&30>s||$l&&fh&&!(9<fh))})()||Wl()?s=De(s.u,s):(CP||(CP=new Fn(function(G,he){!function ETe(s,u){((window.gapi||{}).client||{}).request?s():(c[yW]=function(){((window.gapi||{}).client||{}).request?s():u(Error("CORS_UNSUPPORTED"))},function fTe(s,u){yP(s,null,u,void 0)}(bP(dR(CTe,{onload:yW})),function(){u(Error("CORS_UNSUPPORTED"))}))}(G,he)})),s=De(s.s,s)),s(u,m,y,D,P,F)}Kl.prototype.T=function(){return this.b},Kl.prototype.u=function(s,u,m,y,D,P){if(Wl()&&(void 0===c.fetch||void 0===c.Headers||void 0===c.Request))throw new ne("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var F=new Xb(this.f);if(P){F.g=Math.max(0,P);var G=setTimeout(function(){F.dispatchEvent("timeout")},P)}t$(F,"complete",function(){G&&clearTimeout(G);var he=null;try{he=JSON.parse(function hTe(s){try{return s.a?s.a.responseText:""}catch(u){return ul(s.b,"Can not get responseText: "+u.message),""}}(this))||null}catch(Pe){he=null}u&&u(he)}),MR(F,"ready",function(){G&&clearTimeout(G),Gq(this)}),MR(F,"timeout",function(){G&&clearTimeout(G),Gq(this),u&&u(null)}),function uTe(s,u,m,y,D){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+u);m=m?m.toUpperCase():"GET",s.l=u,s.h="",s.P=m,s.J=!1,s.c=!0,s.a=s.D?s.D.a():dP.a(),s.C=function nW(s){return s.c||(s.c=s.b())}(s.D?s.D:dP),s.a.onreadystatechange=De(s.Wb,s);try{ul(s.b,Jc(s,"Opening Xhr")),s.N=!0,s.a.open(m,String(u),!0),s.N=!1}catch(F){return ul(s.b,Jc(s,"Error opening Xhr: "+F.message)),void uW(s,F)}u=y||"";var P=new uv(s.headers);D&&function pSe(s,u){if(s.forEach&&"function"==typeof s.forEach)s.forEach(u,void 0);else if(R(s)||"string"==typeof s)ar(s,u,void 0);else for(var m=r$(s),y=n$(s),D=y.length,P=0;P<D;P++)u.call(void 0,y[P],m&&m[P],s)}(D,function(F,G){P.set(G,F)}),D=function REe(s){e:{for(var u=dTe,m=s.length,y="string"==typeof s?s.split(""):s,D=0;D<m;D++)if(D in y&&u.call(void 0,y[D],D,s)){u=D;break e}u=-1}return 0>u?null:"string"==typeof s?s.charAt(u):s[u]}(P.Y()),y=c.FormData&&u instanceof c.FormData,!Yc(lTe,m)||D||y||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),P.forEach(function(F,G){this.a.setRequestHeader(G,F)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{hW(s),0<s.g&&(s.u=function cTe(s){return $l&&Aq(9)&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(s.a),ul(s.b,Jc(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=De(s.Ma,s)):s.s=xR(s.Ma,s.g,s)),ul(s.b,Jc(s,"Sending request")),s.i=!0,s.a.send(u),s.i=!1}catch(F){ul(s.b,Jc(s,"Send error: "+F.message)),uW(s,F)}}(F,s,m,y,D)};var CTe=new ju(vS,"https://apis.google.com/js/client.js?onload=%{onload}"),yW="__fcb"+Math.floor(1e6*Math.random()).toString();function Tp(s){if("string"!=typeof(s=s.email)||!ASe.test(s))throw new ne("invalid-email")}function wW(s){"email"in s&&Tp(s)}function Xs(s){if(!s[Yl])throw s.mfaPendingCredential?new ne("multi-factor-auth-required",null,hh(s)):new ne("internal-error")}function SP(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new ne("internal-error")}else{if(!s.sessionInfo)throw new ne("missing-verification-id");if(!s.code)throw new ne("missing-verification-code")}}Kl.prototype.s=function(s,u,m,y,D){var P=this;CP.then(function(){window.gapi.client.setApiKey(P.c);var F=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:m,body:y,headers:D,authType:"none",callback:function(G){window.gapi.auth.setToken(F),u&&u(G)}})}).o(function(F){u&&u({error:{message:F&&F.message||"CORS_UNSUPPORTED"}})})},Kl.prototype.Ab=function(){return zn(this,XTe,{})},Kl.prototype.Cb=function(s,u){return zn(this,SW,{idToken:s,email:u})},Kl.prototype.Db=function(s,u){return zn(this,TW,{idToken:s,password:u})};var ATe={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function CW(s){if(!s.phoneVerificationInfo)throw new ne("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new ne("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new ne("missing-verification-code")}function TP(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new ne("internal-error")}function DP(s,u){return u.oauthIdToken&&u.providerId&&0==u.providerId.indexOf("oidc.")&&!u.pendingToken&&(s.sessionId?u.nonce=s.sessionId:s.postBody&&OR(s=new mp(s.postBody),"nonce")&&(u.nonce=s.get("nonce"))),u}function EW(s){var u=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",u=US(s)):"FEDERATED_USER_ID_ALREADY_LINKED"==s.errorMessage?(s.code="credential-already-in-use",u=US(s)):"EMAIL_EXISTS"==s.errorMessage?(s.code="email-already-in-use",u=US(s)):s.errorMessage&&(u=AW(s.errorMessage)),u)throw u;Xs(s)}function AP(s,u){return u.returnIdpCredential=!0,zn(s,eDe,u)}function IP(s,u){return u.returnIdpCredential=!0,zn(s,nDe,u)}function kP(s,u){return u.returnIdpCredential=!0,u.autoCreate=!1,zn(s,tDe,u)}function MP(s){if(!s.oobCode)throw new ne("invalid-action-code")}(n=Kl.prototype).Eb=function(s,u){var m={idToken:s},y=[];return cq(ATe,function(D,P){var F=u[P];null===F?y.push(D):P in u&&(m[P]=F)}),y.length&&(m.deleteAttribute=y),zn(this,SW,m)},n.wb=function(s,u){return Gs(s={requestType:"PASSWORD_RESET",email:s},u),zn(this,WTe,s)},n.xb=function(s,u){return Gs(s={requestType:"EMAIL_SIGNIN",email:s},u),zn(this,zTe,s)},n.vb=function(s,u){return Gs(s={requestType:"VERIFY_EMAIL",idToken:s},u),zn(this,qTe,s)},n.Fb=function(s,u,m){return Gs(s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:u},m),zn(this,$Te,s)},n.gb=function(s){return zn(this,iDe,s)},n.ob=function(s,u){return zn(this,YTe,{oobCode:s,newPassword:u})},n.Sa=function(s){return zn(this,PTe,{oobCode:s})},n.kb=function(s){return zn(this,RTe,{oobCode:s})};var RTe={endpoint:"setAccountInfo",A:MP,Z:"email",B:!0},PTe={endpoint:"resetPassword",A:MP,G:function(s){var u=s.requestType;if(!u||!s.email&&"EMAIL_SIGNIN"!=u&&"VERIFY_AND_CHANGE_EMAIL"!=u)throw new ne("internal-error")},B:!0},OTe={endpoint:"signupNewUser",A:function(s){if(Tp(s),!s.password)throw new ne("weak-password")},G:Xs,V:!0,B:!0},NTe={endpoint:"createAuthUri",B:!0},FTe={endpoint:"deleteAccount",O:["idToken"]},LTe={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new ne("internal-error")}},VTe={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Tp,G:Xs,V:!0,B:!0},BTe={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Tp,G:Xs,V:!0},UTe={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:CW,G:Xs,B:!0,Na:!0},jTe={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:CW,G:Xs,B:!0,Na:!0},HTe={endpoint:"getAccountInfo"},zTe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if("EMAIL_SIGNIN"!=s.requestType)throw new ne("internal-error");Tp(s)},Z:"email",B:!0},qTe={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if("VERIFY_EMAIL"!=s.requestType)throw new ne("internal-error")},Z:"email",B:!0},$Te={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if("VERIFY_AND_CHANGE_EMAIL"!=s.requestType)throw new ne("internal-error")},Z:"email",B:!0},WTe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if("PASSWORD_RESET"!=s.requestType)throw new ne("internal-error");Tp(s)},Z:"email",B:!0},GTe={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},KTe={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new ne("internal-error")}},YTe={endpoint:"resetPassword",A:MP,Z:"email",B:!0},QTe={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},SW={endpoint:"setAccountInfo",O:["idToken"],A:wW,V:!0},TW={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(wW(s),!s.password)throw new ne("weak-password")},G:Xs,V:!0},XTe={endpoint:"signupNewUser",G:Xs,V:!0,B:!0},ZTe={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new ne("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new ne("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new ne("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new ne("internal-error")},B:!0,Na:!0},JTe={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new ne("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new ne("internal-error")},B:!0,Na:!0},eDe={endpoint:"verifyAssertion",A:TP,Za:DP,G:EW,V:!0,B:!0},tDe={endpoint:"verifyAssertion",A:TP,Za:DP,G:function(s){if(s.errorMessage&&"USER_NOT_FOUND"==s.errorMessage)throw new ne("user-not-found");if(s.errorMessage)throw AW(s.errorMessage);Xs(s)},V:!0,B:!0},nDe={endpoint:"verifyAssertion",A:function(s){if(TP(s),!s.idToken)throw new ne("internal-error")},Za:DP,G:EW,V:!0},rDe={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new ne("invalid-custom-token")},G:Xs,V:!0,B:!0},DW={endpoint:"verifyPassword",A:function(s){if(Tp(s),!s.password)throw new ne("wrong-password")},G:Xs,V:!0,B:!0},iDe={endpoint:"verifyPhoneNumber",A:SP,G:Xs,B:!0},oDe={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new ne("internal-error");SP(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",US(s);Xs(s)}},sDe={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:SP,G:Xs,B:!0},aDe={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Yl]^!!s.refreshToken)throw new ne("internal-error")},B:!0,Na:!0};function zn(s,u,m){if(!function OSe(s,u){if(!u||!u.length)return!0;if(!s)return!1;for(var m=0;m<u.length;m++){var y=s[u[m]];if(null==y||""===y)return!1}return!0}(m,u.O))return jr(new ne("internal-error"));var P,y=!!u.Na,D=u.Vb||"POST";return Rt(m).then(u.A).then(function(){return u.V&&(m.returnSecureToken=!0),u.B&&s.b&&void 0===m.tenantId&&(m.tenantId=s.b),function bW(s,u,m,y,D,P,F){var G=Qs(u+m);yi(G,"key",s.c),F&&yi(G,"cb",Date.now().toString());var he="GET"==y;if(he)for(var Pe in D)D.hasOwnProperty(Pe)&&yi(G,Pe,D[Pe]);return new Fn(function(on,br){_W(s,G.toString(),function(lr){lr?lr.error?br(xP(lr,P||{})):on(lr):br(new ne("network-request-failed"))},y,he?void 0:u$(y$(D)),s.a,s.v.get())})}(s,y?s.i:s.h,u.endpoint,D,m,u.Ib,u.mb||!1)}).then(function(F){return P=F,u.Za?u.Za(m,P):P}).then(u.G).then(function(){if(!u.Z)return P;if(!(u.Z in P))throw new ne("internal-error");return P[u.Z]})}function AW(s){return xP({error:{errors:[{message:s}],code:400,message:s}})}function xP(s,u){var m=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",y={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=y[m]?new ne(y[m]):null)return m;for(var D in m=s.error&&s.error.message||"",Gs(y={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},u||{}),u=(u=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0,y)if(0===m.indexOf(D))return new ne(y[D],u);return!u&&s&&(u=Bb(s)),new ne("internal-error",u)}function lDe(s){this.b=s,this.a=null,this.sb=function uDe(s){return function mDe(){return eT||(eT=new Fn(function(s,u){function m(){w$(),Hr("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){w$(),u(Error("Network Error"))},timeout:fDe.get()})}if(Hr("gapi.iframes.Iframe"))s();else if(Hr("gapi.load"))m();else{var y="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[y]=function(){Hr("gapi.load")?m():u(Error("Network Error"))},Rt(bP(y=dR(hDe,{onload:y}))).o(function(){u(Error("Network Error"))})}}).o(function(s){throw eT=null,s}))}().then(function(){return new Fn(function(u,m){Hr("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:Hr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(y){function D(){clearTimeout(P),u()}s.a=y,s.a.restyle({setHideOnLeave:!1});var P=setTimeout(function(){m(Error("Network Error"))},pDe.get());y.ping(D).then(D,function(){m(Error("Network Error"))})})})})}(this)}var hDe=new ju(vS,"https://apis.google.com/js/api.js?onload=%{onload}"),fDe=new gh(3e4,6e4),pDe=new gh(5e3,15e3),eT=null;function IW(s,u,m,y){this.l=s,this.h=u,this.i=m,this.g=y,this.f=null,s=this.g?kS((s=Qs(this.g.url)).c,s.a,s.g,"/emulator/auth/iframe"):kS("https",this.l,null,"/__/auth/iframe"),this.a=s,yi(this.a,"apiKey",this.h),yi(this.a,"appName",this.i),this.b=null,this.c=[]}function RP(s,u,m,y,D,P){this.u=s,this.s=u,this.c=m,this.m=y,this.v=P,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function PP(s){try{return it.default.app(s).auth().Ga()}catch(u){return[]}}function kW(s,u,m,y,D,P){this.s=s,this.g=u,this.b=m,this.f=P,this.c=y||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function MW(s){var u=Lb();return function DTe(s){return zn(s,GTe,{}).then(function(u){return u.authorizedDomains||[]})}(s).then(function(m){e:{var y=Qs(u),D=y.c;y=y.a;for(var P=0;P<m.length;P++){var F=m[P],G=y,he=D;if(0==F.indexOf("chrome-extension://")?G=Qs(F).a==G&&"chrome-extension"==he:"http"!=he&&"https"!=he?G=!1:DSe.test(F)?G=G==F:(F=F.split(".").join("\\."),G=new RegExp("^(.+\\."+F+"|"+F+")$","i").test(G)),G){m=!0;break e}}m=!1}if(!m)throw new cP(Lb())})}function xW(s){return s.m||(s.m=MS().then(function(){if(!s.u){var u=s.c,m=s.i,y=PP(s.b),D=new IW(s.s,s.g,s.b,s.f);D.f=u,D.b=m,D.c=up(y||[]),s.u=D.toString()}s.v=new lDe(s.u),function gDe(s){if(!s.v)throw Error("IfcHandler must be initialized!");!function dDe(s,u){s.sb.then(function(){s.a.register("authEvent",u,Hr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(s.v,function(u){var m={};if(u&&u.authEvent){var y=!1;for(u=tW(u.authEvent),m=0;m<s.h.length;m++)y=s.h[m](u)||y;return(m={}).status=y?"ACK":"ERROR",Rt(m)}return m.status="ERROR",Rt(m)})}(s)})),s.m}function RW(s){return s.l||(s.C=s.c?hv(s.c,PP(s.b)):null,s.l=new Kl(s.g,ot(s.i),s.C),s.f&&JS(s.l,s.f)),s.l}function t0(s,u,m,y,D,P,F,G,he,Pe,on,br){return(s=new RP(s,u,m,y,D,br)).l=P,s.g=F,s.i=G,s.b=hh(he||null),s.f=Pe,s.zb(on).toString()}function PW(s){if(this.a=s||it.default.INTERNAL.reactNative&&it.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ne("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function OW(s){this.b=s,this.a={},this.f=De(this.c,this)}IW.prototype.toString=function(){return this.f?yi(this.a,"v",this.f):Hu(this.a.b,"v"),this.b?yi(this.a,"eid",this.b):Hu(this.a.b,"eid"),this.c.length?yi(this.a,"fw",this.c.join(",")):Hu(this.a.b,"fw"),this.a.toString()},RP.prototype.zb=function(s){return this.h=s,this},RP.prototype.toString=function(){if(this.v){var s=Qs(this.v.url);s=kS(s.c,s.a,s.g,"/emulator/auth/handler")}else s=kS("https",this.u,null,"/__/auth/handler");if(yi(s,"apiKey",this.s),yi(s,"appName",this.c),yi(s,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var m=it.default.app(this.c).auth().la()}catch(G){m=null}for(var y in u.pb=m,yi(s,"providerId",this.a.providerId),u=y$((m=this.a).Jb))u[y]=u[y].toString();y=m.Qc,u=hh(u);for(var D=0;D<y.length;D++){var P=y[D];P in u&&delete u[P]}m.qb&&m.pb&&!u[m.qb]&&(u[m.qb]=m.pb),cp(u)||yi(s,"customParameters",Bb(u))}if("function"==typeof this.a.Rb&&(m=this.a.Rb()).length&&yi(s,"scopes",m.join(",")),this.l?yi(s,"redirectUrl",this.l):Hu(s.b,"redirectUrl"),this.g?yi(s,"eventId",this.g):Hu(s.b,"eventId"),this.i?yi(s,"v",this.i):Hu(s.b,"v"),this.b)for(var F in this.b)this.b.hasOwnProperty(F)&&!al(s,F)&&yi(s,F,this.b[F]);return this.h?yi(s,"tid",this.h):Hu(s.b,"tid"),this.f?yi(s,"eid",this.f):Hu(s.b,"eid"),(F=PP(this.c)).length&&yi(s,"fw",F.join(",")),s.toString()},(n=kW.prototype).Pb=function(s,u,m){var y=new ne("popup-closed-by-user"),D=new ne("web-storage-unsupported"),P=this,F=!1;return this.ma().then(function(){(function vDe(s){var u={type:"webStorageSupport"};return xW(s).then(function(){return function cDe(s,u){return s.sb.then(function(){return new Fn(function(m){s.a.send(u.type,u,m,Hr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(s.v,u)}).then(function(m){if(m&&m.length&&void 0!==m[0].webStorageSupport)return m[0].webStorageSupport;throw Error()})})(P).then(function(G){G||(s&&gp(s),u(D),F=!0)})}).o(function(){}).then(function(){if(!F)return function TSe(s){return new Fn(function(u){return function m(){lv(2e3).then(function(){if(s&&!s.closed)return m();u()})}()})}(s)}).then(function(){if(!F)return lv(m).then(function(){u(y)})})},n.Yb=function(){var s=Bo();return!Vb(s)&&!b$(s)},n.Ub=function(){return!1},n.Nb=function(s,u,m,y,D,P,F,G){if(!s)return jr(new ne("popup-blocked"));if(F&&!Vb())return this.ma().o(function(Pe){gp(s),D(Pe)}),y(),Rt();this.a||(this.a=MW(RW(this)));var he=this;return this.a.then(function(){var Pe=he.ma().o(function(on){throw gp(s),D(on),on});return y(),Pe}).then(function(){lP(m),F||h$(t0(he.s,he.g,he.b,u,m,null,P,he.c,void 0,he.i,G,he.f),s)}).o(function(Pe){throw"auth/network-request-failed"==Pe.code&&(he.a=null),Pe})},n.Ob=function(s,u,m,y){this.a||(this.a=MW(RW(this)));var D=this;return this.a.then(function(){lP(u),h$(t0(D.s,D.g,D.b,s,u,Lb(),m,D.c,void 0,D.i,y,D.f))}).o(function(P){throw"auth/network-request-failed"==P.code&&(D.a=null),P})},n.ma=function(){var s=this;return xW(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new ne("network-request-failed")})},n.ac=function(){return!0},n.Ea=function(s){this.h.push(s)},n.Ta=function(s){ql(this.h,function(u){return u==s})},(n=PW.prototype).get=function(s){return Rt(this.a.getItem(s)).then(function(u){return u&&pv(u)})},n.set=function(s,u){return Rt(this.a.setItem(s,Bb(u)))},n.U=function(s){return Rt(this.a.removeItem(s))},n.ca=function(){},n.ia=function(){};var NP,NW=[];function FW(s,u,m){cp(s.a)&&s.b.addEventListener("message",s.f),void 0===s.a[u]&&(s.a[u]=[]),s.a[u].push(m)}function LW(s){this.a=s}function VW(s){this.c=s,this.b=!1,this.a=[]}function BW(s,u,m,y){var D,F,G,he,P=m||{},Pe=null;if(s.b)return jr(Error("connection_unavailable"));var on=y?800:50,br="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Fn(function(lr,po){br?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),br.port1.start(),G=setTimeout(function(){po(Error("unsupported_event"))},on),s.a.push(Pe={messageChannel:br,onMessage:F=function(ed){ed.data.eventId===D&&("ack"===ed.data.status?(clearTimeout(G),he=setTimeout(function(){po(Error("timeout"))},3e3)):"done"===ed.data.status?(clearTimeout(he),void 0!==ed.data.response?lr(ed.data.response):po(Error("unknown_error"))):(clearTimeout(G),clearTimeout(he),po(Error("invalid_response"))))}}),br.port1.addEventListener("message",F),s.c.postMessage({eventType:u,eventId:D,data:P},[br.port2])):po(Error("connection_unavailable"))}).then(function(lr){return OP(s,Pe),lr}).o(function(lr){throw OP(s,Pe),lr})}function OP(s,u){if(u){var m=u.messageChannel;m&&(m.port1.removeEventListener("message",u.onMessage),m.port1.close()),ql(s.a,function(D){return D==u})}}function UW(){if(!LP())throw new ne("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;Wl()&&self?(this.v=function _De(){var s=Wl()?self:null;if(ar(NW,function(m){m.b==s&&(u=m)}),!u){var u=new OW(s);NW.push(u)}return u}(),FW(this.v,"keyChanged",function(u,m){return zW(s).then(function(y){return 0<y.length&&ar(s.a,function(D){D(y)}),{keyProcessed:Yc(y,m.key)}})}),FW(this.v,"ping",function(){return Rt(["keyChanged"])})):function RSe(){var s=c.navigator;return s&&s.serviceWorker?Rt().then(function(){return s.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Rt(null)}().then(function(u){(s.h=u)&&(s.g=new VW(new LW(u)),BW(s.g,"ping",null,!0).then(function(m){m[0].fulfilled&&Yc(m[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}function jW(s){return new Fn(function(u,m){var y=s.m.open("firebaseLocalStorageDb",1);y.onerror=function(D){try{D.preventDefault()}catch(P){}m(Error(D.target.error))},y.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(P){m(P)}},y.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?u(D):function yDe(s){return new Fn(function(u,m){var y=s.m.deleteDatabase("firebaseLocalStorageDb");y.onsuccess=function(){u()},y.onerror=function(D){m(Error(D.target.error))}})}(s).then(function(){return jW(s)}).then(function(P){u(P)}).o(function(P){m(P)})}})}function FP(s){return s.i||(s.i=jW(s)),s.i}function tT(s,u){var y=0;return new Fn(function m(D,P){FP(s).then(u).then(D).o(function(F){if(!(3<++y))return FP(s).then(function(G){return G.close(),s.i=void 0,m(D,P)}).o(function(G){P(G)});P(F)})})}function LP(){try{return!!c.indexedDB}catch(s){return!1}}function n0(s){return s.objectStore("firebaseLocalStorage")}function r0(s,u){return s.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function _v(s){return new Fn(function(u,m){s.onsuccess=function(y){y&&y.target?u(y.target.result):u()},s.onerror=function(y){m(y.target.error)}})}function HW(s,u){return s.g&&s.h&&function xSe(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}()===s.h?BW(s.g,"keyChanged",{key:u},s.s).then(function(){}).o(function(){}):Rt()}function zW(s){return FP(s).then(function(u){var m=n0(r0(u,!1));return m.getAll?_v(m.getAll()):new Fn(function(y,D){var P=[],F=m.openCursor();F.onsuccess=function(G){(G=G.target.result)?(P.push(G.value),G.continue()):y(P)},F.onerror=function(G){D(G.target.error)}})}).then(function(u){var m={},y=[];if(0==s.b){for(y=0;y<u.length;y++)m[u[y].fbase_key]=u[y].value;y=f$(s.c,m),s.c=m}return y})}function qW(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function $W(s){var u=this,m=null;this.a=[],this.type="indexedDB",this.c=s,this.b=Rt().then(function(){if(LP()){var y=_p(),D="__sak"+y;return NP||(NP=new UW),(m=NP).set(D,y).then(function(){return m.get(D)}).then(function(P){if(P!==y)throw Error("indexedDB not supported!");return m.U(D)}).then(function(){return m}).o(function(){return u.c})}return u.c}).then(function(y){return u.type=y.type,y.ca(function(D){ar(u.a,function(P){P(D)})}),y})}function o0(){this.a={},this.type="inMemory"}function nT(){if(!function wDe(){var s="Node"==zu();if(!(s=WW()||s&&it.default.INTERNAL.node&&it.default.INTERNAL.node.localStorage))return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==zu()?new ne("internal-error","The LocalStorage compatibility library was not found."):new ne("web-storage-unsupported");this.a=WW()||it.default.INTERNAL.node.localStorage,this.type="localStorage"}function WW(){try{var s=c.localStorage,u=_p();return s&&(s.setItem(u,"1"),s.removeItem(u)),s}catch(m){return null}}function VP(){this.type="nullStorage"}function BP(){if(!function CDe(){var s="Node"==zu();if(!(s=GW()||s&&it.default.INTERNAL.node&&it.default.INTERNAL.node.sessionStorage))return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==zu()?new ne("internal-error","The SessionStorage compatibility library was not found."):new ne("web-storage-unsupported");this.a=GW()||it.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function GW(){try{var s=c.sessionStorage,u=_p();return s&&(s.setItem(u,"1"),s.removeItem(u)),s}catch(m){return null}}function EDe(){var s={};s.Browser=SDe,s.Node=TDe,s.ReactNative=DDe,s.Worker=ADe,this.a=s[zu()]}OW.prototype.c=function(s){var u=s.data.eventType,m=s.data.eventId,y=this.a[u];if(y&&0<y.length){s.ports[0].postMessage({status:"ack",eventId:m,eventType:u,response:null});var D=[];ar(y,function(P){D.push(Rt().then(function(){return P(s.origin,s.data.data)}))}),Lq(D).then(function(P){var F=[];ar(P,function(G){F.push({fulfilled:G.Qb,value:G.value,reason:G.reason?G.reason.message:void 0})}),ar(F,function(G){for(var he in G)void 0===G[he]&&delete G[he]}),s.ports[0].postMessage({status:"done",eventId:m,eventType:u,response:F})})}},LW.prototype.postMessage=function(s,u){this.a.postMessage(s,u)},VW.prototype.close=function(){for(;0<this.a.length;)OP(this,this.a[0]);this.b=!0},(n=UW.prototype).set=function(s,u){var m=this,y=!1;return tT(this,function(D){return _v((D=n0(r0(D,!0))).get(s))}).then(function(D){return tT(m,function(P){if(P=n0(r0(P,!0)),D)return D.value=u,_v(P.put(D));m.b++,y=!0;var F={};return F.fbase_key=s,F.value=u,_v(P.add(F))})}).then(function(){return m.c[s]=u,HW(m,s)}).oa(function(){y&&m.b--})},n.get=function(s){return tT(this,function(u){return _v(n0(r0(u,!1)).get(s))}).then(function(u){return u&&u.value})},n.U=function(s){var u=this,m=!1;return tT(this,function(y){return m=!0,u.b++,_v(n0(r0(y,!0)).delete(s))}).then(function(){return delete u.c[s],HW(u,s)}).oa(function(){m&&u.b--})},n.ca=function(s){0==this.a.length&&function bDe(s){qW(s),function u(){s.f=setTimeout(function(){s.l=zW(s).then(function(m){0<m.length&&ar(s.a,function(y){y(m)})}).then(function(){u()}).o(function(m){"STOP_EVENT"!=m.message&&u()})},800)}()}(this),this.a.push(s)},n.ia=function(s){ql(this.a,function(u){return u==s}),0==this.a.length&&qW(this)},(n=$W.prototype).get=function(s){return this.b.then(function(u){return u.get(s)})},n.set=function(s,u){return this.b.then(function(m){return m.set(s,u)})},n.U=function(s){return this.b.then(function(u){return u.U(s)})},n.ca=function(s){this.a.push(s)},n.ia=function(s){ql(this.a,function(u){return u==s})},(n=o0.prototype).get=function(s){return Rt(this.a[s])},n.set=function(s,u){return this.a[s]=u,Rt()},n.U=function(s){return delete this.a[s],Rt()},n.ca=function(){},n.ia=function(){},(n=nT.prototype).get=function(s){var u=this;return Rt().then(function(){return pv(u.a.getItem(s))})},n.set=function(s,u){var m=this;return Rt().then(function(){var y=Bb(u);null===y?m.U(s):m.a.setItem(s,y)})},n.U=function(s){var u=this;return Rt().then(function(){u.a.removeItem(s)})},n.ca=function(s){c.window&&sl(c.window,"storage",s)},n.ia=function(s){c.window&&Ea(c.window,"storage",s)},(n=VP.prototype).get=function(){return Rt(null)},n.set=function(){return Rt()},n.U=function(){return Rt()},n.ca=function(){},n.ia=function(){},(n=BP.prototype).get=function(s){var u=this;return Rt().then(function(){return pv(u.a.getItem(s))})},n.set=function(s,u){var m=this;return Rt().then(function(){var y=Bb(u);null===y?m.U(s):m.a.setItem(s,y)})},n.U=function(s){var u=this;return Rt().then(function(){u.a.removeItem(s)})},n.ca=function(){},n.ia=function(){};var UP,jP,SDe={F:nT,cb:BP},TDe={F:nT,cb:BP},DDe={F:PW,cb:VP},ADe={F:nT,cb:VP},yv={rd:"local",NONE:"none",td:"session"};function KW(){var s=!(b$(Bo())||!VR()),u=Vb(),m=UR();this.m=s,this.h=u,this.l=m,this.a={},UP||(UP=new EDe),s=UP;try{this.g=!FR()&&C$()||!c.indexedDB?new s.a.F:new $W(Wl()?new o0:new s.a.F)}catch(y){this.g=new o0,this.h=!0}try{this.i=new s.a.cb}catch(y){this.i=new o0}this.v=new o0,this.f=De(this.Zb,this),this.b={}}function s0(){return jP||(jP=new KW),jP}function Dp(s,u){switch(u){case"session":return s.i;case"none":return s.v;default:return s.g}}function bv(s,u){return"firebase:"+s.name+(u?":"+u:"")}function wv(s,u,m){return m=bv(u,m),"local"==u.F&&(s.b[m]=null),Dp(s,u.F).U(m)}function HP(s){s.c&&(clearInterval(s.c),s.c=null)}function xDe(s){this.a=s,this.b=s0()}(n=KW.prototype).get=function(s,u){return Dp(this,s.F).get(bv(s,u))},n.set=function(s,u,m){var y=bv(s,m),D=this,P=Dp(this,s.F);return P.set(y,u).then(function(){return P.get(y)}).then(function(F){"local"==s.F&&(D.b[y]=F)})},n.addListener=function(s,u,m){s=bv(s,u),this.l&&(this.b[s]=c.localStorage.getItem(s)),cp(this.a)&&(Dp(this,"local").ca(this.f),this.h||(FR()||!C$())&&c.indexedDB||!this.l||function MDe(s){HP(s),s.c=setInterval(function(){for(var u in s.a){var m=c.localStorage.getItem(u),y=s.b[u];m!=y&&(s.b[u]=m,m=new fp({type:"storage",key:u,target:window,oldValue:y,newValue:m,a:!0}),s.Zb(m))}},1e3)}(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(m)},n.removeListener=function(s,u,m){s=bv(s,u),this.a[s]&&(ql(this.a[s],function(y){return y==m}),0==this.a[s].length&&delete this.a[s]),cp(this.a)&&(Dp(this,"local").ia(this.f),HP(this))},n.Zb=function(s){if(s&&s.g){var u=s.a.key;if(null==u)for(var m in this.a){var y=this.b[m];void 0===y&&(y=null);var D=c.localStorage.getItem(m);D!==y&&(this.b[m]=D,this.nb(m))}else if(0==u.indexOf("firebase:")&&this.a[u]){if(void 0!==s.a.a?Dp(this,"local").ia(this.f):HP(this),this.m)if(m=c.localStorage.getItem(u),(y=s.a.newValue)!==m)null!==y?c.localStorage.setItem(u,y):c.localStorage.removeItem(u);else if(this.b[u]===y&&void 0===s.a.a)return;var P=this;m=function(){(void 0!==s.a.a||P.b[u]!==c.localStorage.getItem(u))&&(P.b[u]=c.localStorage.getItem(u),P.nb(u))},$l&&fh&&10==fh&&c.localStorage.getItem(u)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(m,10):m()}}else ar(s,De(this.nb,this))},n.nb=function(s){this.a[s]&&ar(this.a[s],function(u){u()})};var iT,zP={name:"authEvent",F:"local"};function PDe(){this.a=s0()}function rT(s,u){this.b=YW,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===iT&&(iT=c.Int32Array?new Int32Array(ZW):ZW),this.reset()}nt(rT,function ODe(){this.b=-1});for(var YW=64,NDe=YW-1,QW=[],qP=0;qP<NDe;qP++)QW[qP]=0;var XW=lR(128,QW);function $P(s){for(var u=s.f,m=s.l,y=0,D=0;D<u.length;)m[y++]=u[D]<<24|u[D+1]<<16|u[D+2]<<8|u[D+3],D=4*y;for(u=16;64>u;u++){var P=(0|m[u-16])+(((D=0|m[u-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,F=(0|m[u-7])+(((y=0|m[u-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)|0;m[u]=P+F|0}y=0|s.a[0],D=0|s.a[1];var G=0|s.a[2],he=0|s.a[3],Pe=0|s.a[4],on=0|s.a[5],br=0|s.a[6];for(P=0|s.a[7],u=0;64>u;u++){var lr=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&D^y&G^D&G)|0;F=(P=P+((Pe>>>6|Pe<<26)^(Pe>>>11|Pe<<21)^(Pe>>>25|Pe<<7))|0)+((F=(F=Pe&on^~Pe&br)+(0|iT[u])|0)+(0|m[u])|0)|0,P=br,br=on,on=Pe,Pe=he+F|0,he=G,G=D,D=y,y=F+lr|0}s.a[0]=s.a[0]+y|0,s.a[1]=s.a[1]+D|0,s.a[2]=s.a[2]+G|0,s.a[3]=s.a[3]+he|0,s.a[4]=s.a[4]+Pe|0,s.a[5]=s.a[5]+on|0,s.a[6]=s.a[6]+br|0,s.a[7]=s.a[7]+P|0}function WP(s,u,m){void 0===m&&(m=u.length);var y=0,D=s.c;if("string"==typeof u)for(;y<m;)s.f[D++]=u.charCodeAt(y++),D==s.b&&($P(s),D=0);else{if(!R(u))throw Error("message must be string or array");for(;y<m;){var P=u[y++];if(!("number"==typeof P&&0<=P&&255>=P&&P==(0|P)))throw Error("message must be a byte array");s.f[D++]=P,D==s.b&&($P(s),D=0)}}s.c=D,s.g+=m}rT.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):up(this.h)};var ZW=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function JW(){rT.call(this,8,FDe)}nt(JW,rT);var FDe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function eG(s,u,m,y,D,P){this.v=s,this.i=u,this.l=m,this.m=y||null,this.u=D||null,this.s=P,this.h=u+":"+m,this.C=new PDe,this.g=new xDe(this.h),this.f=null,this.b=[],this.a=this.c=null}function oT(s){return new ne("invalid-cordova-configuration",s)}function tG(s,u){for(var m=0;m<s.b.length;m++)try{s.b[m](u)}catch(y){}}function nG(s){return s.f||(s.f=s.ma().then(function(){return new Fn(function(u){s.Ea(function m(y){return u(y),s.Ta(m),!1}),function UDe(s){function u(F){y=!0,D&&D.cancel(),GP(s).then(function(G){var he=m;if(G&&F&&F.url){var Pe=null;-1!=(he=G$(F.url)).indexOf("/__/auth/callback")&&(Pe=(Pe="object"==typeof(Pe=pv(al(Pe=Qs(he),"firebaseError")||null))?ol(Pe):null)?new Gl(G.c,G.b,null,null,Pe,null,G.T()):new Gl(G.c,G.b,he,G.f,null,null,G.T())),he=Pe||m}tG(s,he)})}var m=new Gl("unknown",null,null,null,new ne("no-auth-event")),y=!1,D=lv(500).then(function(){return GP(s).then(function(){y||tG(s,m)})}),P=c.handleOpenURL;c.handleOpenURL=function(F){if(0==F.toLowerCase().indexOf(Hr("BuildInfo.packageName",c).toLowerCase()+"://")&&u({url:F}),"function"==typeof P)try{P(F)}catch(G){console.error(G)}},uP||(uP=new nTe),function rTe(s){var u=uP;u.a.push(s),u.b||(u.b=function(m){for(var y=0;y<u.a.length;y++)u.a[y](m)},"function"==typeof(s=Hr("universalLinks.subscribe",c))&&s(null,u.b))}(u)}(s)})})),s.f}function GP(s){var u=null;return function RDe(s){return s.b.get(zP,s.a).then(function(u){return tW(u)})}(s.g).then(function(m){return u=m,wv((m=s.g).b,zP,m.a)}).then(function(){return u})}function jDe(s){this.a=s,this.b=s0()}(n=eG.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function ISe(){return LR(void 0)?MS().then(function(){return new Fn(function(s,u){var m=c.document,y=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(y),s()},!1)})}):jr(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Hr("universalLinks.subscribe",c))throw oT("cordova-universal-links-plugin-fix is not installed");if(void 0===Hr("BuildInfo.packageName",c))throw oT("cordova-plugin-buildinfo is not installed");if("function"!=typeof Hr("cordova.plugins.browsertab.openUrl",c))throw oT("cordova-plugin-browsertab is not installed");if("function"!=typeof Hr("cordova.InAppBrowser.open",c))throw oT("cordova-plugin-inappbrowser is not installed")},function(){throw new ne("cordova-not-ready")})},n.Pb=function(s,u){return u(new ne("operation-not-supported-in-this-environment")),Rt()},n.Nb=function(){return jr(new ne("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(s,u,m,y){if(this.c)return jr(new ne("redirect-operation-pending"));var D=this,P=c.document,F=null,G=null,he=null,Pe=null;return this.c=Rt().then(function(){return lP(u),nG(D)}).then(function(){return function BDe(s,u,m,y,D){var P=function LDe(){for(var s=20,u=[];0<s;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return u.join("")}(),F=new Gl(u,y,null,P,new ne("no-auth-event"),null,D),G=Hr("BuildInfo.packageName",c);if("string"!=typeof G)throw new ne("invalid-cordova-configuration");var he=Hr("BuildInfo.displayName",c),Pe={};if(Bo().toLowerCase().match(/iphone|ipad|ipod/))Pe.ibi=G;else{if(!Bo().toLowerCase().match(/android/))return jr(new ne("operation-not-supported-in-this-environment"));Pe.apn=G}he&&(Pe.appDisplayName=he),P=function VDe(s){var u=new JW;WP(u,s),s=[];var m=8*u.g;WP(u,XW,56>u.c?56-u.c:u.b-(u.c-56));for(var y=63;56<=y;y--)u.f[y]=255&m,m/=256;for($P(u),y=m=0;y<u.i;y++)for(var D=24;0<=D;D-=8)s[m++]=u.a[y]>>D&255;return function KSe(s){return mS(s,function(u){return 1<(u=u.toString(16)).length?u:"0"+u}).join("")}(s)}(P),Pe.sessionId=P;var on=t0(s.v,s.i,s.l,u,m,null,y,s.m,Pe,s.u,D,s.s);return s.ma().then(function(){var br=s.h;return s.C.a.set(zP,F.w(),br)}).then(function(){var br=Hr("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof br)throw new ne("invalid-cordova-configuration");var lr=null;br(function(po){if(po){if("function"!=typeof(lr=Hr("cordova.plugins.browsertab.openUrl",c)))throw new ne("invalid-cordova-configuration");lr(on)}else{if("function"!=typeof(lr=Hr("cordova.InAppBrowser.open",c)))throw new ne("invalid-cordova-configuration");po=Bo(),s.a=lr(on,po.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||po.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,s,u,m,y)}).then(function(){return new Fn(function(on,br){G=function(){var lr=Hr("cordova.plugins.browsertab.close",c);return on(),"function"==typeof lr&&lr(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(G),Pe=function(){jR()&&he()},P.addEventListener("resume",he=function(){F||(F=lv(2e3).then(function(){br(new ne("redirect-cancelled-by-user"))}))},!1),Bo().toLowerCase().match(/android/)||P.addEventListener("visibilitychange",Pe,!1)}).o(function(on){return GP(D).then(function(){throw on})})}).oa(function(){he&&P.removeEventListener("resume",he,!1),Pe&&P.removeEventListener("visibilitychange",Pe,!1),F&&F.cancel(),G&&D.Ta(G),D.c=null})},n.Ea=function(s){this.b.push(s),nG(this).o(function(u){"auth/invalid-cordova-configuration"===u.code&&(u=new Gl("unknown",null,null,null,new ne("no-auth-event")),s(u))})},n.Ta=function(s){ql(this.b,function(u){return u==s})};var KP={name:"pendingRedirect",F:"session"};function YP(s){return wv(s.b,KP,s.a)}function sT(s,u,m,y){this.i={},this.u=0,this.D=s,this.v=u,this.m=m,this.J=y,this.h=[],this.f=!1,this.l=De(this.s,this),this.b=new lT,this.C=new hG,this.g=new jDe(uG(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=rG(this.D,this.v,this.m,bt,this.J)}function rG(s,u,m,y,D){var P=it.default.SDK_VERSION||null;return LR()?new eG(s,u,m,P,y,D):new kW(s,u,m,P,y,D)}function iG(s){s.f||(s.f=!0,s.a.Ea(s.l));var u=s.a;return s.a.ma().o(function(m){throw s.a==u&&s.reset(),m})}function oG(s){s.a.Yb()&&iG(s).o(function(u){var m=new Gl("unknown",null,null,null,new ne("operation-not-supported-in-this-environment"));XP(u)&&s.s(m)}),s.a.Ub()||cG(s.b)}function aT(s,u){Yc(s.h,u)||s.h.push(u),s.f||function zDe(s){return s.b.get(KP,s.a).then(function(u){return"pending"==u})}(s.g).then(function(m){m?YP(s.g).then(function(){iG(s).o(function(y){var D=new Gl("unknown",null,null,null,new ne("operation-not-supported-in-this-environment"));XP(y)&&s.s(D)})}):oG(s)}).o(function(){oG(s)})}function QP(s,u){ql(s.h,function(m){return m==u})}sT.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=rG(this.D,this.v,this.m,null,this.J),this.i={}},sT.prototype.s=function(s){if(!s)throw new ne("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var u=!1,m=0;m<this.h.length;m++){var y=this.h[m];if(y.Gb(s.c,s.b)){(u=this.c[s.c])&&(u.h(s,y),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),u=!0;break}}return cG(this.b),u};var qDe=new gh(2e3,1e4),$De=new gh(3e4,6e4);function sG(s,u,m,y,D,P,F){return s.a.Nb(u,m,y,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},D,P,F)}function XP(s){return!(!s||"auth/cordova-not-ready"!=s.code)}function aG(s,u,m,y,D){var P;return function HDe(s){return s.b.set(KP,"pending",s.a)}(s.g).then(function(){return s.a.Ob(u,m,y,D).o(function(F){if(XP(F))throw new ne("operation-not-supported-in-this-environment");return P=F,YP(s.g).then(function(){throw P})}).then(function(){return s.a.ac()?new Fn(function(){}):YP(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function lG(s,u,m,y,D){return s.a.Pb(y,function(P){u.na(m,null,P,D)},qDe.get())}sT.prototype.ra=function(){return this.b.ra()};var ZP={};function uG(s,u,m){return s=s+":"+u,m&&(s=s+":"+m.url),s}function JP(s,u,m,y){var D=uG(u,m,y);return ZP[D]||(ZP[D]=new sT(s,u,m,y)),ZP[D]}function lT(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function cG(s){s.g||(s.g=!0,Ap(s,!1,null,null))}function uT(s){s.g&&!s.i&&Ap(s,!1,null,null)}function dG(s,u){if(s.b=function(){return Rt(u)},s.f.length)for(var m=0;m<s.f.length;m++)s.f[m](u)}function Ap(s,u,m,y){u?y?function GDe(s,u){if(s.b=function(){return jr(u)},s.c.length)for(var m=0;m<s.c.length;m++)s.c[m](u)}(s,y):dG(s,m):dG(s,{user:null}),s.f=[],s.c=[]}function hG(){}function fG(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function eO(s,u){this.a=u,vt(this,"verificationId",s)}function tO(s,u,m,y){return new Zc(s).gb(u,m).then(function(D){return new eO(D,y)})}function QDe(s){var u=B$(s);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new ne("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Is(this,{token:s,expirationTime:Ub(1e3*u.exp),authTime:Ub(1e3*u.auth_time),issuedAtTime:Ub(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function nO(s,u,m){var y=u&&u[mG];if(!y)throw new ne("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=hh(u),this.g=m,this.c=new VS(null,y),this.b=[];var D=this;ar(u[pG]||[],function(P){(P=GR(P))&&D.b.push(P)}),vt(this,"auth",this.a),vt(this,"session",this.c),vt(this,"hints",this.b)}lT.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},lT.prototype.h=function(s,u){if(s){this.reset(),this.g=!0;var m=s.c,y=s.b,D=s.a&&"auth/web-storage-unsupported"==s.a.code,P=s.a&&"auth/operation-not-supported-in-this-environment"==s.a.code;this.i=!(!D&&!P),"unknown"!=m||D||P?s.a?(Ap(this,!0,null,s.a),Rt()):u.Fa(m,y)?function WDe(s,u,m){m=m.Fa(u.c,u.b);var y=u.g,D=u.f,P=u.i,F=u.T(),G=!!u.c.match(/Redirect$/);m(y,D,F,P).then(function(he){Ap(s,G,he,null)}).o(function(he){Ap(s,G,null,he)})}(this,s,u):jr(new ne("invalid-auth-event")):(Ap(this,!1,null,null),Rt())}else jr(new ne("invalid-auth-event"))},lT.prototype.ra=function(){var s=this;return new Fn(function(u,m){s.b?s.b().then(u,m):(s.f.push(u),s.c.push(m),function KDe(s){var u=new ne("timeout");s.a&&s.a.cancel(),s.a=lv($De.get()).then(function(){s.b||(s.g=!0,Ap(s,!0,null,u))})}(s))})},hG.prototype.h=function(s,u){if(s){var m=s.c,y=s.b;s.a?(u.na(s.c,null,s.a,s.b),Rt()):u.Fa(m,y)?function YDe(s,u){var m=s.b,y=s.c;u.Fa(y,m)(s.g,s.f,s.T(),s.i).then(function(D){u.na(y,D,null,m)}).o(function(D){u.na(y,null,D,m)})}(s,u):jr(new ne("invalid-auth-event"))}else jr(new ne("invalid-auth-event"))},eO.prototype.confirm=function(s){return s=eW(this.verificationId,s),this.a(s)};var pG="mfaInfo",mG="mfaPendingCredential";function rO(s,u,m,y){ne.call(this,"multi-factor-auth-required",y,u),this.b=new nO(s,u,m),vt(this,"resolver",this.b)}function gG(s,u,m){if(s&&z(s.serverResponse)&&"auth/multi-factor-auth-required"===s.code)try{return new rO(u,s.serverResponse,m,s.message)}catch(y){}return null}function vG(){}function iO(s){vt(this,"factorId",s.fa),this.a=s}function _G(s){if(iO.call(this,s),this.a.fa!=Zc.PROVIDER_ID)throw new ne("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Cv(s,u){for(var m in Ys.call(this,s),u)this[m]=u[m]}function oO(s,u){this.a=s,this.b=[],this.c=De(this.yc,this),sl(this.a,"userReloaded",this.c);var m=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ar(u.multiFactor.enrolledFactors,function(y){var D=null,P={};if(y){y.uid&&(P[YR]=y.uid),y.displayName&&(P[S$]=y.displayName),y.enrollmentTime&&(P[KR]=new Date(y.enrollmentTime).toISOString()),y.phoneNumber&&(P[QR]=y.phoneNumber);try{D=new jb(P)}catch(F){}y=D}else y=null;y&&m.push(y)}),cT(this,m)}function cT(s,u){s.b=u,vt(s,"enrolledFactors",u)}function sO(s,u,m){if(this.h=s,this.i=u,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function aO(s,u){s.stop(),s.b=lv(function eAe(s,u){return u?(s.a=s.c,s.g()):(u=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),u)}(s,u)).then(function(){return function MSe(){var s=c.document,u=null;return jR()||!s?Rt():new Fn(function(m){u=function(){jR()&&(s.removeEventListener("visibilitychange",u,!1),m())},s.addEventListener("visibilitychange",u,!1)}).o(function(m){throw s.removeEventListener("visibilitychange",u,!1),m})}()}).then(function(){return s.h()}).then(function(){aO(s,!0)}).o(function(m){s.i(m)&&aO(s,!1)})}function lO(s){this.f=s,this.b=this.a=null,this.c=Date.now()}function yG(s,u){void 0===u&&(u=s.b?(u=s.b).a-u.g:0),s.c=Date.now()+1e3*u}function bG(s,u){s.b=FS(u[Yl]||""),s.a=u.refreshToken,yG(s,void 0!==(u=u.expiresIn)?Number(u):void 0)}function dT(s,u){this.a=s||null,this.b=u||null,Is(this,{lastSignInTime:Ub(u||null),creationTime:Ub(s||null)})}function iAe(s,u,m,y,D,P){Is(this,{uid:s,displayName:y||null,photoURL:D||null,email:m||null,phoneNumber:P||null,providerId:u})}function Ta(s,u,m){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var y=it.default.SDK_VERSION?hv(it.default.SDK_VERSION):null;this.a=new Kl(this.l,ot(bt),y),(this.u=s.emulatorConfig||null)&&JS(this.a,this.u),this.h=new lO(this.a),mO(this,u[Yl]),bG(this.h,u),vt(this,"refreshToken",this.h.a),CG(this,m||{}),As.call(this),this.P=!1,this.s&&vp()&&(this.b=JP(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function oAe(s){return new sO(function(){return s.I(!0)},function(u){return!(!u||"auth/network-request-failed"!=u.code)},function(){var u=s.h.c-Date.now()-3e5;return 0<u?u:0})}(this),this.ba=De(this.ib,this);var D=this;this.za=null,this.Pa=function(P){D.xa(P.h)},this.qa=null,this.Ba=function(P){uO(D,P.c)},this.$=null,this.aa=[],this.Oa=function(P){a0(D,P.f)},this.ja=null,this.S=new oO(this,m),vt(this,"multiFactor",this.S)}function uO(s,u){s.u=u,JS(s.a,u),s.b&&(u=s.b,s.b=JP(s.s,s.l,s.m,s.u),s.P&&(QP(u,s),aT(s.b,s)))}function cO(s,u){s.qa&&Ea(s.qa,"languageCodeChanged",s.Pa),(s.qa=u)&&sl(u,"languageCodeChanged",s.Pa)}function dO(s,u){s.$&&Ea(s.$,"emulatorConfigChanged",s.Ba),(s.$=u)&&sl(u,"emulatorConfigChanged",s.Ba)}function a0(s,u){s.aa=u,vW(s.a,it.default.SDK_VERSION?hv(it.default.SDK_VERSION,s.aa):null)}function hO(s,u){s.ja&&Ea(s.ja,"frameworkChanged",s.Oa),(s.ja=u)&&sl(u,"frameworkChanged",s.Oa)}function fO(s){try{return it.default.app(s.m).auth()}catch(u){throw new ne("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function wG(s){s.J||s.D.b||(s.D.start(),Ea(s,"tokenChanged",s.ba),sl(s,"tokenChanged",s.ba))}function pO(s){Ea(s,"tokenChanged",s.ba),s.D.stop()}function mO(s,u){s.Aa=u,vt(s,"_lat",u)}function Ip(s){for(var u=[],m=0;m<s.W.length;m++)u.push(s.W[m](s));return Lq(u).then(function(){return s})}function l0(s){s.b&&!s.P&&(s.P=!0,aT(s.b,s))}function CG(s,u){Is(s,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new dT(u.createdAt,u.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}function EG(){}function gO(s){return Rt().then(function(){if(s.J)throw new ne("app-deleted")})}function vO(s){return mS(s.providerData,function(u){return u.providerId})}function _O(s,u){u&&(SG(s,u.providerId),s.providerData.push(u))}function SG(s,u){ql(s.providerData,function(m){return m.providerId==u})}function yh(s,u,m){("uid"!=u||m)&&s.hasOwnProperty(u)&&vt(s,u,m)}function hT(s,u){s!=u&&(Is(s,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),vt(s,"metadata",u.metadata?function rAe(s){return new dT(s.a,s.b)}(u.metadata):new dT),ar(u.providerData,function(m){_O(s,m)}),function tAe(s,u){s.b=u.b,s.a=u.a,s.c=u.c}(s.h,u.h),vt(s,"refreshToken",s.h.a),cT(s.S,u.S.b))}function yO(s){return s.I().then(function(u){var m=s.isAnonymous;return function aAe(s,u){return zn(s.a,HTe,{idToken:u}).then(De(s.Kc,s))}(s,u).then(function(){return m||yh(s,"isAnonymous",!1),u})})}function Wu(s,u){u[Yl]&&s.Aa!=u[Yl]&&(bG(s.h,u),s.dispatchEvent(new Cv("tokenChanged")),mO(s,u[Yl]),yh(s,"refreshToken",s.h.a))}function fT(s,u){return yO(s).then(function(){if(Yc(vO(s),u))return Ip(s).then(function(){throw new ne("provider-already-linked")})})}function u0(s,u,m){return qu({user:s,credential:aP(u),additionalUserInfo:u=j$(u),operationType:m})}function TG(s,u){return Wu(s,u),s.reload().then(function(){return s})}function DG(s,u,m,y,D){if(!vp())return jr(new ne("operation-not-supported-in-this-environment"));if(s.i&&!D)return jr(s.i);var P=tP(m.providerId),F=_p(s.uid+":::"),G=null;(!Vb()||VR())&&s.s&&m.isOAuthProvider&&(G=t0(s.s,s.l,s.m,u,m,null,F,it.default.SDK_VERSION||null,null,null,s.tenantId,s.u));var he=m$(G,P&&P.va,P&&P.ua);return y=y().then(function(){if(IG(s),!D)return s.I().then(function(){})}).then(function(){return sG(s.b,he,u,m,F,!!G,s.tenantId)}).then(function(){return new Fn(function(Pe,on){s.na(u,null,new ne("cancelled-popup-request"),s.g||null),s.f=Pe,s.C=on,s.g=F,s.c=lG(s.b,s,u,he,F)})}).then(function(Pe){return he&&gp(he),Pe?qu(Pe):null}).o(function(Pe){throw he&&gp(he),Pe}),Qi(s,y,D)}function AG(s,u,m,y,D){if(!vp())return jr(new ne("operation-not-supported-in-this-environment"));if(s.i&&!D)return jr(s.i);var P=null,F=_p(s.uid+":::");return y=y().then(function(){if(IG(s),!D)return s.I().then(function(){})}).then(function(){return s.ga=F,Ip(s)}).then(function(G){return s.ha&&(G=(G=s.ha).b.set(bO,s.w(),G.a)),G}).then(function(){return aG(s.b,u,m,F,s.tenantId)}).o(function(G){if(P=G,s.ha)return MG(s.ha);throw P}).then(function(){if(P)throw P}),Qi(s,y,D)}function IG(s){if(!s.b||!s.P)throw new ne(s.b&&!s.P?"internal-error":"auth-domain-config-required")}function Qi(s,u,m){var y=function uAe(s,u,m){return s.i&&!m?(u.cancel(),jr(s.i)):u.o(function(y){throw!y||"auth/user-disabled"!=y.code&&"auth/user-token-expired"!=y.code||(s.i||s.dispatchEvent(new Cv("userInvalidated")),s.i=y),y})}(s,u,m);return s.N.push(y),y.oa(function(){gS(s.N,y)}),y.o(function(D){var P=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(P=gG(D.w(),fO(s),De(s.jc,s))),P||D})}function kG(s){if(!s.apiKey)return null;var u={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},m={};if(!s.stsTokenManager||!s.stsTokenManager.accessToken)return null;m[Yl]=s.stsTokenManager.accessToken,m.refreshToken=s.stsTokenManager.refreshToken||null;var y=s.stsTokenManager.expirationTime;y&&(m.expiresIn=(y-Date.now())/1e3);var D=new Ta(u,m,s);return s.providerData&&ar(s.providerData,function(P){P&&_O(D,qu(P))}),s.redirectEventId&&(D.ga=s.redirectEventId),D}function hAe(s){this.a=s,this.b=s0()}nO.prototype.Rc=function(s){var u=this;return s.tb(this.a.a,this.c).then(function(m){var y=hh(u.f);return delete y[pG],delete y[mG],Gs(y,m),u.g(y)})},nt(rO,ne),vG.prototype.tb=function(s,u,m){return u.type==qb?function XDe(s,u,m,y){return m.Ha().then(function(D){return D={idToken:D},void 0!==y&&(D.displayName=y),Gs(D,{phoneVerificationInfo:$b(s.a)}),zn(u,UTe,D)})}(this,s,u,m):function ZDe(s,u,m){return m.Ha().then(function(y){return Gs(y={mfaPendingCredential:y},{phoneVerificationInfo:$b(s.a)}),zn(u,jTe,y)})}(this,s,u)},nt(iO,vG),nt(_G,iO),nt(Cv,Ys),(n=oO.prototype).yc=function(s){cT(this,function JDe(s){var u=[];return ar(s.mfaInfo||[],function(m){(m=GR(m))&&u.push(m)}),u}(s.hd))},n.Sb=function(){return this.a.I().then(function(s){return new VS(s,null)})},n.fc=function(s,u){var m=this,y=this.a.a;return this.Sb().then(function(D){return s.tb(y,D,u)}).then(function(D){return Wu(m.a,D),m.a.reload()})},n.bd=function(s){var u=this,m="string"==typeof s?s:s.uid,y=this.a.a;return this.a.I().then(function(D){return zn(y,aDe,{idToken:D,mfaEnrollmentId:m})}).then(function(D){var P=Ib(u.b,function(F){return F.uid!=m});return cT(u,P),Wu(u.a,D),u.a.reload().o(function(F){if("auth/user-token-expired"!=F.code)throw F})})},n.w=function(){return{multiFactor:{enrolledFactors:mS(this.b,function(s){return s.w()})}}},sO.prototype.start=function(){this.a=this.c,aO(this,!0)},sO.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},lO.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},lO.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?jr(new ne("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?function nAe(s,u){return function STe(s,u){return new Fn(function(m,y){"refresh_token"==u.grant_type&&u.refresh_token||"authorization_code"==u.grant_type&&u.code?_W(s,s.l+"?key="+encodeURIComponent(s.c),function(D){D?D.error?y(xP(D)):D.access_token&&D.refresh_token?m(D):y(new ne("internal-error")):y(new ne("network-request-failed"))},"POST",s$(u).toString(),s.g,s.m.get()):y(new ne("internal-error"))})}(s.f,u).then(function(m){return s.b=FS(m.access_token),s.a=m.refresh_token,yG(s,m.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(m){throw"auth/user-token-expired"==m.code&&(s.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Rt(null):Rt({accessToken:this.b.toString(),refreshToken:this.a})},dT.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},nt(Ta,As),Ta.prototype.xa=function(s){this.za=s,gW(this.a,s)},Ta.prototype.la=function(){return this.za},Ta.prototype.Ga=function(){return up(this.aa)},Ta.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},vt(Ta.prototype,"providerId","firebase"),(n=Ta.prototype).reload=function(){var s=this;return Qi(this,gO(this).then(function(){return yO(s).then(function(){return Ip(s)}).then(EG)}))},n.oc=function(s){return this.I(s).then(function(u){return new QDe(u)})},n.I=function(s){var u=this;return Qi(this,gO(this).then(function(){return u.h.getToken(s)}).then(function(m){if(!m)throw new ne("internal-error");return m.accessToken!=u.Aa&&(mO(u,m.accessToken),u.dispatchEvent(new Cv("tokenChanged"))),yh(u,"refreshToken",m.refreshToken),m.accessToken}))},n.Kc=function(s){if(!(s=s.users)||!s.length)throw new ne("internal-error");CG(this,{uid:(s=s[0]).localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var u=function lAe(s){return(s=s.providerUserInfo)&&s.length?mS(s,function(u){return new iAe(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}(s),m=0;m<u.length;m++)_O(this,u[m]);yh(this,"isAnonymous",!(this.email&&s.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Cv("userReloaded",{hd:s}))},n.Lc=function(s){return HR("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},n.ub=function(s){var u=this,m=null;return Qi(this,s.c(this.a,this.uid).then(function(y){return Wu(u,y),m=u0(u,y,"reauthenticate"),u.i=null,u.reload()}).then(function(){return m}),!0)},n.Cc=function(s){return HR("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},n.rb=function(s){var u=this,m=null;return Qi(this,fT(this,s.providerId).then(function(){return u.I()}).then(function(y){return s.b(u.a,y)}).then(function(y){return m=u0(u,y,"link"),TG(u,y)}).then(function(){return m}))},n.Dc=function(s,u){var m=this;return Qi(this,fT(this,"phone").then(function(){return tO(fO(m),s,u,De(m.rb,m))}))},n.Mc=function(s,u){var m=this;return Qi(this,Rt().then(function(){return tO(fO(m),s,u,De(m.ub,m))}),!0)},n.Cb=function(s){var u=this;return Qi(this,this.I().then(function(m){return u.a.Cb(m,s)}).then(function(m){return Wu(u,m),u.reload()}))},n.ed=function(s){var u=this;return Qi(this,this.I().then(function(m){return s.b(u.a,m)}).then(function(m){return Wu(u,m),u.reload()}))},n.Db=function(s){var u=this;return Qi(this,this.I().then(function(m){return u.a.Db(m,s)}).then(function(m){return Wu(u,m),u.reload()}))},n.Eb=function(s){if(void 0===s.displayName&&void 0===s.photoURL)return gO(this);var u=this;return Qi(this,this.I().then(function(m){return u.a.Eb(m,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(m){return Wu(u,m),yh(u,"displayName",m.displayName||null),yh(u,"photoURL",m.photoUrl||null),ar(u.providerData,function(y){"password"===y.providerId&&(vt(y,"displayName",u.displayName),vt(y,"photoURL",u.photoURL))}),Ip(u)}).then(EG))},n.cd=function(s){var u=this;return Qi(this,yO(this).then(function(m){return Yc(vO(u),s)?function xTe(s,u,m){return zn(s,LTe,{idToken:u,deleteProvider:m})}(u.a,m,[s]).then(function(y){var D={};return ar(y.providerUserInfo||[],function(P){D[P.providerId]=!0}),ar(vO(u),function(P){D[P]||SG(u,P)}),D[Zc.PROVIDER_ID]||vt(u,"phoneNumber",null),Ip(u)}):Ip(u).then(function(){throw new ne("no-such-provider")})}))},n.delete=function(){var s=this;return Qi(this,this.I().then(function(u){return zn(s.a,FTe,{idToken:u})}).then(function(){s.dispatchEvent(new Cv("userDeleted"))})).then(function(){for(var u=0;u<s.N.length;u++)s.N[u].cancel("app-deleted");cO(s,null),dO(s,null),hO(s,null),s.N=[],s.J=!0,pO(s),vt(s,"refreshToken",null),s.b&&QP(s.b,s)})},n.Gb=function(s,u){return!!("linkViaPopup"==s&&(this.g||null)==u&&this.f||"reauthViaPopup"==s&&(this.g||null)==u&&this.f||"linkViaRedirect"==s&&(this.ga||null)==u||"reauthViaRedirect"==s&&(this.ga||null)==u)},n.na=function(s,u,m,y){"linkViaPopup"!=s&&"reauthViaPopup"!=s||y!=(this.g||null)||(m&&this.C?this.C(m):u&&!m&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(s,u){return"linkViaPopup"==s&&u==(this.g||null)?De(this.Lb,this):"reauthViaPopup"==s&&u==(this.g||null)?De(this.Mb,this):"linkViaRedirect"==s&&(this.ga||null)==u?De(this.Lb,this):"reauthViaRedirect"==s&&(this.ga||null)==u?De(this.Mb,this):null},n.Ec=function(s){var u=this;return DG(this,"linkViaPopup",s,function(){return fT(u,s.providerId).then(function(){return Ip(u)})},!1)},n.Nc=function(s){return DG(this,"reauthViaPopup",s,function(){return Rt()},!0)},n.Fc=function(s){var u=this;return AG(this,"linkViaRedirect",s,function(){return fT(u,s.providerId)},!1)},n.Oc=function(s){return AG(this,"reauthViaRedirect",s,function(){return Rt()},!0)},n.Lb=function(s,u,m,y){var D=this;this.c&&(this.c.cancel(),this.c=null);var P=null;return Qi(this,this.I().then(function(F){return IP(D.a,{requestUri:s,postBody:y,sessionId:u,idToken:F})}).then(function(F){return P=u0(D,F,"link"),TG(D,F)}).then(function(){return P}))},n.Mb=function(s,u,m,y){var D=this;this.c&&(this.c.cancel(),this.c=null);var P=null;return Qi(this,Rt().then(function(){return gv(kP(D.a,{requestUri:s,sessionId:u,postBody:y,tenantId:m}),D.uid)}).then(function(G){return P=u0(D,G,"reauthenticate"),Wu(D,G),D.i=null,D.reload()}).then(function(){return P}),!0)},n.vb=function(s){var u=this,m=null;return Qi(this,this.I().then(function(y){return m=y,void 0===s||cp(s)?{}:OS(new PS(s))}).then(function(y){return u.a.vb(m,y)}).then(function(y){if(u.email!=y)return u.reload()}).then(function(){}))},n.Fb=function(s,u){var m=this,y=null;return Qi(this,this.I().then(function(D){return y=D,void 0===u||cp(u)?{}:OS(new PS(u))}).then(function(D){return m.a.Fb(y,s,D)}).then(function(D){if(m.email!=D)return m.reload()}).then(function(){}))},n.jc=function(s){var u=null,m=this;return Qi(this,s=gv(Rt(s),m.uid).then(function(y){return u=u0(m,y,"reauthenticate"),Wu(m,y),m.i=null,m.reload()}).then(function(){return u}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Gs(s,this.metadata.w()),ar(this.providerData,function(u){s.providerData.push(function PSe(s){var m,u={};for(m in s)s.hasOwnProperty(m)&&(u[m]=s[m]);return u}(u))}),Gs(s,this.S.w()),s};var bO={name:"redirectUser",F:"session"};function MG(s){return wv(s.b,bO,s.a)}function wO(s){this.a=s,this.b=s0(),this.c=null,this.f=function pAe(s){var u=Gu("local"),m=Gu("session"),y=Gu("none");return function kDe(s,u,m){var y=bv(u,m),D=Dp(s,u.F);return s.get(u,m).then(function(P){var F=null;try{F=pv(c.localStorage.getItem(y))}catch(G){}if(F&&!P)return c.localStorage.removeItem(y),s.set(u,F,m);F&&P&&"localStorage"!=D.type&&c.localStorage.removeItem(y)})}(s.b,u,s.a).then(function(){return s.b.get(m,s.a)}).then(function(D){return D?m:s.b.get(y,s.a).then(function(P){return P?y:s.b.get(u,s.a).then(function(F){return F?u:s.b.get(EO,s.a).then(function(G){return G?Gu(G):u})})})}).then(function(D){return s.c=D,CO(s,D.F)}).o(function(){s.c||(s.c=u)})}(this),this.b.addListener(Gu("local"),this.a,De(this.g,this))}function CO(s,u){var y,m=[];for(y in yv)yv[y]!==u&&m.push(wv(s.b,Gu(yv[y]),s.a));return m.push(wv(s.b,EO,s.a)),function rSe(s){return new Fn(function(u,m){var y=s.length,D=[];if(y)for(var P=function(Pe,on){y--,D[Pe]=on,0==y&&u(D)},F=function(Pe){m(Pe)},G=0;G<s.length;G++)Fq(s[G],xt(P,G),F);else u(D)})}(m)}wO.prototype.g=function(){var s=this,u=Gu("local");Ev(this,function(){return Rt().then(function(){return s.c&&"local"!=s.c.F?s.b.get(u,s.a):null}).then(function(m){if(m)return CO(s,"local").then(function(){s.c=u})})})};var EO={name:"persistence",F:"session"};function Gu(s){return{name:"authUser",F:s}}function xG(s,u){return Ev(s,function(){return s.b.set(s.c,u.w(),s.a)})}function RG(s){return Ev(s,function(){return wv(s.b,s.c,s.a)})}function PG(s,u,m){return Ev(s,function(){return s.b.get(s.c,s.a).then(function(y){return y&&u&&(y.authDomain=u),y&&m&&(y.emulatorConfig=m),kG(y||{})})})}function Ev(s,u){return s.f=s.f.then(u,u),s.f}function Ql(s){if(this.l=!1,vt(this,"settings",new fG),vt(this,"app",s),!Sr(this).options||!Sr(this).options.apiKey)throw new ne("invalid-api-key");s=it.default.SDK_VERSION?hv(it.default.SDK_VERSION):null,this.a=new Kl(Sr(this).options&&Sr(this).options.apiKey,ot(bt),s),this.P=[],this.s=[],this.N=[],this.Pa=it.default.INTERNAL.createSubscribe(De(this.zc,this)),this.W=void 0,this.ib=it.default.INTERNAL.createSubscribe(De(this.Ac,this)),Sv(this,null),this.i=new wO(Sr(this).options.apiKey+":"+Sr(this).name),this.D=new hAe(Sr(this).options.apiKey+":"+Sr(this).name),this.$=si(this,function wAe(s){var u=Sr(s).options.authDomain,m=function bAe(s){var u=function fAe(s,u){return s.b.get(bO,s.a).then(function(m){return m&&u&&(m.authDomain=u),kG(m||{})})}(s.D,Sr(s).options.authDomain).then(function(m){return(s.m=m)&&(m.ha=s.D),MG(s.D)});return si(s,u)}(s).then(function(){return PG(s.i,u,s.R)}).then(function(y){return y?(y.ha=s.D,s.m&&(s.m.ga||null)==(y.ga||null)?y:y.reload().then(function(){return xG(s.i,y).then(function(){return y})}).o(function(D){return"auth/network-request-failed"==D.code?y:RG(s.i)})):null}).then(function(y){Sv(s,y||null)});return si(s,m)}(this)),this.h=si(this,function CAe(s){return s.$.then(function(){return LG(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var u=s.i;u.b.addListener(Gu("local"),u.a,s.ja)}})}(this)),this.ba=!1,this.ja=De(this.Zc,this),this.Ba=De(this.da,this),this.qa=De(this.mc,this),this.za=De(this.wc,this),this.Aa=De(this.xc,this),this.b=null,function _Ae(s){var u=Sr(s).options.authDomain,m=Sr(s).options.apiKey;u&&vp()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=JP(u,m,Sr(s).name,s.R),aT(s.b,s),Sn(s)&&l0(Sn(s)),s.m){l0(s.m);var y=s.m;y.xa(s.la()),cO(y,s),a0(y=s.m,s.J),hO(y,s),uO(y=s.m,s.R),dO(y,s),s.m=null}return s.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=De(this.delete,this),this.INTERNAL.logFramework=De(this.Gc,this),this.u=0,As.call(this),function vAe(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var u=Qs(this.R.url);u=qu({protocol:u.c,host:u.a,port:u.g,options:qu({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}(this),this.J=[],this.R=null}function OG(s){Ys.call(this,"languageCodeChanged"),this.h=s}function NG(s){Ys.call(this,"emulatorConfigChanged"),this.c=s}function FG(s){Ys.call(this,"frameworkChanged"),this.f=s}function SO(s){return s.Oa||jr(new ne("auth-domain-config-required"))}function LG(s){if(!vp())return jr(new ne("operation-not-supported-in-this-environment"));var u=SO(s).then(function(){return s.b.ra()}).then(function(m){return m?qu(m):null});return si(s,u)}function Sv(s,u){Sn(s)&&(function sAe(s,u){ql(s.W,function(m){return m==u})}(Sn(s),s.Ba),Ea(Sn(s),"tokenChanged",s.qa),Ea(Sn(s),"userDeleted",s.za),Ea(Sn(s),"userInvalidated",s.Aa),pO(Sn(s))),u&&(u.W.push(s.Ba),sl(u,"tokenChanged",s.qa),sl(u,"userDeleted",s.za),sl(u,"userInvalidated",s.Aa),0<s.u&&wG(u)),vt(s,"currentUser",u),u&&(u.xa(s.la()),cO(u,s),a0(u,s.J),hO(u,s),uO(u,s.R),dO(u,s))}function kp(s,u){var m=null,y=null;return si(s,u.then(function(D){return m=aP(D),y=j$(D),function yAe(s,u){var m={};return m.apiKey=Sr(s).options.apiKey,m.authDomain=Sr(s).options.authDomain,m.appName=Sr(s).name,s.R&&(m.emulatorConfig=s.R),s.$.then(function(){return function cAe(s,u,m,y){var D=new Ta(s,u);return m&&(D.ha=m),y&&a0(D,y),D.reload().then(function(){return D})}(m,u,s.D,s.Ga())}).then(function(y){return Sn(s)&&y.uid==Sn(s).uid?(hT(Sn(s),y),s.da(y)):(Sv(s,y),l0(y),s.da(y))}).then(function(){c0(s)})}(s,D)},function(D){var P=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(P=gG(D.w(),s,De(s.kc,s))),P||D}).then(function(){return qu({user:Sn(s),credential:m,additionalUserInfo:y,operationType:"signIn"})}))}function Sr(s){return s.app}function Sn(s){return s.currentUser}function pT(s){return Sn(s)&&Sn(s)._lat||null}function c0(s){if(s.ba){for(var u=0;u<s.s.length;u++)s.s[u]&&s.s[u](pT(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),u=0;u<s.N.length;u++)s.N[u]&&s.N[u](pT(s))}}function si(s,u){return s.P.push(u),u.oa(function(){gS(s.P,u)}),u}function d0(){}function Tv(){this.a={},this.b=1e12}wO.prototype.yb=function(s){var u=null,m=this;return function IDe(s){var u=new ne("invalid-persistence-type"),m=new ne("unsupported-persistence-type");e:{for(y in yv)if(yv[y]==s){var y=!0;break e}y=!1}if(!y||"string"!=typeof s)throw u;switch(zu()){case"ReactNative":if("session"===s)throw m;break;case"Node":if("none"!==s)throw m;break;case"Worker":if("session"===s||!LP()&&"none"!==s)throw m;break;default:if(!UR()&&"none"!==s)throw m}}(s),Ev(this,function(){return s!=m.c.F?m.b.get(m.c,m.a).then(function(y){return u=y,CO(m,s)}).then(function(){if(m.c=Gu(s),u)return m.b.set(m.c,u,m.a)}):Rt()})},nt(Ql,As),nt(OG,Ys),nt(NG,Ys),nt(FG,Ys),(n=Ql.prototype).yb=function(s){return si(this,s=this.i.yb(s))},n.xa=function(s){this.aa===s||this.l||(this.aa=s,gW(this.a,this.aa),this.dispatchEvent(new OG(this.la())))},n.la=function(){return this.aa},n.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},n.gd=function(s,u){if(!this.R){if(!/^https?:\/\//.test(s))throw new ne("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function gAe(s){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&MS().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})})(u=!!u&&!!u.disableWarnings),this.R={url:s,ec:u},this.settings.jb=!0,JS(this.a,this.R),this.dispatchEvent(new NG(this.R))}},n.Gc=function(s){this.J.push(s),vW(this.a,it.default.SDK_VERSION?hv(it.default.SDK_VERSION,this.J):null),this.dispatchEvent(new FG(this.J))},n.Ga=function(){return up(this.J)},n.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:Sr(this).options.apiKey,authDomain:Sr(this).options.authDomain,appName:Sr(this).name,currentUser:Sn(this)&&Sn(this).w()}},n.Gb=function(s,u){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},n.na=function(s,u,m,y){"signInViaPopup"==s&&this.g==y&&(m&&this.C?this.C(m):u&&!m&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(s,u){return"signInViaRedirect"==s||"signInViaPopup"==s&&this.g==u&&this.f?De(this.ic,this):null},n.ic=function(s,u,m,y){var D=this,P={requestUri:s,postBody:y,sessionId:u,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return kp(D,AP(D.a,P))})},n.Xc=function(s){if(!vp())return jr(new ne("operation-not-supported-in-this-environment"));var u=this,m=tP(s.providerId),y=_p(),D=null;(!Vb()||VR())&&Sr(this).options.authDomain&&s.isOAuthProvider&&(D=t0(Sr(this).options.authDomain,Sr(this).options.apiKey,Sr(this).name,"signInViaPopup",s,null,y,it.default.SDK_VERSION||null,null,null,this.T(),this.R));var P=m$(D,m&&m.va,m&&m.ua);return si(this,m=SO(this).then(function(F){return sG(F,P,"signInViaPopup",s,y,!!D,u.T())}).then(function(){return new Fn(function(F,G){u.na("signInViaPopup",null,new ne("cancelled-popup-request"),u.g),u.f=F,u.C=G,u.g=y,u.c=lG(u.b,u,"signInViaPopup",P,y)})}).then(function(F){return P&&gp(P),F?qu(F):null}).o(function(F){throw P&&gp(P),F}))},n.Yc=function(s){if(!vp())return jr(new ne("operation-not-supported-in-this-environment"));var u=this,m=SO(this).then(function(){return function mAe(s){return Ev(s,function(){return s.b.set(EO,s.c.F,s.a)})}(u.i)}).then(function(){return aG(u.b,"signInViaRedirect",s,void 0,u.T())});return si(this,m)},n.ra=function(){var s=this;return LG(this).then(function(u){return s.b&&uT(s.b.b),u}).o(function(u){throw s.b&&uT(s.b.b),u})},n.dd=function(s){if(!s)return jr(new ne("null-user"));if(this.S!=s.tenantId)return jr(new ne("tenant-id-mismatch"));var u=this,m={};m.apiKey=Sr(this).options.apiKey,m.authDomain=Sr(this).options.authDomain,m.appName=Sr(this).name;var y=function dAe(s,u,m,y){var D=s.h,P={};return P[Yl]=D.b&&D.b.toString(),P.refreshToken=D.a,u=new Ta(u||{apiKey:s.l,authDomain:s.s,appName:s.m},P),m&&(u.ha=m),y&&a0(u,y),hT(u,s),u}(s,m,u.D,u.Ga());return si(this,this.h.then(function(){if(Sr(u).options.apiKey!=s.l)return y.reload()}).then(function(){return Sn(u)&&s.uid==Sn(u).uid?(hT(Sn(u),s),u.da(s)):(Sv(u,y),l0(y),u.da(y))}).then(function(){c0(u)}))},n.Bb=function(){var s=this;return si(this,this.h.then(function(){return s.b&&uT(s.b.b),Sn(s)?(Sv(s,null),RG(s.i).then(function(){c0(s)})):Rt()}))},n.Zc=function(){var s=this;return PG(this.i,Sr(this).options.authDomain).then(function(u){if(!s.l){var m;if(m=Sn(s)&&u){m=Sn(s).uid;var y=u.uid;m=null!=m&&""!==m&&null!=y&&""!==y&&m==y}if(m)return hT(Sn(s),u),Sn(s).I();(Sn(s)||u)&&(Sv(s,u),u&&(l0(u),u.ha=s.D),s.b&&aT(s.b,s),c0(s))}})},n.da=function(s){return xG(this.i,s)},n.mc=function(){c0(this),this.da(Sn(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(s){var u=this;return this.h.then(function(){return kp(u,Rt(s))})},n.zc=function(s){var u=this;this.addAuthTokenListener(function(){s.next(Sn(u))})},n.Ac=function(s){var u=this;!function EAe(s,u){s.N.push(u),si(s,s.h.then(function(){!s.l&&Yc(s.N,u)&&s.W!==s.getUid()&&(s.W=s.getUid(),u(pT(s)))}))}(this,function(){s.next(Sn(u))})},n.Ic=function(s,u,m){var y=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof s?s(Sn(y)):"function"==typeof s.next&&s.next(Sn(y))}),this.Pa(s,u,m)},n.Hc=function(s,u,m){var y=this;return this.ba&&Promise.resolve().then(function(){y.W=y.getUid(),"function"==typeof s?s(Sn(y)):"function"==typeof s.next&&s.next(Sn(y))}),this.ib(s,u,m)},n.nc=function(s){var u=this;return si(this,this.h.then(function(){return Sn(u)?Sn(u).I(s).then(function(y){return{accessToken:y}}):null}))},n.Tc=function(s){var u=this;return this.h.then(function(){return kp(u,zn(u.a,rDe,{token:s}))}).then(function(m){var y=m.user;return yh(y,"isAnonymous",!1),u.da(y),m})},n.Uc=function(s,u){var m=this;return this.h.then(function(){return kp(m,zn(m.a,DW,{email:s,password:u}))})},n.dc=function(s,u){var m=this;return this.h.then(function(){return kp(m,zn(m.a,OTe,{email:s,password:u}))})},n.ab=function(s){var u=this;return this.h.then(function(){return kp(u,s.ka(u.a))})},n.Sc=function(s){return HR("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},n.Ab=function(){var s=this;return this.h.then(function(){var u=Sn(s);if(u&&u.isAnonymous){var m=qu({providerId:null,isNewUser:!1});return qu({user:u,credential:null,additionalUserInfo:m,operationType:"signIn"})}return kp(s,s.a.Ab()).then(function(y){var D=y.user;return yh(D,"isAnonymous",!0),s.da(D),y})})},n.getUid=function(){return Sn(this)&&Sn(this).uid||null},n.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Sn(this)&&wG(Sn(this))},n.Pc=function(s){var u=this;ar(this.s,function(m){m==s&&u.u--}),0>this.u&&(this.u=0),0==this.u&&Sn(this)&&pO(Sn(this)),this.removeAuthTokenListener(s)},n.addAuthTokenListener=function(s){var u=this;this.s.push(s),si(this,this.h.then(function(){u.l||Yc(u.s,s)&&s(pT(u))}))},n.removeAuthTokenListener=function(s){ql(this.s,function(u){return u==s})},n.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i).b.removeListener(Gu("local"),s.a,this.ja),this.b&&(QP(this.b,this),uT(this.b.b)),Promise.resolve()},n.hc=function(s){return si(this,function TTe(s,u){return zn(s,NTe,{identifier:u,continueUri:xS()?Lb():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.a,s))},n.Bc=function(s){return!!sP(s)},n.xb=function(s,u){var m=this;return si(this,Rt().then(function(){var y=new PS(u);if(!y.c)throw new ne("argument-error",JR+" must be true when sending sign in link to email");return OS(y)}).then(function(y){return m.a.xb(s,y)}).then(function(){}))},n.jd=function(s){return this.Sa(s).then(function(u){return u.data.email})},n.ob=function(s,u){return si(this,this.a.ob(s,u).then(function(){}))},n.Sa=function(s){return si(this,this.a.Sa(s).then(function(u){return new NSe(u)}))},n.kb=function(s){return si(this,this.a.kb(s).then(function(){}))},n.wb=function(s,u){var m=this;return si(this,Rt().then(function(){return void 0===u||cp(u)?{}:OS(new PS(u))}).then(function(y){return m.a.wb(s,y)}).then(function(){}))},n.Wc=function(s,u){return si(this,tO(this,s,u,De(this.ab,this)))},n.Vc=function(s,u){var m=this;return si(this,Rt().then(function(){var y=u||Lb(),D=J$(s,y);if(!(y=sP(y)))throw new ne("argument-error","Invalid email link!");if(y.tenantId!==m.T())throw new ne("tenant-id-mismatch");return m.ab(D)}))},d0.prototype.render=function(){},d0.prototype.reset=function(){},d0.prototype.getResponse=function(){},d0.prototype.execute=function(){};var TO=null;function DO(s,u){return(u=VG(u))&&s.a[u]||null}function VG(s){return(s=void 0===s?1e12:s)?s.toString():null}function mT(s,u){this.g=!1,this.c=u,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Mb(s);var m=this;this.i=function(){m.execute()},this.h?this.execute():sl(this.f,"click",this.i)}function AO(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function IO(){}function kO(){}Tv.prototype.render=function(s,u){return this.a[this.b.toString()]=new mT(s,u),this.b++},Tv.prototype.reset=function(s){var u=DO(this,s);s=VG(s),u&&s&&(u.delete(),delete this.a[s])},Tv.prototype.getResponse=function(s){return(s=DO(this,s))?s.getResponse():null},Tv.prototype.execute=function(s){(s=DO(this,s))&&s.execute()},mT.prototype.getResponse=function(){return AO(this),this.b},mT.prototype.execute=function(){AO(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=function kSe(){for(var s=50,u=[];0<s;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return u.join("")}();var u=s.c.callback,m=s.c["expired-callback"];if(u)try{u(s.b)}catch(y){}s.a=setTimeout(function(){if(s.a=null,s.b=null,m)try{m()}catch(y){}s.h&&s.execute()},6e4)},500))},mT.prototype.delete=function(){AO(this),this.g=!0,clearTimeout(this.a),this.a=null,Ea(this.f,"click",this.i)},vt(IO,"FACTOR_ID","phone"),kO.prototype.g=function(){return TO||(TO=new Tv),Rt(TO)},kO.prototype.c=function(){};var MO=null;function xO(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var SAe=new ju(vS,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),TAe=new gh(3e4,6e4);xO.prototype.g=function(s){var u=this;return new Fn(function(m,y){var D=setTimeout(function(){y(new ne("network-request-failed"))},TAe.get());!c.grecaptcha||s!==u.f&&!u.b?(c[u.a]=function(){if(c.grecaptcha){u.f=s;var F=c.grecaptcha.render;c.grecaptcha.render=function(G,he){return G=F(G,he),u.b++,G},clearTimeout(D),m(c.grecaptcha)}else clearTimeout(D),y(new ne("internal-error"));delete c[u.a]},Rt(bP(dR(SAe,{onload:u.a,hl:s||""}))).o(function(){clearTimeout(D),y(new ne("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),m(c.grecaptcha))})},xO.prototype.c=function(){this.b--};var RO=null;function PO(s,u,m,y,D,P,F){if(vt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,F?(MO||(MO=new kO),F=MO):(RO||(RO=new xO),F=RO),this.m=F,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[jG])throw new ne("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[DAe],!c.document)throw new ne("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Mb(u)||!this.i&&Mb(u).hasChildNodes())throw new ne("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Kl(s,P||null,D||null),this.u=y||function(){return null};var G=this;this.l=[];var he=this.a[BG];this.a[BG]=function(on){if(HG(G,on),"function"==typeof he)he(on);else if("string"==typeof he){var br=Hr(he,c);"function"==typeof br&&br(on)}};var Pe=this.a[UG];this.a[UG]=function(){if(HG(G,null),"function"==typeof Pe)Pe();else if("string"==typeof Pe){var on=Hr(Pe,c);"function"==typeof on&&on()}}}var BG="callback",UG="expired-callback",jG="sitekey",DAe="size";function HG(s,u){for(var m=0;m<s.l.length;m++)try{s.l[m](u)}catch(y){}}function OO(s,u){return s.h.push(u),u.oa(function(){gS(s.h,u)}),u}function gT(s){if(s.J)throw new ne("internal-error","RecaptchaVerifier instance has been destroyed.")}function NO(s,u,m){var y=!1;try{this.b=m||it.default.app()}catch(F){throw new ne("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ne("invalid-api-key");m=this.b.options.apiKey;var D=this,P=null;try{P=this.b.auth().Ga()}catch(F){}try{y=this.b.auth().settings.appVerificationDisabledForTesting}catch(F){}P=it.default.SDK_VERSION?hv(it.default.SDK_VERSION,P):null,PO.call(this,m,s,u,function(){try{var F=D.b.auth().la()}catch(G){F=null}return F},P,ot(bt),y)}function zG(s,u,m,y){e:{m=Array.prototype.slice.call(m);for(var D=0,P=!1,F=0;F<u.length;F++)if(u[F].optional)P=!0;else{if(P)throw new ne("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(P=u.length,m.length<D||P<m.length)y="Expected "+(D==P?1==D?"1 argument":D+" arguments":D+"-"+P+" arguments")+" but got "+m.length+".";else{for(D=0;D<m.length;D++)if(P=u[D].optional&&void 0===m[D],!u[D].M(m[D])&&!P){if(u=u[D],0>D||D>=qG.length)throw new ne("internal-error","Argument validator received an unsupported number of arguments.");m=qG[D],y=(y?"":m+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}y=null}}if(y)throw new ne("argument-error",s+" failed: "+y)}(n=PO.prototype).Ia=function(){var s=this;return this.f?this.f:this.f=OO(this,Rt().then(function(){if(xS()&&!Wl())return MS();throw new ne("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(u){return s.g=u,zn(s.s,KTe,{})}).then(function(u){s.a[jG]=u.recaptchaSiteKey}).o(function(u){throw s.f=null,u}))},n.render=function(){gT(this);var s=this;return OO(this,this.Ia().then(function(){if(null===s.c){var u=s.v;if(!s.i){var m=Mb(u);u=function JEe(s,u,m){var y=arguments,D=document,P=String(y[0]),F=y[1];if(!ZEe&&F&&(F.name||F.type)){if(P=["<",P],F.name&&P.push(' name="',hR(F.name),'"'),F.type){P.push(' type="',hR(F.type),'"');var G={};Gs(G,F),delete G.type,F=G}P.push(">"),P=P.join("")}return P=wS(D,P),F&&("string"==typeof F?P.className=F:Array.isArray(F)?P.className=F.join(" "):kq(P,F)),2<y.length&&eSe(D,P,y),P}("DIV"),m.appendChild(u)}s.c=s.g.render(u,s.a)}return s.c}))},n.verify=function(){gT(this);var s=this;return OO(this,this.render().then(function(u){return new Fn(function(m){var y=s.g.getResponse(u);if(y)m(y);else{var D=function(P){P&&(function AAe(s,u){ql(s.l,function(m){return m==u})}(s,D),m(P))};s.l.push(D),s.i&&s.g.execute(s.c)}})}))},n.reset=function(){gT(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){gT(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=Mb(this.v);for(var u;u=s.firstChild;)s.removeChild(u)}},nt(NO,PO);var qG="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pt(s,u){return{name:s||"",K:"a valid string",optional:!!u,M:function(m){return"string"==typeof m}}}function FO(s,u){return{name:s||"",K:"a boolean",optional:!!u,M:function(m){return"boolean"==typeof m}}}function Oi(s,u){return{name:s||"",K:"a valid object",optional:!!u,M:z}}function Dv(s,u){return{name:s||"",K:"a function",optional:!!u,M:function(m){return"function"==typeof m}}}function Ku(s,u){return{name:s||"",K:"null",optional:!!u,M:function(m){return null===m}}}function bh(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(u){return!!u&&!(!u.ka||s&&u.providerId!==s)}}}function LO(s,u){return z(s)&&"string"==typeof s.type&&s.type===u&&"function"==typeof s.Ha}function WG(s){return z(s)&&"string"==typeof s.uid}function bi(s,u,m,y){return{name:m||"",K:s.K+" or "+u.K,optional:!!y,M:function(D){return s.M(D)||u.M(D)}}}function Qr(s,u){for(var m in u){var y=u[m].name;s[y]=KG(y,s[m],u[m].j)}}function GG(s,u){for(var m in u){var y=u[m].name;y!==m&&Object.defineProperty(s,y,{get:xt(function(D){return this[D]},m),set:xt(function(D,P,F,G){zG(D,[F],[G],!0),this[P]=G},y,m,u[m].lb),enumerable:!0})}}function wi(s,u,m,y){s[u]=KG(u,m,y)}function KG(s,u,m){function y(){var F=Array.prototype.slice.call(arguments);return zG(D,m,F),u.apply(this,F)}if(!m)return u;var P,D=function xAe(s){return(s=s.split("."))[s.length-1]}(s);for(P in u)y[P]=u[P];for(P in u.prototype)y.prototype[P]=u.prototype[P];return y}Qr(Ql.prototype,{kb:{name:"applyActionCode",j:[pt("code")]},Sa:{name:"checkActionCode",j:[pt("code")]},ob:{name:"confirmPasswordReset",j:[pt("code"),pt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pt("email"),pt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[bi(Oi(),Dv(),"nextOrObserver"),Dv("opt_error",!0),Dv("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[bi(Oi(),Dv(),"nextOrObserver"),Dv("opt_error",!0),Dv("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pt("email"),bi(Oi("opt_actionCodeSettings",!0),Ku(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pt("email"),Oi("actionCodeSettings")]},yb:{name:"setPersistence",j:[pt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bh()]},Tc:{name:"signInWithCustomToken",j:[pt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pt("email"),pt("password")]},Vc:{name:"signInWithEmailLink",j:[pt("email"),pt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||"string"!=typeof s.type||"function"!=typeof s.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[bi({name:"user",K:"an instance of Firebase User",optional:!1,M:function(u){return!!(u&&u instanceof Ta)}},Ku(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pt("url"),Oi("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pt("code")]}}),GG(Ql.prototype,{lc:{name:"languageCode",lb:bi(pt(),Ku(),"languageCode")},ti:{name:"tenantId",lb:bi(pt(),Ku(),"tenantId")}}),(Ql.Persistence=yv).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",Qr(Ta.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[FO("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[FO("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bh()]},rb:{name:"linkWithCredential",j:[bh()]},Dc:{name:"linkWithPhoneNumber",j:[pt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||"string"!=typeof s.type||"function"!=typeof s.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bh()]},ub:{name:"reauthenticateWithCredential",j:[bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||"string"!=typeof s.type||"function"!=typeof s.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[bi(Oi("opt_actionCodeSettings",!0),Ku(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pt(null,!0)]},cd:{name:"unlink",j:[pt("provider")]},Cb:{name:"updateEmail",j:[pt("email")]},Db:{name:"updatePassword",j:[pt("password")]},ed:{name:"updatePhoneNumber",j:[bh("phone")]},Eb:{name:"updateProfile",j:[Oi("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pt("email"),bi(Oi("opt_actionCodeSettings",!0),Ku(null,!0),"opt_actionCodeSettings",!0)]}}),Qr(Tv.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qr(d0.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qr(Fn.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),GG(fG.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:FO("appVerificationDisabledForTesting")}}),Qr(eO.prototype,{confirm:{name:"confirm",j:[pt("verificationCode")]}}),wi(mv,"fromJSON",function(s){s="string"==typeof s?JSON.parse(s):s;for(var u,m=[JSe,eTe,tTe,ZSe],y=0;y<m.length;y++)if(u=m[y](s))return u;return null},[bi(pt(),Oi(),"json")]),wi(ll,"credential",function(s,u){return new vh(s,u)},[pt("email"),pt("password")]),Qr(vh.prototype,{w:{name:"toJSON",j:[pt(null,!0)]}}),Qr(wp.prototype,{Ca:{name:"addScope",j:[pt("scope")]},Ka:{name:"setCustomParameters",j:[Oi("customOAuthParameters")]}}),wi(wp,"credential",Y$,[bi(pt(),Oi(),"token")]),wi(ll,"credentialWithLink",J$,[pt("email"),pt("emailLink")]),Qr(Cp.prototype,{Ca:{name:"addScope",j:[pt("scope")]},Ka:{name:"setCustomParameters",j:[Oi("customOAuthParameters")]}}),wi(Cp,"credential",Q$,[bi(pt(),Oi(),"token")]),Qr(Ep.prototype,{Ca:{name:"addScope",j:[pt("scope")]},Ka:{name:"setCustomParameters",j:[Oi("customOAuthParameters")]}}),wi(Ep,"credential",X$,[bi(pt(),bi(Oi(),Ku()),"idToken"),bi(pt(),Ku(),"accessToken",!0)]),Qr(vv.prototype,{Ka:{name:"setCustomParameters",j:[Oi("customOAuthParameters")]}}),wi(vv,"credential",Z$,[bi(pt(),Oi(),"token"),pt("secret",!0)]),Qr(Sa.prototype,{Ca:{name:"addScope",j:[pt("scope")]},credential:{name:"credential",j:[bi(pt(),bi(Oi(),Ku()),"optionsOrIdToken"),bi(pt(),Ku(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Oi("customOAuthParameters")]}}),Qr(Xc.prototype,{w:{name:"toJSON",j:[pt(null,!0)]}}),Qr(yp.prototype,{w:{name:"toJSON",j:[pt(null,!0)]}}),wi(Zc,"credential",eW,[pt("verificationId"),pt("verificationCode")]),Qr(Zc.prototype,{gb:{name:"verifyPhoneNumber",j:[bi(pt(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(m){return!!m&&(m.session&&m.phoneNumber?LO(m.session,qb)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?LO(m.session,BS)&&WG(m.multiFactorHint):m.session&&m.multiFactorUid?LO(m.session,BS)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||"string"!=typeof s.type||"function"!=typeof s.verify)}}]}}),Qr(_h.prototype,{w:{name:"toJSON",j:[pt(null,!0)]}}),Qr(ne.prototype,{toJSON:{name:"toJSON",j:[pt(null,!0)]}}),Qr(Wb.prototype,{toJSON:{name:"toJSON",j:[pt(null,!0)]}}),Qr(cP.prototype,{toJSON:{name:"toJSON",j:[pt(null,!0)]}}),Qr(rO.prototype,{toJSON:{name:"toJSON",j:[pt(null,!0)]}}),Qr(nO.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return!!s&&!!s.tb}}]}}),Qr(oO.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return!!s&&!!s.tb}},pt("displayName",!0)]},bd:{name:"unenroll",j:[bi({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:WG},pt(),"multiFactorInfoIdentifier")]}}),Qr(NO.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),wi(ZR,"parseLink",x$,[pt("link")]),wi(IO,"assertion",function(s){return new _G(s)},[bh("phone")]),function(){if(void 0===it.default||!it.default.INTERNAL||!it.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:RS,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:XR,VERIFY_AND_CHANGE_EMAIL:Hb,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:mv,Error:ne};wi(s,"EmailAuthProvider",ll,[]),wi(s,"FacebookAuthProvider",wp,[]),wi(s,"GithubAuthProvider",Cp,[]),wi(s,"GoogleAuthProvider",Ep,[]),wi(s,"TwitterAuthProvider",vv,[]),wi(s,"OAuthProvider",Sa,[pt("providerId")]),wi(s,"SAMLAuthProvider",K$,[pt("providerId")]),wi(s,"PhoneAuthProvider",Zc,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Ql)}}]),wi(s,"RecaptchaVerifier",NO,[bi(pt(),{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}},"recaptchaContainer"),Oi("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof it.default.app.App)}}]),wi(s,"ActionCodeURL",ZR,[]),wi(s,"PhoneMultiFactorGenerator",IO,[]),it.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return new Ql(u=u.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),it.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return{getUid:De((u=u.getProvider("auth").getImmediate()).getUid,u),getToken:De(u.nc,u),addAuthTokenListener:De(u.cc,u),removeAuthTokenListener:De(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),it.default.registerVersion("@firebase/auth","0.16.8"),it.default.INTERNAL.extendNamespace({User:Ta})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),_t(89);var gt=_t(492),_s=_t(3),dk=function(n,e){return(dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function kV(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ut,ese="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hk=hk||{},an=ese||self;function z1(){}function fk(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pk="closure_uid_"+(1e9*Math.random()>>>0),nse=0;function rse(n,e,t){return n.call.apply(n.bind,arguments)}function ise(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function To(n,e,t){return(To=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rse:ise).apply(null,arguments)}function q1(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Do(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(r,a)}}function Od(){this.s=this.s,this.o=this.o}var sse={};Od.prototype.s=!1,Od.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function tse(n){return Object.prototype.hasOwnProperty.call(n,pk)&&n[pk]||(n[pk]=++nse)}(this);delete sse[n]}},Od.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var MV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(var t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xV=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){for(var r=n.length,i="string"==typeof n?n.split(""):n,o=0;o<r;o++)o in i&&e.call(t,i[o],o,n)};function RV(n){return Array.prototype.concat.apply([],arguments)}function mk(n){var e=n.length;if(0<e){for(var t=Array(e),r=0;r<e;r++)t[r]=n[r];return t}return[]}function $1(n){return/^[\s\xa0]*$/.test(n)}var bs,PV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ys(n,e){return-1!=n.indexOf(e)}function gk(n,e){return n<e?-1:n>e?1:0}e:{var OV=an.navigator;if(OV){var NV=OV.userAgent;if(NV){bs=NV;break e}}bs=""}function vk(n,e,t){for(var r in n)e.call(t,n[r],r,n)}function FV(n){var e={};for(var t in n)e[t]=n[t];return e}var LV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VV(n,e){for(var t,r,i=1;i<arguments.length;i++){for(t in r=arguments[i])n[t]=r[t];for(var o=0;o<LV.length;o++)t=LV[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _k(n){return _k[" "](n),n}_k[" "]=z1;var W1,n,use=ys(bs,"Opera"),tg=ys(bs,"Trident")||ys(bs,"MSIE"),BV=ys(bs,"Edge"),yk=BV||tg,UV=ys(bs,"Gecko")&&!(ys(bs.toLowerCase(),"webkit")&&!ys(bs,"Edge"))&&!(ys(bs,"Trident")||ys(bs,"MSIE"))&&!ys(bs,"Edge"),cse=ys(bs.toLowerCase(),"webkit")&&!ys(bs,"Edge");function jV(){var n=an.document;return n?n.documentMode:void 0}e:{var bk="",wk=(n=bs,UV?/rv:([^\);]+)(\)|;)/.exec(n):BV?/Edge\/([\d\.]+)/.exec(n):tg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cse?/WebKit\/(\S+)/.exec(n):use?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wk&&(bk=wk?wk[1]:""),tg){var Ck=jV();if(null!=Ck&&Ck>parseFloat(bk)){W1=String(Ck);break e}}W1=bk}var dse={};var fse=an.document&&tg&&(jV()||parseInt(W1,10))||void 0,pse=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",z1,e),an.removeEventListener("test",z1,e)}catch(t){}return n}();function Zo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function py(n,e){if(Zo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(UV){e:{try{_k(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mse[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&py.Z.h.call(this)}}Zo.prototype.h=function(){this.defaultPrevented=!0},Do(py,Zo);var mse={2:"touch",3:"pen",4:"mouse"};py.prototype.h=function(){py.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var my="closure_listenable_"+(1e6*Math.random()|0),gse=0;function vse(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++gse,this.ca=this.fa=!1}function G1(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function K1(n){this.src=n,this.g={},this.h=0}function Sk(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=MV(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(G1(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tk(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==r)return i}return-1}K1.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=Tk(n,e,r,i);return-1<a?(e=n[a],t||(e.fa=!1)):((e=new vse(e,this.src,o,!!r,i)).fa=t,n.push(e)),e};var Dk="closure_lm_"+(1e6*Math.random()|0),Ak={};function zV(n,e,t,r,i){if(r&&r.once)return $V(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zV(n,e[o],t,r,i);return null}return t=xk(t),n&&n[my]?n.N(e,t,fy(r)?!!r.capture:!!r,i):qV(n,e,t,!1,r,i)}function qV(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var a=fy(i)?!!i.capture:!!i,l=kk(n);if(l||(n[Dk]=l=new K1(n)),(t=l.add(e,t,r,a,o)).proxy)return t;if(r=function _se(){var e=yse;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pse||(i=a),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(GV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function $V(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$V(n,e[o],t,r,i);return null}return t=xk(t),n&&n[my]?n.O(e,t,fy(r)?!!r.capture:!!r,i):qV(n,e,t,!0,r,i)}function WV(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)WV(n,e[o],t,r,i);else r=fy(r)?!!r.capture:!!r,t=xk(t),n&&n[my]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tk(o=n.g[e],t,r,i))&&(G1(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=kk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tk(e,t,r,i)),(t=-1<n?e[n]:null)&&Ik(t))}function Ik(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[my])Sk(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(GV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kk(e))?(Sk(t,n),0==t.h&&(t.src=null,e[Dk]=null)):G1(n)}}}function GV(n){return n in Ak?Ak[n]:Ak[n]="on"+n}function yse(n,e){if(n.ca)n=!0;else{e=new py(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ik(n),n=t.call(r,e)}return n}function kk(n){return(n=n[Dk])instanceof K1?n:null}var Mk="__closure_events_fn_"+(1e9*Math.random()>>>0);function xk(n){return"function"==typeof n?n:(n[Mk]||(n[Mk]=function(e){return n.handleEvent(e)}),n[Mk])}function uo(){Od.call(this),this.i=new K1(this),this.P=this,this.I=null}function Ao(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Zo(e,n);else if(e instanceof Zo)e.target=e.target||n;else{var i=e;VV(e=new Zo(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.g=t[o];i=Y1(a,r,!0,e)&&i}if(i=Y1(a=e.g=n,r,!0,e)&&i,i=Y1(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Y1(a=e.g=t[o],r,!1,e)&&i}function Y1(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==t){var l=a.listener,c=a.ia||a.src;a.fa&&Sk(n.i,a),i=!1!==l.call(c,r)&&i}}return i&&!r.defaultPrevented}Do(uo,Od),uo.prototype[my]=!0,uo.prototype.removeEventListener=function(n,e,t,r){WV(this,n,e,t,r)},uo.prototype.M=function(){if(uo.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)G1(t[r]);delete n.g[e],n.h--}}this.I=null},uo.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},uo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Rk=an.JSON.stringify;function bse(){var n=YV,e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ok,wse=function(){function n(){this.h=this.g=null}return n.prototype.add=function(e,t){var r=KV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r},n}(),KV=new(function(){function n(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return n.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},n}())(function(){return new Cse},function(n){return n.reset()}),Cse=function(){function n(){this.next=this.g=this.h=null}return n.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},n.prototype.reset=function(){this.next=this.g=this.h=null},n}();function Ese(n){an.setTimeout(function(){throw n},0)}function Pk(n,e){Ok||function Sse(){var n=an.Promise.resolve(void 0);Ok=function(){n.then(Tse)}}(),Nk||(Ok(),Nk=!0),YV.add(n,e)}var Nk=!1,YV=new wse;function Tse(){for(var n;n=bse();){try{n.h.call(n.g)}catch(t){Ese(t)}var e=KV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nk=!1}function Q1(n,e){uo.call(this),this.h=n||1,this.g=e||an,this.j=To(this.kb,this),this.l=Date.now()}function Fk(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Lk(n,e,t){if("function"==typeof n)t&&(n=To(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=To(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function QV(n){n.g=Lk(function(){n.g=null,n.i&&(n.i=!1,QV(n))},n.j);var e=n.h;n.h=null,n.m.apply(null,e)}Do(Q1,uo),(ut=Q1.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ao(this,"tick"),this.da&&(Fk(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Q1.Z.M.call(this),Fk(this),delete this.g};var Dse=function(n){function e(t,r){var i=n.call(this)||this;return i.m=t,i.j=r,i.h=null,i.i=!1,i.g=null,i}return function Joe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}dk(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:QV(this)},e.prototype.M=function(){n.prototype.M.call(this),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Od);function gy(n){Od.call(this),this.h=n,this.g={}}Do(gy,Od);var XV=[];function ZV(n,e,t,r){Array.isArray(t)||(t&&(XV[0]=t.toString()),t=XV);for(var i=0;i<t.length;i++){var o=zV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function JV(n){vk(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ik(e)},n),n.g={}}function X1(){this.g=!0}function ng(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mse(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rk(t)}catch(l){return e}}(n,t)+(r?" "+r:"")})}gy.prototype.M=function(){gy.Z.M.call(this),JV(this)},gy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},X1.prototype.Aa=function(){this.g=!1},X1.prototype.info=function(){};var bf={},eB=null;function Z1(){return eB=eB||new uo}function tB(n){Zo.call(this,bf.Ma,n)}function vy(n){var e=Z1();Ao(e,new tB(e,n))}function nB(n,e){Zo.call(this,bf.STAT_EVENT,n),this.stat=e}function ws(n){var e=Z1();Ao(e,new nB(e,n))}function rB(n,e){Zo.call(this,bf.Na,n),this.size=e}function _y(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}bf.Ma="serverreachability",Do(tB,Zo),bf.STAT_EVENT="statevent",Do(nB,Zo),bf.Na="timingevent",Do(rB,Zo);var J1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vk(){}function sB(){}Vk.prototype.h=null;var jk,yy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bk(){Zo.call(this,"d")}function Uk(){Zo.call(this,"c")}function eC(){}function by(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new gy(this),this.P=xse,this.W=new Q1(n=yk?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aB}function aB(){this.i=null,this.g="",this.h=!1}Do(Bk,Zo),Do(Uk,Zo),Do(eC,Vk),eC.prototype.g=function(){return new XMLHttpRequest},eC.prototype.i=function(){return{}},jk=new eC;var xse=45e3,Hk={},tC={};function zk(n,e,t){n.K=1,n.v=sC(Rc(e)),n.s=t,n.U=!0,lB(n,null)}function lB(n,e){n.F=Date.now(),wy(n),n.A=Rc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),vB(t.h,"t",r),n.C=0,t=n.l.H,n.h=new aB,n.g=UB(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Dse(To(n.Ia,n,n.g),n.O)),ZV(n.V,n.g,"readystatechange",n.gb),e=n.H?FV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),vy(1),function Ase(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var a="",l=o.split("&"),c=0;c<l.length;c++){var p=l[c].split("=");if(1<p.length){var v=p[0];p=p[1];var b=v.split("_");a=2<=b.length&&"type"==b[1]?a+(v+"=")+p+"&":a+(v+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function uB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function cB(n,e,t){for(var i,r=!0;!n.I&&n.C<t.length;){if((i=Rse(n,t))==tC){4==e&&(n.o=4,ws(14),r=!1),ng(n.j,n.m,null,"[Incomplete Response]");break}if(i==Hk){n.o=4,ws(15),ng(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ng(n.j,n.m,i,null),qk(n,i)}uB(n)&&i!=tC&&i!=Hk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),tM(e),e.L=!0,ws(11))):(ng(n.j,n.m,t,"[Invalid Chunked Response]"),wf(n),Cy(n))}function Rse(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tC:(t=Number(e.substring(t,r)),isNaN(t)?Hk:(r+=1)+t>e.length?tC:(e=e.substr(r,t),n.C=r+t,e))}function wy(n){n.Y=Date.now()+n.P,dB(n,n.P)}function dB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_y(To(n.eb,n),e)}function nC(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function Cy(n){0==n.l.G||n.I||FB(n.l,n)}function wf(n){nC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fk(n.W),JV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qk(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gk(t.i,n)))if(t.I=n.N,!n.J&&Gk(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(z){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=_y(To(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;hC(t),cC(t)}eM(t),ws(18)}if(1>=bB(t.i)&&t.ka){try{t.ka()}catch(z){}t.ka=void 0}}else Sf(t,11)}else if((n.J||t.g==n)&&hC(t),!$1(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(t.U=o[0],o=o[1],2==t.G)if("c"==o[0]){t.J=o[1],t.la=o[2];var a=o[3];null!=a&&(t.ma=a,t.h.info("VER="+t.ma));var l=o[4];null!=l&&(t.za=l,t.h.info("SVER="+t.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(t.K=r=1.5*c,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;var p=n.g;if(p){var v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var b=r.i;!b.g&&(ys(v,"spdy")||ys(v,"quic")||ys(v,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Kk(b,b.h),b.h=null))}if(r.D){var w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.sa=w,Ur(r.F,r.D,w))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var I=n;if((r=t).oa=BB(r,r.H?r.la:null,r.W),I.J){wB(r.i,I);var R=I,N=r.K;N&&R.setTimeout(N),R.B&&(nC(R),wy(R)),r.g=I}else OB(r);0<t.l.length&&dC(t)}else"stop"!=o[0]&&"close"!=o[0]||Sf(t,7);else 3==t.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Sf(t,7):Zk(t):"noop"!=o[0]&&t.j&&t.j.wa(o),t.A=0)}vy(4)}catch(z){}}function $k(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fk(n)||"string"==typeof n)xV(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(fk(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Pse(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(fk(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}}function rg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof rg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Wk(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=by.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;var e=this.L;e&&3==Pc(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{var e=Pc(this.g),t=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||yk||this.g&&(this.h.h||this.g.ga()||kB(this.g)))){this.I||4!=e||7==t||vy(8==t||0>=r?3:2),nC(this);var i=this.g.ba();this.N=i;t:if(uB(this)){var o=kB(this.g);n="";var a=o.length,l=4==Pc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wf(this),Cy(this);var c="";break t}this.h.i=new an.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,n+=this.h.i.decode(o[t],{stream:l&&t==a-1});o.splice(0,a),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function Ise(n,e,t,r,i,o,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$1(p)){var b=p;break t}}b=null}if(!(i=b)){this.i=!1,this.o=3,ws(12),wf(this),Cy(this);break e}ng(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qk(this,i)}this.U?(cB(this,e,c),yk&&this.i&&3==e&&(ZV(this.V,this.W,"tick",this.fb),this.W.start())):(ng(this.j,this.m,c,null),qk(this,c)),4==e&&wf(this),this.i&&!this.I&&(4==e?FB(this.l,this):(this.i=!1,wy(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),wf(this),Cy(this)}}}catch(w){}},ut.fb=function(){if(this.g){var n=Pc(this.g),e=this.g.ga();this.C<e.length&&(nC(this),cB(this,n,e),this.i&&4!=n&&wy(this))}},ut.cancel=function(){this.I=!0,wf(this)},ut.eb=function(){this.B=null;var n=Date.now();0<=n-this.Y?(function kse(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vy(3),ws(17)),wf(this),this.o=2,Cy(this)):dB(this,this.Y-n)},(ut=rg.prototype).R=function(){Wk(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Wk(this),this.g.concat()},ut.get=function(n,e){return Cf(this.h,n)?this.h[n]:e},ut.set=function(n,e){Cf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],o=this.get(i);n.call(e,o,i,this)}};var hB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ef(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ef){this.g=void 0!==e?e:n.g,rC(this,n.j),this.s=n.s,iC(this,n.i),oC(this,n.m),this.l=n.l,e=n.h;var t=new Ty;t.i=e.i,e.g&&(t.g=new rg(e.g),t.h=e.h),fB(this,t),this.o=n.o}else n&&(t=String(n).match(hB))?(this.g=!!e,rC(this,t[1]||"",!0),this.s=Ey(t[2]||""),iC(this,t[3]||"",!0),oC(this,t[4]),this.l=Ey(t[5]||"",!0),fB(this,t[6]||"",!0),this.o=Ey(t[7]||"")):(this.g=!!e,this.h=new Ty(null,this.g))}function Rc(n){return new Ef(n)}function rC(n,e,t){n.j=t?Ey(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iC(n,e,t){n.i=t?Ey(e,!0):e}function oC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fB(n,e,t){e instanceof Ty?(n.h=e,function Hse(n,e){e&&!n.j&&(Nd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mB(this,r),vB(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Sy(e,Use)),n.h=new Ty(e,n.g))}function Ur(n,e,t){n.h.set(e,t)}function sC(n){return Ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ey(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Lse),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lse(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ef.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sy(e,pB,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sy(e,pB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sy(t,"/"==t.charAt(0)?Bse:Vse,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sy(t,jse)),n.join("")};var pB=/[#\/\?@]/g,Vse=/[#\?:]/g,Bse=/[#\?]/g,Use=/[#\?@]/g,jse=/#/g;function Ty(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nd(n){n.g||(n.g=new rg,n.h=0,n.i&&function Ose(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mB(n,e){Nd(n),e=ig(n,e),Cf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Wk(n)))}function gB(n,e){return Nd(n),e=ig(n,e),Cf(n.g.h,e)}function vB(n,e,t){mB(n,e),0<t.length&&(n.i=null,n.g.set(ig(n,e),mk(t)),n.h+=t.length)}function ig(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ut=Ty.prototype).add=function(n,e){Nd(this),this.i=null,n=ig(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){Nd(this),this.g.forEach(function(t,r){xV(t,function(i){n.call(e,i,r,this)},this)},this)},ut.T=function(){Nd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],o=0;o<i.length;o++)t.push(e[r]);return t},ut.R=function(n){Nd(this);var e=[];if("string"==typeof n)gB(this,n)&&(e=RV(e,this.g.get(ig(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=RV(e,n[t])}return e},ut.set=function(n,e){return Nd(this),this.i=null,gB(this,n=ig(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),n.push(a)}}return this.i=n.join("&")};var zse=function n(e,t){this.h=e,this.g=t};function _B(n){this.l=n||qse,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ea&&an.g.Ea()&&an.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qse=10;function yB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bB(n){return n.h?1:n.g?n.g.size:0}function Gk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Kk(n,e){n.g?n.g.add(e):n.h=e}function wB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CB(n){var e,t;if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){var r=n.i;try{for(var i=kV(n.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}return mk(n.i)}function Yk(){}function $se(){this.g=new Yk}function Wse(n,e,t){var r=t||"";try{$k(n,function(i,o){var a=i;fy(i)&&(a=Rk(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Dy(n){this.l=n.$b||null,this.j=n.ib||!1}function lC(n,e){uo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Qk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_B.prototype.cancel=function(){var n,e;if(this.i=CB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=kV(this.g.values()),r=t.next();!r.done;r=t.next())r.value.cancel()}catch(o){n={error:o}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}this.g.clear()}},Yk.prototype.stringify=function(n){return an.JSON.stringify(n,void 0)},Yk.prototype.parse=function(n){return an.JSON.parse(n,void 0)},Do(Dy,Vk),Dy.prototype.g=function(){return new lC(this.l,this.j)},Dy.prototype.i=function(n){return function(){return n}}({}),Do(lC,uo);var Qk=0;function EB(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ay(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Iy(n)}function Iy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=lC.prototype).open=function(n,e){if(this.readyState!=Qk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Iy(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||an).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ay(this)),this.readyState=Qk},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Iy(this)),this.g&&(this.readyState=3,Iy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==an.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EB(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ay(this):Iy(this),3==this.readyState&&EB(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,Ay(this))},ut.Ta=function(n){this.g&&(this.response=n,Ay(this))},ut.ha=function(){this.g&&Ay(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";for(var n=[],e=this.h.entries(),t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kse=an.JSON.parse;function Ai(n){uo.call(this),this.headers=new rg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SB,this.K=this.L=!1}Do(Ai,uo);var SB="",Yse=/^https?$/i,Qse=["POST","PUT"];function Zse(n){return"content-type"==n.toLowerCase()}function TB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,DB(n),uC(n)}function DB(n){n.D||(n.D=!0,Ao(n,"complete"),Ao(n,"error"))}function AB(n){if(n.h&&void 0!==hk&&(!n.C[1]||4!=Pc(n)||2!=n.ba()))if(n.v&&4==Pc(n))Lk(n.Fa,0,n);else if(Ao(n,"readystatechange"),4==Pc(n)){n.h=!1;try{var r,e=n.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(r=t)){var i;if(i=0===e){var o=String(n.H).match(hB)[1]||null;if(!o&&an.self&&an.self.location){var a=an.self.location.protocol;o=a.substr(0,a.length-1)}i=!Yse.test(o?o.toLowerCase():"")}r=i}if(r)Ao(n,"complete"),Ao(n,"success");else{n.m=6;try{var l=2<Pc(n)?n.g.statusText:""}catch(c){l=""}n.j=l+" ["+n.ba()+"]",DB(n)}}finally{uC(n)}}}function uC(n,e){if(n.g){IB(n);var t=n.g,r=n.C[0]?z1:null;n.g=null,n.C=null,e||Ao(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function IB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Pc(n){return n.g?n.g.readyState:0}function kB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case SB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xk(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Jse(n){var e="";return vk(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ur(n,e,t))}function ky(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function MB(n){this.za=0,this.l=[],this.h=new X1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ky("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ky("baseRetryDelayMs",5e3,n),this.$a=ky("retryDelaySeedMs",1e4,n),this.Ya=ky("forwardChannelMaxRetries",2,n),this.ra=ky("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _B(n&&n.concurrentRequestLimit),this.Ca=new $se,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Zk(n){if(xB(n),3==n.G){var e=n.V++,t=Rc(n.F);Ur(t,"SID",n.J),Ur(t,"RID",e),Ur(t,"TYPE","terminate"),My(n,t),(e=new by(n,n.h,e,void 0)).K=2,e.v=sC(Rc(t)),t=!1,an.navigator&&an.navigator.sendBeacon&&(t=an.navigator.sendBeacon(e.v.toString(),"")),!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=UB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wy(e)}VB(n)}function cC(n){n.g&&(tM(n),n.g.cancel(),n.g=null)}function xB(n){cC(n),n.u&&(an.clearTimeout(n.u),n.u=null),hC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function Jk(n,e){n.l.push(new zse(n.Za++,e)),3==n.G&&dC(n)}function dC(n){yB(n.i)||n.m||(n.m=!0,Pk(n.Ha,n),n.C=0)}function RB(n,e){var t;t=e?e.m:n.V++;var r=Rc(n.F);Ur(r,"SID",n.J),Ur(r,"RID",t),Ur(r,"AID",n.U),My(n,r),n.o&&n.s&&Xk(r,n.o,n.s),t=new by(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=PB(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Kk(n.i,t),zk(t,r,e)}function My(n,e){n.j&&$k({},function(t,r){Ur(e,r,t)})}function PB(n,e,t){t=Math.min(n.l.length,t);var r=n.j?To(n.j.Oa,n.j,n):null;e:for(var i=n.l,o=-1;;){var a=["count="+t];-1==o?0<t?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var l=!0,c=0;c<t;c++){var p=i[c].h,v=i[c].g;if(0>(p-=o))o=Math.max(0,i[c].h-100),l=!1;else try{Wse(v,a,"req"+p+"_")}catch(b){r&&r(v)}}if(l){r=a.join("&");break e}}return n=n.l.splice(0,t),e.D=n,r}function OB(n){n.g||n.u||(n.Y=1,Pk(n.Ga,n),n.A=0)}function eM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=_y(To(n.Ga,n),LB(n,n.A)),n.A++,0))}function tM(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function NB(n){n.g=new by(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Rc(n.oa);Ur(e,"RID","rpc"),Ur(e,"SID",n.J),Ur(e,"CI",n.N?"0":"1"),Ur(e,"AID",n.U),My(n,e),Ur(e,"TYPE","xmlhttp"),n.o&&n.s&&Xk(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sC(Rc(e)),t.s=null,t.U=!0,lB(t,n)}function hC(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function FB(n,e){var t=null;if(n.g==e){hC(n),tM(n),n.g=null;var r=2}else{if(!Gk(n.i,e))return;t=e.D,wB(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ao(r=Z1(),new rB(r,t,e,i)),dC(n)}else OB(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function eae(n,e){return!(bB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=_y(To(n.Ha,n,e),LB(n,n.C)),n.C++,0)))}(n,e)||2==r&&eM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Sf(n,5);break;case 4:Sf(n,10);break;case 3:Sf(n,6);break;default:Sf(n,2)}}function LB(n,e){var t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Sf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=To(n.jb,n);t||(t=new Ef("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||rC(t,"https"),sC(t)),function Gse(n,e){var t=new X1;if(an.Image){var r=new Image;r.onload=q1(aC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=q1(aC,t,r,"TestLoadImage: error",!1,e),r.onabort=q1(aC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=q1(aC,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ws(2);n.G=0,n.j&&n.j.va(e),VB(n),xB(n)}function VB(n){n.G=0,n.I=-1,n.j&&((0!=CB(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mk(n.l),n.l.length=0),n.j.ua())}function BB(n,e,t){var r=function Nse(n){return n instanceof Ef?Rc(n):new Ef(n,void 0)}(t);if(""!=r.i)e&&iC(r,e+"."+r.i),oC(r,r.m);else{var i=an.location;r=function Fse(n,e,t,r){var i=new Ef(null,void 0);return n&&rC(i,n),e&&iC(i,e),t&&oC(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&vk(n.aa,function(o,a){Ur(r,a,o)}),t=n.sa,(e=n.D)&&t&&Ur(r,e,t),Ur(r,"VER",n.ma),My(n,r),r}function UB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&n.Ba&&!n.qa?new Dy({ib:!0}):n.qa)).L=n.H,e}function jB(){}function fC(){if(tg&&!(10<=Number(fse)))throw Error("Environmental error: no available transport.")}function pa(n,e){uo.call(this),this.g=new MB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$1(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$1(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new og(this)}function HB(n){Bk.call(this);var e=n.__sm__;if(e){e:{for(var t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zB(){Uk.call(this),this.status=1}function og(n){this.g=n}(ut=Ai.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jk.g(),this.C=function oB(n){return n.h||(n.h=n.i())}(this.u?this.u:jk),this.g.onreadystatechange=To(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void TB(this,o)}n=t||"";var i=new rg(this.headers);r&&$k(r,function(o,a){i.set(a,o)}),r=function ase(n){e:{for(var e=Zse,t=n.length,r="string"==typeof n?n.split(""):n,i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=an.FormData&&n instanceof an.FormData,!(0<=MV(Qse,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IB(this),0<this.B&&((this.K=function Xse(n){return tg&&function hse(){return function lse(n){var e=dse;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){for(var n=0,e=PV(String(W1)).split("."),t=PV("9").split("."),r=Math.max(e.length,t.length),i=0;0==n&&i<r;i++){var o=e[i]||"",a=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;n=gk(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||gk(0==o[2].length,0==a[2].length)||gk(o[2],a[2]),o=o[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=To(this.pa,this)):this.A=Lk(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){TB(this,o)}},ut.pa=function(){void 0!==hk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ao(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ao(this,"complete"),Ao(this,"abort"),uC(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uC(this,!0)),Ai.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?AB(this):this.cb())},ut.cb=function(){AB(this)},ut.ba=function(){try{return 2<Pc(this)?this.g.status:-1}catch(n){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kse(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=MB.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;var e=new by(this,this.h,n,void 0),t=this.s;if(this.P&&(t?VV(t=FV(t),this.P):t=this.P),null===this.o&&(e.H=t),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=PB(this,e,r),Ur(i=Rc(this.F),"RID",n),Ur(i,"CVER",22),this.D&&Ur(i,"X-HTTP-Session-Id",this.D),My(this,i),this.o&&t&&Xk(i,this.o,t),Kk(this.i,e),this.Ra&&Ur(i,"TYPE","init"),this.ja?(Ur(i,"$req",r),Ur(i,"SID","null"),e.$=!0,zk(e,i,null)):zk(e,i,r),this.G=2}}else 3==this.G&&(n?RB(this,n):0==this.l.length||yB(this.i)||RB(this))},ut.Ga=function(){if(this.u=null,NB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=_y(To(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ws(10),cC(this),NB(this))},ut.ab=function(){null!=this.v&&(this.v=null,cC(this),eM(this),ws(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ws(2)):(this.h.info("Failed to ping google.com"),ws(1))},(ut=jB.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},fC.prototype.g=function(n,e){return new pa(n,e)},Do(pa,uo),pa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Pk(To(n.hb,n,e))),ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=BB(n,null,n.W),dC(n)},pa.prototype.close=function(){Zk(this.g)},pa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Jk(this.g,e)}else this.v?((e={}).__data__=Rk(n),Jk(this.g,e)):Jk(this.g,n)},pa.prototype.M=function(){this.g.j=null,delete this.j,Zk(this.g),delete this.g,pa.Z.M.call(this)},Do(HB,Bk),Do(zB,Uk),Do(og,jB),og.prototype.xa=function(){Ao(this.g,"a")},og.prototype.wa=function(n){Ao(this.g,new HB(n))},og.prototype.va=function(n){Ao(this.g,new zB(n))},og.prototype.ua=function(){Ao(this.g,"b")},fC.prototype.createWebChannel=fC.prototype.g,pa.prototype.send=pa.prototype.u,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,J1.NO_ERROR=0,J1.TIMEOUT=8,J1.HTTP_ERROR=6,iB.COMPLETE="complete",sB.EventType=yy,yy.OPEN="a",yy.CLOSE="b",yy.ERROR="c",yy.MESSAGE="d",uo.prototype.listen=uo.prototype.N,Ai.prototype.listenOnce=Ai.prototype.O,Ai.prototype.getLastError=Ai.prototype.La,Ai.prototype.getLastErrorCode=Ai.prototype.Da,Ai.prototype.getStatus=Ai.prototype.ba,Ai.prototype.getResponseJson=Ai.prototype.Qa,Ai.prototype.getResponseText=Ai.prototype.ga,Ai.prototype.send=Ai.prototype.ea;var pC=J1,WB=iB,GB=bf,nM_PROXY=10,nM_NOPROXY=11,KB=Dy,xy=sB,YB=Ai,ma=function(){function n(e,t){var r=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return t.writeSequenceNumber(i)})}return n.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},n.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},n}();ma.o=-1;var ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ne=function(n){function e(t,r){var i=this;return(i=n.call(this,r)||this).code=t,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return(0,k.__extends)(e,n),e}(Error),Vl=new _s.Logger("@firebase/firestore");function rM(){return Vl.logLevel}function $e(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Vl.logLevel<=_s.LogLevel.DEBUG){var r=e.map(iM);Vl.debug.apply(Vl,(0,k.__spreadArray)(["Firestore (8.10.1): "+n],r))}}function Ii(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Vl.logLevel<=_s.LogLevel.ERROR){var r=e.map(iM);Vl.error.apply(Vl,(0,k.__spreadArray)(["Firestore (8.10.1): "+n],r))}}function Ry(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Vl.logLevel<=_s.LogLevel.WARN){var r=e.map(iM);Vl.warn.apply(Vl,(0,k.__spreadArray)(["Firestore (8.10.1): "+n],r))}}function iM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function St(n){void 0===n&&(n="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+n;throw Ii(e),new Error(e)}function Kt(n,e){n||St()}function Ze(n,e){return n}function tae(n){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(var r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var QB=function(){function n(){}return n.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=tae(40),o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length));return r},n}();function jn(n,e){return n<e?-1:n>e?1:0}function sg(n,e,t){return n.length===e.length&&n.every(function(r,i){return t(r,e[i])})}function XB(n){return n+"\0"}var Hs=function(){function n(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return n.now=function(){return n.fromMillis(Date.now())},n.fromDate=function(e){return n.fromMillis(e.getTime())},n.fromMillis=function(e){var t=Math.floor(e/1e3);return new n(t,Math.floor(1e6*(e-1e3*t)))},n.prototype.toDate=function(){return new Date(this.toMillis())},n.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},n.prototype._compareTo=function(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)},n.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},n.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},n.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},n.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},n}(),An=function(){function n(e){this.timestamp=e}return n.fromTimestamp=function(e){return new n(e)},n.min=function(){return new n(new Hs(0,0))},n.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},n.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},n.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},n.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},n.prototype.toTimestamp=function(){return this.timestamp},n}();function ZB(n){var e=0;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tf(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JB(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var e6=function(){function n(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}return Object.defineProperty(n.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return 0===n.comparator(this,e)},n.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(function(r){t.push(r)}):t.push(e),this.construct(t)},n.prototype.limit=function(){return this.offset+this.length},n.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},n.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},n.prototype.firstSegment=function(){return this.segments[this.offset]},n.prototype.lastSegment=function(){return this.get(this.length-1)},n.prototype.get=function(e){return this.segments[this.offset+e]},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.forEach=function(e){for(var t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])},n.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},n.comparator=function(e,t){for(var r=Math.min(e.length,t.length),i=0;i<r;i++){var o=e.get(i),a=t.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0},n}(),or=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=[],o=0,a=t;o<a.length;o++){var l=a[o];if(l.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(e6),nae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bl=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.isValidIdentifier=function(t){return nae.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var r=[],i="",o=0,a=function(){if(0===i.length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;o<t.length;){var c=t[o];if("\\"===c){if(o+1===t.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var p=t[o+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,o+=2}else"`"===c?(l=!l,o++):"."!==c||l?(i+=c,o++):(a(),o++)}if(a(),l)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(r)},e.emptyPath=function(){return new e([])},e}(e6),ag=function(){function n(e){this.fields=e,e.sort(Bl.comparator)}return n.prototype.covers=function(e){for(var t=0,r=this.fields;t<r.length;t++)if(r[t].isPrefixOf(e))return!0;return!1},n.prototype.isEqual=function(e){return sg(this.fields,e.fields,function(t,r){return t.isEqual(r)})},n}(),Cs=function(){function n(e){this.binaryString=e}return n.fromBase64String=function(e){return new n(atob(e))},n.fromUint8Array=function(e){return new n(function(t){for(var r="",i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return r}(e))},n.prototype.toBase64=function(){return btoa(this.binaryString)},n.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)},n.prototype.approximateByteSize=function(){return 2*this.binaryString.length},n.prototype.compareTo=function(e){return jn(this.binaryString,e.binaryString)},n.prototype.isEqual=function(e){return this.binaryString===e.binaryString},n}();Cs.EMPTY_BYTE_STRING=new Cs("");var rae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fd(n){if(Kt(!!n),"string"==typeof n){var e=0,t=rae.exec(n);if(Kt(!!t),t[1]){var r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ki(n.seconds),nanos:ki(n.nanos)}}function ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lg(n){return"string"==typeof n?Cs.fromBase64String(n):Cs.fromUint8Array(n)}function oM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function t6(n){var e=n.mapValue.fields.__previous_value__;return oM(e)?t6(e):e}function Py(n){var e=Fd(n.mapValue.fields.__local_write_time__.timestampValue);return new Hs(e.seconds,e.nanos)}function Df(n){return null==n}function mC(n){return 0===n&&1/n==-1/0}function n6(n){return"number"==typeof n&&Number.isInteger(n)&&!mC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var At=function(){function n(e){this.path=e}return n.fromPath=function(e){return new n(or.fromString(e))},n.fromName=function(e){return new n(or.fromString(e).popFirst(5))},n.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},n.prototype.isEqual=function(e){return null!==e&&0===or.comparator(this.path,e.path)},n.prototype.toString=function(){return this.path.toString()},n.comparator=function(e,t){return or.comparator(e.path,t.path)},n.isDocumentKey=function(e){return e.length%2==0},n.fromSegments=function(e){return new n(new or(e.slice()))},n}();function Af(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oM(n)?4:10:St()}function Ru(n,e){var i,t=Af(n);if(t!==Af(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Py(n).isEqual(Py(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Fd(r.timestampValue),a=Fd(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,lg(n.bytesValue).isEqual(lg(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ki(r.geoPointValue.latitude)===ki(i.geoPointValue.latitude)&&ki(r.geoPointValue.longitude)===ki(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ki(r.integerValue)===ki(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=ki(r.doubleValue),a=ki(i.doubleValue);return o===a?mC(o)===mC(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return sg(n.arrayValue.values||[],e.arrayValue.values||[],Ru);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(ZB(o)!==ZB(a))return!1;for(var l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Ru(o[l],a[l])))return!1;return!0}(n,e);default:return St()}}function Oy(n,e){return void 0!==(n.values||[]).find(function(t){return Ru(t,e)})}function ug(n,e){var i,o,a,l,t=Af(n),r=Af(e);if(t!==r)return jn(t,r);switch(t){case 0:return 0;case 1:return jn(n.booleanValue,e.booleanValue);case 2:return o=e,(a=ki((i=n).integerValue||i.doubleValue))<(l=ki(o.integerValue||o.doubleValue))?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1;case 3:return r6(n.timestampValue,e.timestampValue);case 4:return r6(Py(n),Py(e));case 5:return jn(n.stringValue,e.stringValue);case 6:return function(i,o){var a=lg(i),l=lg(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),l=o.split("/"),c=0;c<a.length&&c<l.length;c++){var p=jn(a[c],l[c]);if(0!==p)return p}return jn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){var a=jn(ki(i.latitude),ki(o.latitude));return 0!==a?a:jn(ki(i.longitude),ki(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],l=o.values||[],c=0;c<a.length&&c<l.length;++c){var p=ug(a[c],l[c]);if(p)return p}return jn(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},l=Object.keys(a),c=o.fields||{},p=Object.keys(c);l.sort(),p.sort();for(var v=0;v<l.length&&v<p.length;++v){var b=jn(l[v],p[v]);if(0!==b)return b;var w=ug(a[l[v]],c[p[v]]);if(0!==w)return w}return jn(l.length,p.length)}(n.mapValue,e.mapValue);default:throw St()}}function r6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jn(n,e);var t=Fd(n),r=Fd(e),i=jn(t.seconds,r.seconds);return 0!==i?i:jn(t.nanos,r.nanos)}function sM(n){return aM(n)}function aM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?"time("+(i=Fd(n.timestampValue)).seconds+","+i.nanos+")":"stringValue"in n?n.stringValue:"bytesValue"in n?lg(n.bytesValue).toBase64():"referenceValue"in n?At.fromName(n.referenceValue).toString():"geoPointValue"in n?"geo("+(e=n.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in n?function(r){for(var i="[",o=!0,a=0,l=r.values||[];a<l.length;a++)o?o=!1:i+=",",i+=aM(l[a]);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){for(var i="{",o=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];o?o=!1:i+=",",i+=c+":"+aM(r.fields[c])}return i+"}"}(n.mapValue):St();var i,e}function gC(n,e){return{referenceValue:"projects/"+n.projectId+"/databases/"+n.database+"/documents/"+e.path.canonicalString()}}function lM(n){return!!n&&"integerValue"in n}function uM(n){return!!n&&"arrayValue"in n}function i6(n){return!!n&&"nullValue"in n}function o6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vC(n){return!!n&&"mapValue"in n}function Ny(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){var e={mapValue:{fields:{}}};return Tf(n.mapValue.fields,function(i,o){return e.mapValue.fields[i]=Ny(o)}),e}if(n.arrayValue){for(var t={arrayValue:{values:[]}},r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ny(n.arrayValue.values[r]);return t}return Object.assign({},n)}var ga=function(){function n(e){this.value=e}return n.empty=function(){return new n({mapValue:{}})},n.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,r=0;r<e.length-1;++r)if(!vC(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},n.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ny(t)},n.prototype.setAll=function(e){var t=this,r=Bl.emptyPath(),i={},o=[];e.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var p=t.getFieldsMap(r);t.applyChanges(p,i,o),i={},o=[],r=c.popLast()}l?i[c.lastSegment()]=Ny(l):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},n.prototype.delete=function(e){var t=this.field(e.popLast());vC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},n.prototype.isEqual=function(e){return Ru(this.value,e.value)},n.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=t.mapValue.fields[e.get(r)];vC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields},n.prototype.applyChanges=function(e,t,r){Tf(t,function(l,c){return e[l]=c});for(var i=0,o=r;i<o.length;i++)delete e[o[i]]},n.prototype.clone=function(){return new n(Ny(this.value))},n}();function s6(n){var e=[];return Tf(n.fields,function(t,r){var i=new Bl([t]);if(vC(r)){var o=s6(r.mapValue).fields;if(0===o.length)e.push(i);else for(var a=0,l=o;a<l.length;a++)e.push(i.child(l[a]))}else e.push(i)}),new ag(e)}var Io=function(){function n(e,t,r,i,o){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=o}return n.newInvalidDocument=function(e){return new n(e,0,An.min(),ga.empty(),0)},n.newFoundDocument=function(e,t,r){return new n(e,1,t,r,0)},n.newNoDocument=function(e,t){return new n(e,2,t,ga.empty(),0)},n.newUnknownDocument=function(e,t){return new n(e,3,t,ga.empty(),2)},n.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},n.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ga.empty(),this.documentState=0,this},n.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ga.empty(),this.documentState=2,this},n.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},n.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(n.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isValidDocument=function(){return 0!==this.documentType},n.prototype.isFoundDocument=function(){return 1===this.documentType},n.prototype.isNoDocument=function(){return 2===this.documentType},n.prototype.isUnknownDocument=function(){return 3===this.documentType},n.prototype.isEqual=function(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},n.prototype.clone=function(){return new n(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},n}(),iae=function(n,e,t,r,i,o,a){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=n,this.collectionGroup=e,this.orderBy=t,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function a6(n,e,t,r,i,o,a){return void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new iae(n,e,t,r,i,o,a)}function Fy(n){var e=Ze(n);if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(r){return(i=r).field.canonicalString()+i.op.toString()+sM(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(function(r){return(i=r).field.canonicalString()+i.dir;var i}).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=bC(e.startAt)),e.endAt&&(t+="|ub:",t+=bC(e.endAt)),e.h=t}return e.h}function _C(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<n.orderBy.length;t++)if(!hae(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(var r=0;r<n.filters.length;r++)if((i=n.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ru(i.value,o.value))return!1;var i,o;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c6(n.startAt,e.startAt)&&c6(n.endAt,e.endAt)}function yC(n){return At.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}var va=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).field=t,o.op=r,o.value=i,o}return(0,k.__extends)(e,n),e.create=function(t,r,i){return t.isKeyField()?"in"===r||"not-in"===r?this.l(t,r,i):new oae(t,r,i):"array-contains"===r?new lae(t,i):"in"===r?new uae(t,i):"not-in"===r?new cae(t,i):"array-contains-any"===r?new dae(t,i):new e(t,r,i)},e.l=function(t,r,i){return"in"===r?new sae(t,i):new aae(t,i)},e.prototype.matches=function(t){var r=t.data.field(this.field);return"!="===this.op?null!==r&&this.m(ug(r,this.value)):null!==r&&Af(this.value)===Af(r)&&this.m(ug(r,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return St()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),oae=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,i)||this).key=At.fromName(i.referenceValue),o}return(0,k.__extends)(e,n),e.prototype.matches=function(t){var r=At.comparator(t.key,this.key);return this.m(r)},e}(va),sae=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"in",r)||this).keys=l6(0,r),i}return(0,k.__extends)(e,n),e.prototype.matches=function(t){return this.keys.some(function(r){return r.isEqual(t.key)})},e}(va),aae=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"not-in",r)||this).keys=l6(0,r),i}return(0,k.__extends)(e,n),e.prototype.matches=function(t){return!this.keys.some(function(r){return r.isEqual(t.key)})},e}(va);function l6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(r){return At.fromName(r.referenceValue)})}var lae=function(n){function e(t,r){return n.call(this,t,"array-contains",r)||this}return(0,k.__extends)(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return uM(r)&&Oy(r.arrayValue,this.value)},e}(va),uae=function(n){function e(t,r){return n.call(this,t,"in",r)||this}return(0,k.__extends)(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return null!==r&&Oy(this.value.arrayValue,r)},e}(va),cae=function(n){function e(t,r){return n.call(this,t,"not-in",r)||this}return(0,k.__extends)(e,n),e.prototype.matches=function(t){if(Oy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=t.data.field(this.field);return null!==r&&!Oy(this.value.arrayValue,r)},e}(va),dae=function(n){function e(t,r){return n.call(this,t,"array-contains-any",r)||this}return(0,k.__extends)(e,n),e.prototype.matches=function(t){var r=this,i=t.data.field(this.field);return!(!uM(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Oy(r.value.arrayValue,o)})},e}(va),Ly=function(n,e){this.position=n,this.before=e};function bC(n){return(n.before?"b":"a")+":"+n.position.map(function(e){return sM(e)}).join(",")}var cg=function(n,e){void 0===e&&(e="asc"),this.field=n,this.dir=e};function hae(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function u6(n,e,t){for(var r=0,i=0;i<n.position.length;i++){var o=e[i],a=n.position[i];if(r=o.field.isKeyField()?At.comparator(At.fromName(a.referenceValue),t.key):ug(a,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function c6(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(var t=0;t<n.position.length;t++)if(!Ru(n.position[t],e.position[t]))return!1;return!0}var Oc=function(n,e,t,r,i,o,a,l){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===l&&(l=null),this.path=n,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.p=null,this.T=null};function d6(n,e,t,r,i,o,a,l){return new Oc(n,e,t,r,i,o,a,l)}function dg(n){return new Oc(n)}function wC(n){return!Df(n.limit)&&"F"===n.limitType}function CC(n){return!Df(n.limit)&&"L"===n.limitType}function cM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dM(n){for(var e=0,t=n.filters;e<t.length;e++){var r=t[e];if(r.g())return r.field}return null}function hM(n){return null!==n.collectionGroup}function hg(n){var e=Ze(n);if(null===e.p){e.p=[];var t=dM(e),r=cM(e);if(null!==t&&null===r)t.isKeyField()||e.p.push(new cg(t)),e.p.push(new cg(Bl.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var l=a[o];e.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new cg(Bl.keyField(),c))}}}return e.p}function Qa(n){var e=Ze(n);if(!e.T)if("F"===e.limitType)e.T=a6(e.path,e.collectionGroup,hg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],r=0,i=hg(e);r<i.length;r++){var o=i[r];t.push(new cg(o.field,"desc"===o.dir?"asc":"desc"))}var l=e.endAt?new Ly(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Ly(e.startAt.position,!e.startAt.before):null;e.T=a6(e.path,e.collectionGroup,t,e.filters,e.limit,l,c)}return e.T}function h6(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vy(n,e){return _C(Qa(n),Qa(e))&&n.limitType===e.limitType}function f6(n){return Fy(Qa(n))+"|lt:"+n.limitType}function fM(n){return"Query(target="+(t=(e=Qa(n)).path.canonicalString(),null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+sM(i.value);var i}).join(", ")+"]"),Df(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(r){return(i=r).field.canonicalString()+" ("+i.dir+")";var i}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+bC(e.startAt)),e.endAt&&(t+=", endAt: "+bC(e.endAt)),"Target("+t+"); limitType=")+n.limitType+")";var e,t}function By(n,e){return e.isFoundDocument()&&(i=(r=e).key.path,null!==(t=n).collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):At.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i))&&function(t,r){for(var i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1}return!0}(n,e)&&function(t,r){for(var i=0,o=t.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!u6(t.startAt,hg(t),r)||t.endAt&&u6(t.endAt,hg(t),r))}(n,e);var t,r,i}function p6(n){return function(e,t){for(var r=!1,i=0,o=hg(n);i<o.length;i++){var a=o[i],l=fae(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function fae(n,e,t){var i,a,l,c,r=n.field.isKeyField()?At.comparator(e.key,t.key):(a=t,l=e.data.field(i=n.field),c=a.data.field(i),null!==l&&null!==c?ug(l,c):St());switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}function m6(n,e){if(n.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mC(e)?"-0":e}}function g6(n){return{integerValue:""+n}}function v6(n,e){return n6(e)?g6(e):m6(n,e)}var EC=function(){this._=void 0};function pae(n,e,t){return n instanceof fg?(o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=t).seconds,nanos:r.nanoseconds}}}},(i=e)&&(o.fields.__previous_value__=i),{mapValue:o}):n instanceof If?y6(n,e):n instanceof kf?b6(n,e):function(r,i){var o=_6(r,i),a=w6(o)+w6(r.A);return lM(o)&&lM(r.A)?g6(a):m6(r.R,a)}(n,e);var r,i,o}function mae(n,e,t){return n instanceof If?y6(n,e):n instanceof kf?b6(n,e):t}function _6(n,e){return n instanceof pg?lM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}var fg=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e}(EC),If=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return(0,k.__extends)(e,n),e}(EC);function y6(n,e){for(var t=C6(e),r=function(a){t.some(function(l){return Ru(l,a)})||t.push(a)},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var kf=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return(0,k.__extends)(e,n),e}(EC);function b6(n,e){for(var t=C6(e),r=function(a){t=t.filter(function(l){return!Ru(l,a)})},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var pg=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).R=t,i.A=r,i}return(0,k.__extends)(e,n),e}(EC);function w6(n){return ki(n.integerValue||n.doubleValue)}function C6(n){return uM(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Uy=function(n,e){this.field=n,this.transform=e},gae=function(n,e){this.version=n,this.transformResults=e},Jo=function(){function n(e,t){this.updateTime=e,this.exists=t}return n.none=function(){return new n},n.exists=function(e){return new n(void 0,e)},n.updateTime=function(e){return new n(e)},Object.defineProperty(n.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},n}();function SC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}var TC=function(){};function vae(n,e,t){var r,i,o,a,l;n instanceof jy?(i=e,o=t,a=(r=n).value.clone(),l=D6(r.fieldTransforms,i,o.transformResults),a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):n instanceof Ld?function(r,i,o){if(SC(r.precondition,i)){var a=D6(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(T6(r)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(n,e,t):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function pM(n,e,t){var i;n instanceof jy?function(r,i,o){if(SC(r.precondition,i)){var a=r.value.clone(),l=A6(r.fieldTransforms,o,i);a.setAll(l),i.convertToFoundDocument(S6(i),a).setHasLocalMutations()}}(n,e,t):n instanceof Ld?function(r,i,o){if(SC(r.precondition,i)){var a=A6(r.fieldTransforms,o,i),l=i.data;l.setAll(T6(r)),l.setAll(a),i.convertToFoundDocument(S6(i),l).setHasLocalMutations()}}(n,e,t):SC(n.precondition,i=e)&&i.convertToNoDocument(An.min())}function _ae(n,e){for(var t=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),l=_6(o.transform,a||null);null!=l&&(null==t&&(t=ga.empty()),t.set(o.field,l))}return t||null}function E6(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sg(t,r,function(i,o){return(a=i).field.isEqual((l=o).field)&&(p=l.transform,(c=a.transform)instanceof If&&p instanceof If||c instanceof kf&&p instanceof kf?sg(c.elements,p.elements,Ru):c instanceof pg&&p instanceof pg?Ru(c.A,p.A):c instanceof fg&&p instanceof fg);var a,l,c,p})))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function S6(n){return n.isFoundDocument()?n.version:An.min()}var jy=function(n){function e(t,r,i,o){void 0===o&&(o=[]);var a=this;return(a=n.call(this)||this).key=t,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,k.__extends)(e,n),e}(TC),Ld=function(n){function e(t,r,i,o,a){void 0===a&&(a=[]);var l=this;return(l=n.call(this)||this).key=t,l.data=r,l.fieldMask=i,l.precondition=o,l.fieldTransforms=a,l.type=1,l}return(0,k.__extends)(e,n),e}(TC);function T6(n){var e=new Map;return n.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var r=n.data.field(t);e.set(t,r)}}),e}function D6(n,e,t){var r=new Map;Kt(n.length===t.length);for(var i=0;i<t.length;i++){var o=n[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,mae(a,l,t[i]))}return r}function A6(n,e,t){for(var r=new Map,i=0,o=n;i<o.length;i++){var a=o[i],l=a.transform,c=t.data.field(a.field);r.set(a.field,pae(l,c,e))}return r}var Mi,Yn,Hy=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,k.__extends)(e,n),e}(TC),mM=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,k.__extends)(e,n),e}(TC),yae=function(n){this.count=n};function I6(n){switch(n){case ce.OK:return St();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return St()}}function k6(n){if(void 0===n)return Ii("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Mi.OK:return ce.OK;case Mi.CANCELLED:return ce.CANCELLED;case Mi.UNKNOWN:return ce.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return ce.INTERNAL;case Mi.UNAVAILABLE:return ce.UNAVAILABLE;case Mi.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Mi.NOT_FOUND:return ce.NOT_FOUND;case Mi.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Mi.ABORTED:return ce.ABORTED;case Mi.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Mi.DATA_LOSS:return ce.DATA_LOSS;default:return St()}}(Yn=Mi||(Mi={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";var es=function(){function n(e,t){this.comparator=e,this.root=t||Vd.EMPTY}return n.prototype.insert=function(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vd.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vd.BLACK,null,null))},n.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null},n.prototype.indexOf=function(e){for(var t=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1},n.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(n.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),n.prototype.minKey=function(){return this.root.minKey()},n.prototype.maxKey=function(){return this.root.maxKey()},n.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},n.prototype.forEach=function(e){this.inorderTraversal(function(t,r){return e(t,r),!1})},n.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,r){return e.push(t+":"+r),!1}),"{"+e.join(", ")+"}"},n.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},n.prototype.getIterator=function(){return new DC(this.root,null,this.comparator,!1)},n.prototype.getIteratorFrom=function(e){return new DC(this.root,e,this.comparator,!1)},n.prototype.getReverseIterator=function(){return new DC(this.root,null,this.comparator,!0)},n.prototype.getReverseIteratorFrom=function(e){return new DC(this.root,e,this.comparator,!0)},n}(),DC=function(){function n(e,t,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return n.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},n.prototype.hasNext=function(){return this.nodeStack.length>0},n.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},n}(),Vd=function(){function n(e,t,r,i,o){this.key=e,this.value=t,this.color=null!=r?r:n.RED,this.left=null!=i?i:n.EMPTY,this.right=null!=o?o:n.EMPTY,this.size=this.left.size+1+this.right.size}return n.prototype.copy=function(e,t,r,i,o){return new n(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},n.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},n.prototype.minKey=function(){return this.min().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(e,t,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r))).fixUp()},n.prototype.removeMin=function(){if(this.left.isEmpty())return n.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},n.prototype.remove=function(e,t){var r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()},n.prototype.isRed=function(){return this.color},n.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},n.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},n.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},n.prototype.rotateLeft=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},n.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},n.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();var e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)},n}();Vd.EMPTY=null,Vd.RED=!0,Vd.BLACK=!1,Vd.EMPTY=new(function(){function n(){this.size=0}return Object.defineProperty(n.prototype,"key",{get:function(){throw St()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){throw St()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){throw St()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){throw St()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){throw St()},enumerable:!1,configurable:!0}),n.prototype.copy=function(e,t,r,i,o){return this},n.prototype.insert=function(e,t,r){return new Vd(e,t)},n.prototype.remove=function(e,t){return this},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(e){return!1},n.prototype.reverseTraversal=function(e){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.isRed=function(){return!1},n.prototype.checkMaxDepth=function(){return!0},n.prototype.check=function(){return 0},n}());var qi=function(){function n(e){this.comparator=e,this.data=new es(this.comparator)}return n.prototype.has=function(e){return null!==this.data.get(e)},n.prototype.first=function(){return this.data.minKey()},n.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(n.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),n.prototype.indexOf=function(e){return this.data.indexOf(e)},n.prototype.forEach=function(e){this.data.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.forEachInRange=function(e,t){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}},n.prototype.forEachWhile=function(e,t){var r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},n.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},n.prototype.getIterator=function(){return new M6(this.data.getIterator())},n.prototype.getIteratorFrom=function(e){return new M6(this.data.getIteratorFrom(e))},n.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},n.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},n.prototype.isEmpty=function(){return this.data.isEmpty()},n.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(r){t=t.add(r)}),t},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),r=e.data.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},n.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},n.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},n.prototype.copy=function(e){var t=new n(this.comparator);return t.data=e,t},n}(),M6=function(){function n(e){this.iter=e}return n.prototype.getNext=function(){return this.iter.getNext().key},n.prototype.hasNext=function(){return this.iter.hasNext()},n}(),bae=new es(At.comparator);function Xa(){return bae}var wae=new es(At.comparator);function gM(){return wae}var Cae=new es(At.comparator);function x6(){return Cae}var Eae=new qi(At.comparator);function _r(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=Eae,r=0,i=n;r<i.length;r++){var o=i[r];t=t.add(o)}return t}var Sae=new qi(jn);function AC(){return Sae}var vM=function(){function n(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return n.createSynthesizedRemoteEventForCurrentChange=function(e,t){var r=new Map;return r.set(e,_M.createSynthesizedTargetChangeForCurrentChange(e,t)),new n(An.min(),r,AC(),Xa(),_r())},n}(),_M=function(){function n(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return n.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new n(Cs.EMPTY_BYTE_STRING,t,_r(),_r(),_r())},n}(),IC=function(n,e,t,r){this.v=n,this.removedTargetIds=e,this.key=t,this.P=r},R6=function(n,e){this.targetId=n,this.V=e},P6=function(n,e,t,r){void 0===t&&(t=Cs.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=n,this.targetIds=e,this.resumeToken=t,this.cause=r},O6=function(){function n(){this.S=0,this.D=F6(),this.C=Cs.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(n.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),n.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},n.prototype.M=function(){var e=_r(),t=_r(),r=_r();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:St()}}),new _M(this.C,this.N,e,t,r)},n.prototype.L=function(){this.k=!1,this.D=F6()},n.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},n.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},n.prototype.U=function(){this.S+=1},n.prototype.K=function(){this.S-=1},n.prototype.j=function(){this.k=!0,this.N=!0},n}(),Tae=function(){function n(e){this.W=e,this.G=new Map,this.H=Xa(),this.J=N6(),this.Y=new qi(jn)}return n.prototype.X=function(e){for(var t=0,r=e.v;t<r.length;t++){var i=r[t];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)this.tt(i=a[o],e.key,e.P)},n.prototype.et=function(e){var t=this;this.forEachTarget(e,function(r){var i=t.nt(r);switch(e.state){case 0:t.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||t.removeTarget(r);break;case 3:t.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:t.st(r)&&(t.it(r),i.O(e.resumeToken));break;default:St()}})},n.prototype.forEachTarget=function(e,t){var r=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(i,o){r.st(o)&&t(o)})},n.prototype.rt=function(e){var t=e.targetId,r=e.V.count,i=this.ot(t);if(i){var o=i.target;if(yC(o))if(0===r){var a=new At(o.path);this.tt(t,a,Io.newNoDocument(a,An.min()))}else Kt(1===r);else this.ct(t)!==r&&(this.it(t),this.Y=this.Y.add(t))}},n.prototype.ut=function(e){var t=this,r=new Map;this.G.forEach(function(a,l){var c=t.ot(l);if(c){if(a.current&&yC(c.target)){var p=new At(c.target.path);null!==t.H.get(p)||t.at(l,p)||t.tt(l,p,Io.newNoDocument(p,e))}a.$&&(r.set(l,a.M()),a.L())}});var i=_r();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(p){var v=t.ot(p);return!v||2===v.purpose||(c=!1,!1)}),c&&(i=i.add(a))});var o=new vM(e,r,this.Y,this.H,i);return this.H=Xa(),this.J=N6(),this.Y=new qi(jn),o},n.prototype.Z=function(e,t){if(this.st(e)){var r=this.at(e,t.key)?2:0;this.nt(e).B(t.key,r),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},n.prototype.tt=function(e,t,r){if(this.st(e)){var i=this.nt(e);this.at(e,t)?i.B(t,1):i.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),r&&(this.H=this.H.insert(t,r))}},n.prototype.removeTarget=function(e){this.G.delete(e)},n.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},n.prototype.U=function(e){this.nt(e).U()},n.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new O6,this.G.set(e,t)),t},n.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new qi(jn),this.J=this.J.insert(e,t)),t},n.prototype.st=function(e){var t=null!==this.ot(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t},n.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},n.prototype.it=function(e){var t=this;this.G.set(e,new O6),this.W.getRemoteKeysForTarget(e).forEach(function(r){t.tt(e,r,null)})},n.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},n}();function N6(){return new es(At.comparator)}function F6(){return new es(At.comparator)}var Dae={asc:"ASCENDING",desc:"DESCENDING"},Aae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iae=function(n,e){this.databaseId=n,this.I=e};function zy(n,e){return n.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function L6(n,e){return n.I?e.toBase64():e.toUint8Array()}function kae(n,e){return zy(n,e.toTimestamp())}function co(n){return Kt(!!n),An.fromTimestamp((t=Fd(n),new Hs(t.seconds,t.nanos)));var t}function yM(n,e){return(t=n,new or(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V6(n){var e=or.fromString(n);return Kt(Q6(e)),e}function qy(n,e){return yM(n.databaseId,e.path)}function Pu(n,e){var t=V6(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new At(U6(t))}function bM(n,e){return yM(n.databaseId,e)}function B6(n){var e=V6(n);return 4===e.length?or.emptyPath():U6(e)}function $y(n){return new or(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U6(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function j6(n,e,t){return{name:qy(n,e),fields:t.value.mapValue.fields}}function H6(n,e,t){var r=Pu(n,e.name),i=co(e.updateTime),o=new ga({mapValue:{fields:e.fields}}),a=Io.newFoundDocument(r,i,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function kC(n,e){var t,i;if(e instanceof jy)t={update:j6(n,e.key,e.value)};else if(e instanceof Hy)t={delete:qy(n,e.key)};else if(e instanceof Ld)t={update:j6(n,e.key,e.data),updateMask:Oae(e.fieldMask)};else{if(!(e instanceof mM))return St();t={verify:qy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof fg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof If)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pg)return{fieldPath:o.field.canonicalString(),increment:a.A};throw St()}(0,r)})),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:kae(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:St()),t}function z6(n,e){var p,t=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?Jo.updateTime(co(p.updateTime)):void 0!==p.exists?Jo.exists(p.exists):Jo.none():Jo.none(),r=e.updateTransforms?e.updateTransforms.map(function(p){return function(v,b){var w=null;"setToServerValue"in b?(Kt("REQUEST_TIME"===b.setToServerValue),w=new fg):"appendMissingElements"in b?w=new If(b.appendMissingElements.values||[]):"removeAllFromArray"in b?w=new kf(b.removeAllFromArray.values||[]):"increment"in b?w=new pg(v,b.increment):St();var N=Bl.fromServerFormat(b.fieldPath);return new Uy(N,w)}(n,p)}):[];if(e.update){var i=Pu(n,e.update.name),o=new ga({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(p){return new ag((p.fieldPaths||[]).map(function(b){return Bl.fromServerFormat(b)}))}(e.updateMask);return new Ld(i,o,a,t,r)}return new jy(i,o,t,r)}if(e.delete){var l=Pu(n,e.delete);return new Hy(l,t)}if(e.verify){var c=Pu(n,e.verify);return new mM(c,t)}return St()}function q6(n,e){return{documents:[bM(n,e.path)]}}function $6(n,e){var t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(0!==l.length){var c=l.map(function(p){return function(v){if("=="===v.op){if(o6(v.value))return{unaryFilter:{field:mg(v.field),op:"IS_NAN"}};if(i6(v.value))return{unaryFilter:{field:mg(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(o6(v.value))return{unaryFilter:{field:mg(v.field),op:"IS_NOT_NAN"}};if(i6(v.value))return{unaryFilter:{field:mg(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mg(v.field),op:xae(v.op),value:v.value}}}(p)});return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(t.structuredQuery.where=i);var o=function(l){if(0!==l.length)return l.map(function(c){return{field:mg((p=c).field),direction:Mae(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);var c,a=(c=e.limit,n.I||Df(c)?c:{value:c});return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=K6(e.startAt)),e.endAt&&(t.structuredQuery.endAt=K6(e.endAt)),t}function W6(n){var e=B6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Kt(1===r);var o=t.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];t.where&&(a=G6(t.where));var l=[];t.orderBy&&(l=t.orderBy.map(function(b){return new cg(gg((w=b).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));var b,w,c=null;t.limit&&(c=Df(w="object"==typeof(b=t.limit)?b.value:b)?null:w);var p=null;t.startAt&&(p=Y6(t.startAt));var v=null;return t.endAt&&(v=Y6(t.endAt)),d6(e,i,l,a,c,"F",p,v)}function G6(n){return n?void 0!==n.unaryFilter?[Pae(n)]:void 0!==n.fieldFilter?[Rae(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(function(e){return G6(e)}).reduce(function(e,t){return e.concat(t)}):St():[]}function K6(n){return{before:n.before,values:n.position}}function Y6(n){return new Ly(n.values||[],!!n.before)}function Mae(n){return Dae[n]}function xae(n){return Aae[n]}function mg(n){return{fieldPath:n.canonicalString()}}function gg(n){return Bl.fromServerFormat(n.fieldPath)}function Rae(n){return va.create(gg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}function Pae(n){switch(n.unaryFilter.op){case"IS_NAN":var e=gg(n.unaryFilter.field);return va.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=gg(n.unaryFilter.field);return va.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gg(n.unaryFilter.field);return va.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gg(n.unaryFilter.field);return va.create(i,"!=",{nullValue:"NULL_VALUE"});default:return St()}}function Oae(n){var e=[];return n.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Q6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ul(n){for(var e="",t=0;t<n.length;t++)e.length>0&&(e=X6(e)),e=Nae(n.get(t),e);return X6(e)}function Nae(n,e){for(var t=e,r=n.length,i=0;i<r;i++){var o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function X6(n){return n+"\x01\x01"}function Nc(n){var e=n.length;if(Kt(e>=2),2===e)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),or.emptyPath();for(var t=e-2,r=[],i="",o=0;o<e;){var a=n.indexOf("\x01",o);switch((a<0||a>t)&&St(),n.charAt(a+1)){case"\x01":var l=n.substring(o,a),c=void 0;0===i.length?c=l:(c=i+=l,i=""),r.push(c);break;case"\x10":i+=n.substring(o,a),i+="\0";break;case"\x11":i+=n.substring(o,a+1);break;default:St()}o=a+2}return new or(r)}var Fae=function(n,e){this.seconds=n,this.nanoseconds=e},_a=function(n,e,t){this.ownerId=n,this.allowTabSynchronization=e,this.leaseTimestampMs=t};_a.store="owner",_a.key="owner";var Bd=function(n,e,t){this.userId=n,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};Bd.store="mutationQueues",Bd.keyPath="userId";var Fr=function(n,e,t,r,i){this.userId=n,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=r,this.mutations=i};Fr.store="mutations",Fr.keyPath="batchId",Fr.userMutationsIndex="userMutationsIndex",Fr.userMutationsKeyPath=["userId","batchId"];var ts=function(){function n(){}return n.prefixForUser=function(e){return[e]},n.prefixForPath=function(e,t){return[e,Ul(t)]},n.key=function(e,t,r){return[e,Ul(t),r]},n}();ts.store="documentMutations",ts.PLACEHOLDER=new ts;var Lae=function(n,e){this.path=n,this.readTime=e},Vae=function(n,e){this.path=n,this.version=e},ii=function(n,e,t,r,i,o){this.unknownDocument=n,this.noDocument=e,this.document=t,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ii.store="remoteDocuments",ii.readTimeIndex="readTimeIndex",ii.readTimeIndexPath="readTime",ii.collectionReadTimeIndex="collectionReadTimeIndex",ii.collectionReadTimeIndexPath=["parentPath","readTime"];var Ou=function(n){this.byteSize=n};Ou.store="remoteDocumentGlobal",Ou.key="remoteDocumentGlobalKey";var zs=function(n,e,t,r,i,o,a){this.targetId=n,this.canonicalId=e,this.readTime=t,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};zs.store="targets",zs.keyPath="targetId",zs.queryTargetsIndexName="queryTargetsIndex",zs.queryTargetsKeyPath=["canonicalId","targetId"];var ko=function(n,e,t){this.targetId=n,this.path=e,this.sequenceNumber=t};ko.store="targetDocuments",ko.keyPath=["targetId","path"],ko.documentTargetsIndex="documentTargetsIndex",ko.documentTargetsKeyPath=["path","targetId"];var ya=function(n,e,t,r){this.highestTargetId=n,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=r};ya.key="targetGlobalKey",ya.store="targetGlobal";var Mf=function(n,e){this.collectionId=n,this.parent=e};Mf.store="collectionParents",Mf.keyPath=["collectionId","parent"];var Fc=function(n,e,t,r){this.clientId=n,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=r};Fc.store="clientMetadata",Fc.keyPath="clientId";var vg=function(n,e,t){this.bundleId=n,this.createTime=e,this.version=t};vg.store="bundles",vg.keyPath="bundleId";var _g=function(n,e,t){this.name=n,this.readTime=e,this.bundledQuery=t};_g.store="namedQueries",_g.keyPath="name";var Bae=(0,k.__spreadArray)((0,k.__spreadArray)([],(0,k.__spreadArray)((0,k.__spreadArray)([],(0,k.__spreadArray)((0,k.__spreadArray)([],(0,k.__spreadArray)((0,k.__spreadArray)([],[Bd.store,Fr.store,ts.store,ii.store,zs.store,_a.store,ya.store,ko.store]),[Fc.store])),[Ou.store])),[Mf.store])),[vg.store,_g.store]),Z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J6=function(){function n(){this.onCommittedListeners=[]}return n.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},n.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},n}(),ns=function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})},je=function(){function n(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){t.isDone=!0,t.result=r,t.nextCallback&&t.nextCallback(r)},function(r){t.isDone=!0,t.error=r,t.catchCallback&&t.catchCallback(r)})}return n.prototype.catch=function(e){return this.next(void 0,e)},n.prototype.next=function(e,t){var r=this;return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(t,a).next(i,o)}})},n.prototype.toPromise=function(){var e=this;return new Promise(function(t,r){e.next(t,r)})},n.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof n?t:n.resolve(t)}catch(r){return n.reject(r)}},n.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.resolve(t)},n.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.reject(t)},n.resolve=function(e){return new n(function(t,r){t(e)})},n.reject=function(e){return new n(function(t,r){r(e)})},n.waitFor=function(e){return new n(function(t,r){var i=0,o=0,a=!1;e.forEach(function(l){++i,l.next(function(){++o,a&&o===i&&t()},function(c){return r(c)})}),a=!0,o===i&&t()})},n.or=function(e){for(var t=n.resolve(!1),r=function(a){t=t.next(function(l){return l?n.resolve(l):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return t},n.forEach=function(e,t){var r=this,i=[];return e.forEach(function(o,a){i.push(t.call(r,o,a))}),this.waitFor(i)},n}(),eU=function(){function n(e,t){var r=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ns,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){t.error?r.ft.reject(new Wy(e,t.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=wM(i.target.error);r.ft.reject(new Wy(e,o))}}return n.open=function(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new Wy(t,o)}},Object.defineProperty(n.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),n.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n.prototype.store=function(e){var t=this.transaction.objectStore(e);return new jae(t)},n}(),yg=function(){function n(e,t,r){this.name=e,this.version=t,this.wt=r,12.2===n._t((0,gt.getUA)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.delete=function(e){return $e("SimpleDb","Removing database:",e),Rf(window.indexedDB.deleteDatabase(e)).toPromise()},n.yt=function(){if("undefined"==typeof indexedDB)return!1;if(n.gt())return!0;var e=(0,gt.getUA)(),t=n._t(e),r=0<t&&t<10,i=n.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},n.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},n.It=function(e,t){return e.store(t)},n._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)},n.Et=function(e){var t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)},n.prototype.At=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:($e("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(o,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){o(c.target.result)},l.onblocked=function(){a(new Wy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var p=c.target.error;a("VersionError"===p.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wy(e,p))},l.onupgradeneeded=function(c){$e("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion),r.wt.Rt(c.target.result,l.transaction,c.oldVersion,r.version).next(function(){$e("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:t.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},n.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},n.prototype.runTransaction=function(e,t,r,i){return(0,k.__awaiter)(this,void 0,void 0,function(){var o,a,l,c,p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:o="readonly"===t,a=0,l=function(){var b,w,I,R,N;return(0,k.__generator)(this,function(z){switch(z.label){case 0:++a,z.label=1;case 1:return z.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=z.sent(),b=eU.open(c.db,e,o?"readonly":"readwrite",r),w=i(b).catch(function(Q){return b.abort(Q),je.reject(Q)}).toPromise(),I={},w.catch(function(){}),[4,b.dt];case 3:return[2,(I.value=(z.sent(),w),I)];case 4:return $e("SimpleDb","Transaction failed with error:",(R=z.sent()).message,"Retrying:",N="FirebaseError"!==R.name&&a<3),c.close(),N?[3,5]:[2,{value:Promise.reject(R)}];case 5:return[2]}})},c=this,v.label=1;case 1:return[5,l()];case 2:if("object"==typeof(p=v.sent()))return[2,p.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},n.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},n}(),Uae=function(){function n(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(n.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),n.prototype.done=function(){this.Vt=!0},n.prototype.Ct=function(e){this.St=e},n.prototype.delete=function(){return Rf(this.Pt.delete())},n}(),Wy=function(n){function e(t,r){var i=this;return(i=n.call(this,ce.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return(0,k.__extends)(e,n),e}(Ne);function xf(n){return"IndexedDbTransactionError"===n.name}var jae=function(){function n(e){this.store=e}return n.prototype.put=function(e,t){var r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rf(r)},n.prototype.add=function(e){return $e("SimpleDb","ADD",this.store.name,e,e),Rf(this.store.add(e))},n.prototype.get=function(e){var t=this;return Rf(this.store.get(e)).next(function(r){return void 0===r&&(r=null),$e("SimpleDb","GET",t.store.name,e,r),r})},n.prototype.delete=function(e){return $e("SimpleDb","DELETE",this.store.name,e),Rf(this.store.delete(e))},n.prototype.count=function(){return $e("SimpleDb","COUNT",this.store.name),Rf(this.store.count())},n.prototype.Nt=function(e,t){var r=this.cursor(this.options(e,t)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},n.prototype.kt=function(e,t){$e("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,t);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,l){return l.delete()})},n.prototype.$t=function(e,t){var r;t?r=e:(r={},t=e);var i=this.cursor(r);return this.xt(i,t)},n.prototype.Ot=function(e){var t=this.cursor({});return new je(function(r,i){t.onerror=function(o){var a=wM(o.target.error);i(a)},t.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},n.prototype.xt=function(e,t){var r=[];return new je(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var c=new Uae(l),p=t(l.primaryKey,l.value,c);if(p instanceof je){var v=p.catch(function(b){return c.done(),je.reject(b)});r.push(v)}c.isDone?i():null===c.Dt?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return je.waitFor(r)})},n.prototype.options=function(e,t){var r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}},n.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},n}();function Rf(n){return new je(function(e,t){n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i=wM(r.target.error);t(i)}})}var tU=!1;function wM(n){var e=yg._t((0,gt.getUA)());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){var r=new Ne("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tU||(tU=!0,setTimeout(function(){throw r},0)),r}}return n}var nU=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Mt=t,i.currentSequenceNumber=r,i}return(0,k.__extends)(e,n),e}(J6);function qs(n,e){var t=Ze(n);return yg.It(t.Mt,e)}var CM=function(){function n(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}return n.prototype.applyToRemoteDocument=function(e,t){for(var r=t.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&vae(o,e,r[i])}},n.prototype.applyToLocalView=function(e){for(var t=0,r=this.baseMutations;t<r.length;t++)(a=r[t]).key.isEqual(e.key)&&pM(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&pM(a,e,this.localWriteTime)}},n.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;t.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(An.min())})},n.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},_r())},n.prototype.isEqual=function(e){return this.batchId===e.batchId&&sg(this.mutations,e.mutations,function(t,r){return E6(t,r)})&&sg(this.baseMutations,e.baseMutations,function(t,r){return E6(t,r)})},n}(),Hae=function(){function n(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}return n.from=function(e,t,r){Kt(e.mutations.length===r.length);for(var i=x6(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new n(e,t,r,i)},n}(),MC=function(){function n(e,t,r,i,o,a,l){void 0===o&&(o=An.min()),void 0===a&&(a=An.min()),void 0===l&&(l=Cs.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return n.prototype.withSequenceNumber=function(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},n.prototype.withResumeToken=function(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},n.prototype.withLastLimboFreeSnapshotVersion=function(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},n}(),rU=function(n){this.Lt=n};function EM(n,e){if(e.document)return H6(n.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=At.fromSegments(e.noDocument.path),r=wg(e.noDocument.readTime),i=Io.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=At.fromSegments(e.unknownDocument.path);return r=wg(e.unknownDocument.version),Io.newUnknownDocument(o,r)}return St()}function iU(n,e,t){var b,w,r=SM(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o={name:qy(b=n.Lt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:zy(b,w.version.toTimestamp())},a=e.hasCommittedMutations;return new ii(null,null,o,a,r,i)}if(e.isNoDocument()){var l=e.key.path.toArray(),c=bg(e.version);return a=e.hasCommittedMutations,new ii(null,new Lae(l,c),null,a,r,i)}if(e.isUnknownDocument()){var p=e.key.path.toArray(),v=bg(e.version);return new ii(new Vae(p,v),null,null,!0,r,i)}return St()}function SM(n){var e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function oU(n){var e=new Hs(n[0],n[1]);return An.fromTimestamp(e)}function bg(n){var e=n.toTimestamp();return new Fae(e.seconds,e.nanoseconds)}function wg(n){var e=new Hs(n.seconds,n.nanoseconds);return An.fromTimestamp(e)}function Cg(n,e){for(var t=(e.baseMutations||[]).map(function(c){return z6(n.Lt,c)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var a=e.mutations.map(function(c){return z6(n.Lt,c)}),l=Hs.fromMillis(e.localWriteTimeMs);return new CM(e.batchId,l,t,a)}function Gy(n){var e,t,r=wg(n.readTime),i=void 0!==n.lastLimboFreeSnapshotVersion?wg(n.lastLimboFreeSnapshotVersion):An.min();return void 0!==n.query.documents?(Kt(1===(t=n.query).documents.length),e=Qa(dg(B6(t.documents[0])))):e=Qa(W6(n.query)),new MC(e,n.targetId,0,n.lastListenSequenceNumber,r,i,Cs.fromBase64String(n.resumeToken))}function sU(n,e){var t,r=bg(e.snapshotVersion),i=bg(e.lastLimboFreeSnapshotVersion);t=yC(e.target)?q6(n.Lt,e.target):$6(n.Lt,e.target);var o=e.resumeToken.toBase64();return new zs(e.targetId,Fy(e.target),r,o,e.sequenceNumber,i,t)}function TM(n){var e=W6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?h6(e,e.limit,"L"):e}var zae=function(){function n(){}return n.prototype.getBundleMetadata=function(e,t){return aU(e).get(t).next(function(r){if(r)return{id:(i=r).bundleId,createTime:wg(i.createTime),version:i.version};var i})},n.prototype.saveBundleMetadata=function(e,t){return aU(e).put({bundleId:(r=t).id,createTime:bg(co(r.createTime)),version:r.version});var r},n.prototype.getNamedQuery=function(e,t){return lU(e).get(t).next(function(r){if(r)return{name:(i=r).name,query:TM(i.bundledQuery),readTime:wg(i.readTime)};var i})},n.prototype.saveNamedQuery=function(e,t){return lU(e).put({name:(r=t).name,readTime:bg(co(r.readTime)),bundledQuery:r.bundledQuery});var r},n}();function aU(n){return qs(n,vg.store)}function lU(n){return qs(n,_g.store)}var qae=function(){function n(){this.Bt=new DM}return n.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),je.resolve()},n.prototype.getCollectionParents=function(e,t){return je.resolve(this.Bt.getEntries(t))},n}(),DM=function(){function n(){this.index={}}return n.prototype.add=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qi(or.comparator),o=!i.has(r);return this.index[t]=i.add(r),o},n.prototype.has=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)},n.prototype.getEntries=function(e){return(this.index[e]||new qi(or.comparator)).toArray()},n}(),$ae=function(){function n(){this.qt=new DM}return n.prototype.addToCollectionParentIndex=function(e,t){var r=this;if(!this.qt.has(t)){var i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(function(){r.qt.add(t)});var a={collectionId:i,parent:Ul(o)};return uU(e).put(a)}return je.resolve()},n.prototype.getCollectionParents=function(e,t){var r=[],i=IDBKeyRange.bound([t,""],[XB(t),""],!1,!0);return uU(e).Nt(i).next(function(o){for(var a=0,l=o;a<l.length;a++){var c=l[a];if(c.collectionId!==t)break;r.push(Nc(c.parent))}return r})},n}();function uU(n){return qs(n,Mf.store)}var cU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nu=function(){function n(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}return n.withCacheSize=function(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},n}();function dU(n,e,t){var r=n.store(Fr.store),i=n.store(ts.store),o=[],a=IDBKeyRange.only(t.batchId),l=0,c=r.$t({range:a},function(R,N,z){return l++,z.delete()});o.push(c.next(function(){Kt(1===l)}));for(var p=[],v=0,b=t.mutations;v<b.length;v++){var w=b[v],I=ts.key(e,w.key.path,t.batchId);o.push(i.delete(I)),p.push(w.key)}return je.waitFor(o).next(function(){return p})}function xC(n){if(!n)return 0;var e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}Nu.DEFAULT_COLLECTION_PERCENTILE=10,Nu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nu.DEFAULT=new Nu(41943040,Nu.DEFAULT_COLLECTION_PERCENTILE,Nu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nu.DISABLED=new Nu(-1,0,0);var Wae=function(){function n(e,t,r,i){this.userId=e,this.R=t,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return n.Qt=function(e,t,r,i){return Kt(""!==e.uid),new n(e.isAuthenticated()?e.uid:"",t,r,i)},n.prototype.checkEmpty=function(e){var t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).$t({index:Fr.userMutationsIndex,range:r},function(i,o,a){t=!1,a.done()}).next(function(){return t})},n.prototype.addMutationBatch=function(e,t,r,i){var o=this,a=Eg(e),l=Ud(e);return l.add({}).next(function(c){Kt("number"==typeof c);for(var p=new CM(c,t,r,i),v=function(Q,Y,ae){var Ee=ae.baseMutations.map(function(De){return kC(Q.Lt,De)}),Ve=ae.mutations.map(function(De){return kC(Q.Lt,De)});return new Fr(Y,ae.batchId,ae.localWriteTime.toMillis(),Ee,Ve)}(o.R,o.userId,p),b=[],w=new qi(function(Q,Y){return jn(Q.canonicalString(),Y.canonicalString())}),I=0,R=i;I<R.length;I++){var N=R[I],z=ts.key(o.userId,N.key.path,c);w=w.add(N.key.path.popLast()),b.push(l.put(v)),b.push(a.put(z,ts.PLACEHOLDER))}return w.forEach(function(Q){b.push(o.Ut.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(function(){o.Kt[c]=p.keys()}),je.waitFor(b).next(function(){return p})})},n.prototype.lookupMutationBatch=function(e,t){var r=this;return Ud(e).get(t).next(function(i){return i?(Kt(i.userId===r.userId),Cg(r.R,i)):null})},n.prototype.jt=function(e,t){var r=this;return this.Kt[t]?je.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(i){if(i){var o=i.keys();return r.Kt[t]=o,o}return null})},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var r=this,i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Ud(e).$t({index:Fr.userMutationsIndex,range:o},function(l,c,p){c.userId===r.userId&&(Kt(c.batchId>=i),a=Cg(r.R,c)),p.done()}).next(function(){return a})},n.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ud(e).$t({index:Fr.userMutationsIndex,range:t,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},n.prototype.getAllMutationBatches=function(e){var t=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).Nt(Fr.userMutationsIndex,r).next(function(i){return i.map(function(o){return Cg(t.R,o)})})},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=ts.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=[];return Eg(e).$t({range:o},function(l,c,p){var v=l[0],w=l[2],I=Nc(l[1]);if(v===r.userId&&t.path.isEqual(I))return Ud(e).get(w).next(function(R){if(!R)throw St();Kt(R.userId===r.userId),a.push(Cg(r.R,R))});p.done()}).next(function(){return a})},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new qi(jn),o=[];return t.forEach(function(a){var l=ts.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),p=Eg(e).$t({range:c},function(v,b,w){var I=v[0],N=v[2],z=Nc(v[1]);I===r.userId&&a.path.isEqual(z)?i=i.add(N):w.done()});o.push(p)}),je.waitFor(o).next(function(){return r.Wt(e,i)})},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=this,i=t.path,o=i.length+1,a=ts.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new qi(jn);return Eg(e).$t({range:l},function(p,v,b){var w=p[0],R=p[2],N=Nc(p[1]);w===r.userId&&i.isPrefixOf(N)?N.length===o&&(c=c.add(R)):b.done()}).next(function(){return r.Wt(e,c)})},n.prototype.Wt=function(e,t){var r=this,i=[],o=[];return t.forEach(function(a){o.push(Ud(e).get(a).next(function(l){if(null===l)throw St();Kt(l.userId===r.userId),i.push(Cg(r.R,l))}))}),je.waitFor(o).next(function(){return i})},n.prototype.removeMutationBatch=function(e,t){var r=this;return dU(e.Mt,this.userId,t).next(function(i){return e.addOnCommittedListener(function(){r.Gt(t.batchId)}),je.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},n.prototype.Gt=function(e){delete this.Kt[e]},n.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(r){if(!r)return je.resolve();var i=IDBKeyRange.lowerBound(ts.prefixForUser(t.userId)),o=[];return Eg(e).$t({range:i},function(a,l,c){if(a[0]===t.userId){var p=Nc(a[1]);o.push(p)}else c.done()}).next(function(){Kt(0===o.length)})})},n.prototype.containsKey=function(e,t){return hU(e,this.userId,t)},n.prototype.zt=function(e){var t=this;return fU(e).get(this.userId).next(function(r){return r||new Bd(t.userId,-1,"")})},n}();function hU(n,e,t){var r=ts.prefixForPath(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Eg(n).$t({range:o,Ft:!0},function(l,c,p){l[0]===e&&l[1]===i&&(a=!0),p.done()}).next(function(){return a})}function Ud(n){return qs(n,Fr.store)}function Eg(n){return qs(n,ts.store)}function fU(n){return qs(n,Bd.store)}var RC=function(){function n(e){this.Ht=e}return n.prototype.next=function(){return this.Ht+=2,this.Ht},n.Jt=function(){return new n(0)},n.Yt=function(){return new n(-1)},n}(),Gae=function(){function n(e,t){this.referenceDelegate=e,this.R=t}return n.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(r){var i=new RC(r.highestTargetId);return r.highestTargetId=i.next(),t.Zt(e,r).next(function(){return r.highestTargetId})})},n.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return An.fromTimestamp(new Hs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},n.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},n.prototype.setTargetsMetadata=function(e,t,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),i.Zt(e,o)})},n.prototype.addTargetData=function(e,t){var r=this;return this.te(e,t).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(t,i),r.Zt(e,i)})})},n.prototype.updateTargetData=function(e,t){return this.te(e,t)},n.prototype.removeTargetData=function(e,t){var r=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Sg(e).delete(t.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Kt(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,a=[];return Sg(e).$t(function(l,c){var p=Gy(c);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(o++,a.push(i.removeTargetData(e,p)))}).next(function(){return je.waitFor(a)}).next(function(){return o})},n.prototype.forEachTarget=function(e,t){return Sg(e).$t(function(r,i){var o=Gy(i);t(o)})},n.prototype.Xt=function(e){return pU(e).get(ya.key).next(function(t){return Kt(null!==t),t})},n.prototype.Zt=function(e,t){return pU(e).put(ya.key,t)},n.prototype.te=function(e,t){return Sg(e).put(sU(this.R,t))},n.prototype.ee=function(e,t){var r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},n.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},n.prototype.getTargetData=function(e,t){var r=Fy(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Sg(e).$t({range:i,index:zs.queryTargetsIndexName},function(a,l,c){var p=Gy(l);_C(t,p.target)&&(o=p,c.done())}).next(function(){return o})},n.prototype.addMatchingKeys=function(e,t,r){var i=this,o=[],a=jd(e);return t.forEach(function(l){var c=Ul(l.path);o.push(a.put(new ko(r,c))),o.push(i.referenceDelegate.addReference(e,r,l))}),je.waitFor(o)},n.prototype.removeMatchingKeys=function(e,t,r){var i=this,o=jd(e);return je.forEach(t,function(a){var l=Ul(a.path);return je.waitFor([o.delete([r,l]),i.referenceDelegate.removeReference(e,r,a)])})},n.prototype.removeMatchingKeysForTargetId=function(e,t){var r=jd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=IDBKeyRange.bound([t],[t+1],!1,!0),i=jd(e),o=_r();return i.$t({range:r,Ft:!0},function(a,l,c){var p=Nc(a[1]),v=new At(p);o=o.add(v)}).next(function(){return o})},n.prototype.containsKey=function(e,t){var r=Ul(t.path),i=IDBKeyRange.bound([r],[XB(r)],!1,!0),o=0;return jd(e).$t({index:ko.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){0!==a[0]&&(o++,c.done())}).next(function(){return o>0})},n.prototype.lt=function(e,t){return Sg(e).get(t).next(function(r){return r?Gy(r):null})},n}();function Sg(n){return qs(n,zs.store)}function pU(n){return qs(n,ya.store)}function jd(n){return qs(n,ko.store)}function Pf(n){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Z6)throw n;return $e("LocalStore","Unexpectedly lost primary lease"),[2]})})}function mU(n,e){var r=n[1],o=e[1],a=jn(n[0],e[0]);return 0===a?jn(r,o):a}var Kae=function(){function n(e){this.ne=e,this.buffer=new qi(mU),this.se=0}return n.prototype.ie=function(){return++this.se},n.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var r=this.buffer.last();mU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}},Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),n}(),Yae=function(){function n(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return n.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},n.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(n.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),n.prototype.ue=function(e){var t=this,r=this.oe?3e5:6e4;$e("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return(0,k.__awaiter)(t,void 0,void 0,function(){var i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return xf(i=o.sent())?($e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Pf(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},n}(),Qae=function(){function n(e,t){this.ae=e,this.params=t}return n.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(r){return Math.floor(t/100*r)})},n.prototype.nthSequenceNumber=function(e,t){var r=this;if(0===t)return je.resolve(ma.o);var i=new Kae(t);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},n.prototype.removeTargets=function(e,t,r){return this.ae.removeTargets(e,t,r)},n.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},n.prototype.collect=function(e,t){var r=this;return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(cU)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),cU):r.fe(e,t)})},n.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},n.prototype.fe=function(e,t){var r,i,o,a,l,c,p,v=this,b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(w){return w>v.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+w),i=v.params.maximumSequenceNumbersToCollect):i=w,a=Date.now(),v.nthSequenceNumber(e,i)}).next(function(w){return r=w,l=Date.now(),v.removeTargets(e,r,t)}).next(function(w){return o=w,c=Date.now(),v.removeOrphanedDocuments(e,r)}).next(function(w){return p=Date.now(),rM()<=_s.LogLevel.DEBUG&&$e("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-b)+"ms\n\tDetermined least recently used "+i+" in "+(l-a)+"ms\n\tRemoved "+o+" targets in "+(c-l)+"ms\n\tRemoved "+w+" documents in "+(p-c)+"ms\nTotal Duration: "+(p-b)+"ms"),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:w})})},n}(),Xae=function(){function n(e,t){this.db=e,this.garbageCollector=new Qae(this,t)}return n.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return t.next(function(i){return r+i})})},n.prototype.de=function(e){var t=0;return this.le(e,function(r){t++}).next(function(){return t})},n.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},n.prototype.le=function(e,t){return this.we(e,function(r,i){return t(i)})},n.prototype.addReference=function(e,t,r){return PC(e,r)},n.prototype.removeReference=function(e,t,r){return PC(e,r)},n.prototype.removeTargets=function(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)},n.prototype.markPotentiallyOrphaned=function(e,t){return PC(e,t)},n.prototype._e=function(e,t){return i=t,o=!1,fU(r=e).Ot(function(a){return hU(r,a,i).next(function(l){return l&&(o=!0),je.resolve(!l)})}).next(function(){return o});var r,i,o},n.prototype.removeOrphanedDocuments=function(e,t){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(l,c){if(c<=t){var p=r._e(e,l).next(function(v){if(!v)return a++,i.getEntry(e,l).next(function(){return i.removeEntry(l),jd(e).delete([0,Ul(l.path)])})});o.push(p)}}).next(function(){return je.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},n.prototype.removeTarget=function(e,t){var r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},n.prototype.updateLimboDocument=function(e,t){return PC(e,t)},n.prototype.we=function(e,t){var r,i=jd(e),o=ma.o;return i.$t({index:ko.documentTargetsIndex},function(a,l){var p=l.path,v=l.sequenceNumber;0===a[0]?(o!==ma.o&&t(new At(Nc(r)),o),o=v,r=p):o=ma.o}).next(function(){o!==ma.o&&t(new At(Nc(r)),o)})},n.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},n}();function PC(n,e){return jd(n).put((r=n.currentSequenceNumber,new ko(0,Ul(e.path),r)));var r}var Tg=function(){function n(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return n.prototype.get=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(var i=0,o=r;i<o.length;i++){var a=o[i],c=a[1];if(this.equalsFn(a[0],e))return c}},n.prototype.has=function(e){return void 0!==this.get(e)},n.prototype.set=function(e,t){var r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]},n.prototype.delete=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1},n.prototype.forEach=function(e){Tf(this.inner,function(t,r){for(var i=0,o=r;i<o.length;i++){var a=o[i];e(a[0],a[1])}})},n.prototype.isEmpty=function(){return JB(this.inner)},n}(),gU=function(){function n(){this.changes=new Tg(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return n.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:An.min()},n.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},n.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Io.newInvalidDocument(e),readTime:t})},n.prototype.getEntry=function(e,t){this.assertNotApplied();var r=this.changes.get(t);return void 0!==r?je.resolve(r.document):this.getFromCache(e,t)},n.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},n.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},n.prototype.assertNotApplied=function(){},n}(),Zae=function(){function n(e,t){this.R=e,this.Ut=t}return n.prototype.addEntry=function(e,t,r){return Hd(e).put(OC(t),r)},n.prototype.removeEntry=function(e,t){var r=Hd(e),i=OC(t);return r.delete(i)},n.prototype.updateMetadata=function(e,t){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=t,r.me(e,i)})},n.prototype.getEntry=function(e,t){var r=this;return Hd(e).get(OC(t)).next(function(i){return r.ye(t,i)})},n.prototype.ge=function(e,t){var r=this;return Hd(e).get(OC(t)).next(function(i){return{document:r.ye(t,i),size:xC(i)}})},n.prototype.getEntries=function(e,t){var r=this,i=Xa();return this.pe(e,t,function(o,a){var l=r.ye(o,a);i=i.insert(o,l)}).next(function(){return i})},n.prototype.Ee=function(e,t){var r=this,i=Xa(),o=new es(At.comparator);return this.pe(e,t,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),o=o.insert(a,xC(l))}).next(function(){return{documents:i,Te:o}})},n.prototype.pe=function(e,t,r){if(t.isEmpty())return je.resolve();var i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),a=o.getNext();return Hd(e).$t({range:i},function(l,c,p){for(var v=At.fromSegments(l);a&&At.comparator(a,v)<0;)r(a,null),a=o.getNext();a&&a.isEqual(v)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?p.Ct(a.path.toArray()):p.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){var i=this,o=Xa(),a=t.path.length+1,l={};if(r.isEqual(An.min())){var c=t.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var p=t.path.toArray(),v=SM(r);l.range=IDBKeyRange.lowerBound([p,v],!0),l.index=ii.collectionReadTimeIndex}return Hd(e).$t(l,function(b,w,I){if(b.length===a){var R=EM(i.R,w);t.path.isPrefixOf(R.key.path)?By(t,R)&&(o=o.insert(R.key,R)):I.done()}}).next(function(){return o})},n.prototype.newChangeBuffer=function(e){return new Jae(this,!!e&&e.trackRemovals)},n.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},n.prototype.getMetadata=function(e){return vU(e).get(Ou.key).next(function(t){return Kt(!!t),t})},n.prototype.me=function(e,t){return vU(e).put(Ou.key,t)},n.prototype.ye=function(e,t){if(t){var r=EM(this.R,t);if(!r.isNoDocument()||!r.version.isEqual(An.min()))return r}return Io.newInvalidDocument(e)},n}(),Jae=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Ie=t,i.trackRemovals=r,i.Ae=new Tg(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return(0,k.__extends)(e,n),e.prototype.applyChanges=function(t){var r=this,i=[],o=0,a=new qi(function(l,c){return jn(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var p=r.Ae.get(l);if(c.document.isValidDocument()){var v=iU(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var b=xC(v);o+=b-p,i.push(r.Ie.addEntry(t,l,v))}else if(o-=p,r.trackRemovals){var w=iU(r.Ie.R,Io.newNoDocument(l,An.min()),r.getReadTime(l));i.push(r.Ie.addEntry(t,l,w))}else i.push(r.Ie.removeEntry(t,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(t,l))}),i.push(this.Ie.updateMetadata(t,o)),je.waitFor(i)},e.prototype.getFromCache=function(t,r){var i=this;return this.Ie.ge(t,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(t,r){var i=this;return this.Ie.Ee(t,r).next(function(o){var a=o.documents;return o.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},e}(gU);function vU(n){return qs(n,Ou.store)}function Hd(n){return qs(n,ii.store)}function OC(n){return n.path.toArray()}var ele=function(){function n(e){this.R=e}return n.prototype.Rt=function(e,t,r,i){var o=this;Kt(r<i&&r>=0&&i<=11);var c,a=new eU("createOrUpgrade",t);r<1&&i>=1&&(e.createObjectStore(_a.store),(c=e).createObjectStore(Bd.store,{keyPath:Bd.keyPath}),c.createObjectStore(Fr.store,{keyPath:Fr.keyPath,autoIncrement:!0}).createIndex(Fr.userMutationsIndex,Fr.userMutationsKeyPath,{unique:!0}),c.createObjectStore(ts.store),_U(e),function(c){c.createObjectStore(ii.store)}(e));var l=je.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore(ko.store),c.deleteObjectStore(zs.store),c.deleteObjectStore(ya.store)}(e),_U(e)),l=l.next(function(){return function(c){var p=c.store(ya.store),v=new ya(0,0,An.min().toTimestamp(),0);return p.put(ya.key,v)}(a)})),r<4&&i>=4&&(0!==r&&(l=l.next(function(){return function(c,p){return p.store(Fr.store).Nt().next(function(v){c.deleteObjectStore(Fr.store),c.createObjectStore(Fr.store,{keyPath:Fr.keyPath,autoIncrement:!0}).createIndex(Fr.userMutationsIndex,Fr.userMutationsKeyPath,{unique:!0});var b=p.store(Fr.store),w=v.map(function(I){return b.put(I)});return je.waitFor(w)})}(e,a)})),l=l.next(function(){!function(c){c.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(e)})),r<5&&i>=5&&(l=l.next(function(){return o.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Ou.store)}(e),o.be(a)})),r<7&&i>=7&&(l=l.next(function(){return o.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var p=c.objectStore(ii.store);p.createIndex(ii.readTimeIndex,ii.readTimeIndexPath,{unique:!1}),p.createIndex(ii.collectionReadTimeIndex,ii.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(l=l.next(function(){return o.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(vg.store,{keyPath:vg.keyPath})})(e),function(c){c.createObjectStore(_g.store,{keyPath:_g.keyPath})}(e)})),l},n.prototype.be=function(e){var t=0;return e.store(ii.store).$t(function(r,i){t+=xC(i)}).next(function(){var r=new Ou(t);return e.store(Ou.store).put(Ou.key,r)})},n.prototype.Re=function(e){var t=this,r=e.store(Bd.store),i=e.store(Fr.store);return r.Nt().next(function(o){return je.forEach(o,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Fr.userMutationsIndex,l).next(function(c){return je.forEach(c,function(p){Kt(p.userId===a.userId);var v=Cg(t.R,p);return dU(e,a.userId,v).next(function(){})})})})})},n.prototype.ve=function(e){var t=e.store(ko.store),r=e.store(ii.store);return e.store(ya.store).get(ya.key).next(function(i){var o=[];return r.$t(function(a,l){var c=new or(a),p=[0,Ul(c)];o.push(t.get(p).next(function(v){return v?je.resolve():t.put(new ko(0,Ul(c),i.highestListenSequenceNumber))}))}).next(function(){return je.waitFor(o)})})},n.prototype.Pe=function(e,t){e.createObjectStore(Mf.store,{keyPath:Mf.keyPath});var r=t.store(Mf.store),i=new DM,o=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Ul(c)})}};return t.store(ii.store).$t({Ft:!0},function(a,l){var c=new or(a);return o(c.popLast())}).next(function(){return t.store(ts.store).$t({Ft:!0},function(a,l){var p=Nc(a[1]);return o(p.popLast())})})},n.prototype.Ve=function(e){var t=this,r=e.store(zs.store);return r.$t(function(i,o){var a=Gy(o),l=sU(t.R,a);return r.put(l)})},n}();function _U(n){n.createObjectStore(ko.store,{keyPath:ko.keyPath}).createIndex(ko.documentTargetsIndex,ko.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(zs.store,{keyPath:zs.keyPath}).createIndex(zs.queryTargetsIndexName,zs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ya.store)}var AM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tle=function(){function n(e,t,r,i,o,a,l,c,p,v){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Se=o,this.window=a,this.document=l,this.De=p,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(b){return Promise.resolve()},!n.yt())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xae(this,i),this.Le=t+"main",this.R=new rU(c),this.Be=new yg(this.Le,11,new ele(this.R)),this.qe=new Gae(this.referenceDelegate,this.R),this.Ut=new $ae,this.Ue=new Zae(this.R,this.Ut),this.Ke=new zae,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===v&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return n.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,AM);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new ma(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},n.prototype.He=function(e){var t=this;return this.Me=function(r){return(0,k.__awaiter)(t,void 0,void 0,function(){return(0,k.__generator)(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},n.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(r){return(0,k.__awaiter)(t,void 0,void 0,function(){return(0,k.__generator)(this,function(i){switch(i.label){case 0:return null===r.newVersion?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},n.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,k.__awaiter)(t,void 0,void 0,function(){return(0,k.__generator)(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},n.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return NC(t).put(new Fc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(r){return e.isPrimary&&!r?e.Xe(t).next(function(){return!1}):!!r&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(xf(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},n.prototype.Je=function(e){var t=this;return Ky(e).get(_a.key).next(function(r){return je.resolve(t.tn(r))})},n.prototype.en=function(e){return NC(e).delete(this.clientId)},n.prototype.nn=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,o=this;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=qs(l,Fc.store);return c.Nt().next(function(p){var v=o.rn(p,18e5),b=p.filter(function(w){return-1===v.indexOf(w)});return je.forEach(b,function(w){return c.delete(w.clientId)}).next(function(){return b})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(t=0,r=e;t<r.length;t++)this.Qe.removeItem(this.on(r[t].clientId));a.label=2;case 2:return[2]}})})},n.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},n.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},n.prototype.Ye=function(e){var t=this;return this.Ce?je.resolve(!0):Ky(e).get(_a.key).next(function(r){if(null!==r&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)){if(t.tn(r)&&t.networkEnabled)return!0;if(!t.tn(r)){if(!r.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,AM);return!1}}return!(!t.networkEnabled||!t.inForeground)||NC(e).Nt().next(function(i){return void 0===t.rn(i,5e3).find(function(o){return!(t.clientId===o.clientId||!(!t.networkEnabled&&o.networkEnabled||!t.inForeground&&o.inForeground&&t.networkEnabled===o.networkEnabled))})})}).next(function(r){return t.isPrimary!==r&&$e("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},n.prototype.shutdown=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_a.store,Fc.store],function(r){var i=new nU(r,ma.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},n.prototype.rn=function(e,t){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,t)&&!r.cn(i.clientId)})},n.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return NC(t).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.getMutationQueue=function(e){return Wae.Qt(e,this.R,this.Ut,this.referenceDelegate)},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var o,i=this;return $e("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Bae,function(l){return o=new nU(l,i.Ne?i.Ne.next():ma.o),"readwrite-primary"===t?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw Ii("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ne(ce.FAILED_PRECONDITION,Z6);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(l){return o.raiseOnCommittedEvent(),l})},n.prototype.dn=function(e){var t=this;return Ky(e).get(_a.key).next(function(r){if(null!==r&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)&&!t.tn(r)&&!(t.Ce||t.allowTabSynchronization&&r.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,AM)})},n.prototype.Ze=function(e){var t=new _a(this.clientId,this.allowTabSynchronization,Date.now());return Ky(e).put(_a.key,t)},n.yt=function(){return yg.yt()},n.prototype.Xe=function(e){var t=this,r=Ky(e);return r.get(_a.key).next(function(i){return t.tn(i)?($e("IndexedDbPersistence","Releasing primary lease."),r.delete(_a.key)):je.resolve()})},n.prototype.sn=function(e,t){var r=Date.now();return!(e<r-t||e>r&&(Ii("Detected an update time that is in the future: "+e+" > "+r),1))},n.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},n.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},n.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,gt.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},n.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},n.prototype.cn=function(e){var t;try{var r=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return $e("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ii("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},n.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}},n.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},n.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},n}();function Ky(n){return qs(n,_a.store)}function NC(n){return qs(n,Fc.store)}function IM(n,e){var t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var nle=function(n,e){this.progress=n,this.wn=e},yU=function(){function n(e,t,r){this.Ue=e,this._n=t,this.Ut=r}return n.prototype.mn=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(i){return r.yn(e,t,i)})},n.prototype.yn=function(e,t,r){return this.Ue.getEntry(e,t).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},n.prototype.gn=function(e,t){e.forEach(function(r,i){for(var o=0,a=t;o<a.length;o++)a[o].applyToLocalView(i)})},n.prototype.pn=function(e,t){var r=this;return this.Ue.getEntries(e,t).next(function(i){return r.En(e,i).next(function(){return i})})},n.prototype.En=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(i){return r.gn(t,i)})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){return At.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Tn(e,t.path):hM(t)?this.In(e,t,r):this.An(e,t,r);var i},n.prototype.Tn=function(e,t){return this.mn(e,new At(t)).next(function(r){var i=gM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},n.prototype.In=function(e,t,r){var i=this,o=t.collectionGroup,a=gM();return this.Ut.getCollectionParents(e,o).next(function(l){return je.forEach(l,function(c){var v,b,p=(v=t,b=c.child(o),new Oc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));return i.An(e,p,r).next(function(v){v.forEach(function(b,w){a=a.insert(b,w)})})}).next(function(){return a})})},n.prototype.An=function(e,t,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,t,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(l){return a.Rn(e,o=l,i).next(function(c){i=c;for(var p=0,v=o;p<v.length;p++)for(var b=v[p],w=0,I=b.mutations;w<I.length;w++){var R=I[w],N=R.key,z=i.get(N);null==z&&(z=Io.newInvalidDocument(N),i=i.insert(N,z)),pM(R,z,b.localWriteTime),z.isFoundDocument()||(i=i.remove(N))}})}).next(function(){return i.forEach(function(l,c){By(t,c)||(i=i.remove(l))}),i})},n.prototype.Rn=function(e,t,r){for(var i=_r(),o=0,a=t;o<a.length;o++)for(var l=0,c=a[o].mutations;l<c.length;l++){var p=c[l];p instanceof Ld&&null===r.get(p.key)&&(i=i.add(p.key))}var v=r;return this.Ue.getEntries(e,i).next(function(b){return b.forEach(function(w,I){I.isFoundDocument()&&(v=v.insert(w,I))}),v})},n}(),rle=function(){function n(e,t,r,i){this.targetId=e,this.fromCache=t,this.bn=r,this.vn=i}return n.Pn=function(e,t){for(var r=_r(),i=_r(),o=0,a=t.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new n(e,t.fromCache,r,i)},n}(),bU=function(){function n(){}return n.prototype.Vn=function(e){this.Sn=e},n.prototype.getDocumentsMatchingQuery=function(e,t,r,i){var a,o=this;return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(An.min())?this.Dn(e,t):this.Sn.pn(e,i).next(function(a){var l=o.Cn(t,a);return(wC(t)||CC(t))&&o.Nn(t.limitType,l,i,r)?o.Dn(e,t):(rM()<=_s.LogLevel.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fM(t)),o.Sn.getDocumentsMatchingQuery(e,t,r).next(function(c){return l.forEach(function(p){c=c.insert(p.key,p)}),c}))})},n.prototype.Cn=function(e,t){var r=new qi(p6(e));return t.forEach(function(i,o){By(e,o)&&(r=r.add(o))}),r},n.prototype.Nn=function(e,t,r,i){if(r.size!==t.size)return!0;var o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},n.prototype.Dn=function(e,t){return rM()<=_s.LogLevel.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",fM(t)),this.Sn.getDocumentsMatchingQuery(e,t,An.min())},n}(),ile=function(){function n(e,t,r,i){this.persistence=e,this.xn=t,this.R=i,this.kn=new es(jn),this.Fn=new Tg(function(o){return Fy(o)},_C),this.$n=An.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new yU(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return n.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,t.kn)})},n}();function wU(n,e,t,r){return new ile(n,e,t,r)}function CU(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return t=Ze(n),r=t._n,i=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(l){var c;return t._n.getAllMutationBatches(l).next(function(p){return c=p,r=t.persistence.getMutationQueue(e),i=new yU(t.On,r,t.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var v=[],b=[],w=_r(),I=0,R=c;I<R.length;I++){var N=R[I];v.push(N.batchId);for(var z=0,Q=N.mutations;z<Q.length;z++)w=w.add(Q[z].key)}for(var ae=0,Ee=p;ae<Ee.length;ae++){var Ve=Ee[ae];b.push(Ve.batchId);for(var De=0,xt=Ve.mutations;De<xt.length;De++)w=w.add(xt[De].key)}return i.pn(l,w).next(function(nt){return{Ln:nt,removedBatchIds:v,addedBatchIds:b}})})})];case 1:return o=a.sent(),[2,(t._n=r,t.Mn=i,t.xn.Vn(t.Mn),o)]}})})}function ole(n,e){var t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var a,l,c,p,v,b,w,i=e.batch.keys(),o=t.On.newChangeBuffer({trackRemovals:!0});return(a=t,l=r,c=e,p=o,v=c.batch,b=v.keys(),w=je.resolve(),b.forEach(function(I){w=w.next(function(){return p.getEntry(l,I)}).next(function(R){var N=c.docVersions.get(I);Kt(null!==N),R.version.compareTo(N)<0&&(v.applyToRemoteDocument(R,c),R.isValidDocument()&&p.addEntry(R,c.commitVersion))})}),w.next(function(){return a._n.removeMutationBatch(l,v)})).next(function(){return o.apply(r)}).next(function(){return t._n.performConsistencyCheck(r)}).next(function(){return t.Mn.pn(r,i)})})}function EU(n){var e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function sle(n,e){var t=Ze(n),r=e.snapshotVersion,i=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=t.On.newChangeBuffer({trackRemovals:!0});i=t.kn;var l=[];e.targetChanges.forEach(function(v,b){var N,z,Q,w=i.get(b);if(w){l.push(t.qe.removeMatchingKeys(o,v.removedDocuments,b).next(function(){return t.qe.addMatchingKeys(o,v.addedDocuments,b)}));var I=v.resumeToken;if(I.approximateByteSize()>0){var R=w.withResumeToken(I,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(b,R),N=w,Q=v,Kt((z=R).resumeToken.approximateByteSize()>0),(0===N.resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&l.push(t.qe.updateTargetData(o,R))}}});var c=Xa();if(e.documentUpdates.forEach(function(v,b){e.resolvedLimboDocuments.has(v)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),l.push(SU(o,a,e.documentUpdates,r,void 0).next(function(v){c=v})),!r.isEqual(An.min())){var p=t.qe.getLastRemoteSnapshotVersion(o).next(function(v){return t.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});l.push(p)}return je.waitFor(l).next(function(){return a.apply(o)}).next(function(){return t.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return t.kn=i,o})}function SU(n,e,t,r,i){var o=_r();return t.forEach(function(a){return o=o.add(a)}),e.getEntries(n,o).next(function(a){var l=Xa();return t.forEach(function(c,p){var v=a.get(c),b=(null==i?void 0:i.get(c))||r;p.isNoDocument()&&p.version.isEqual(An.min())?(e.removeEntry(c,b),l=l.insert(c,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p,b),l=l.insert(c,p)):$e("LocalStore","Ignoring outdated watch update for ",c,". Current version:",v.version," Watch version:",p.version)}),l})}function ale(n,e){var t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",function(r){return void 0===e&&(e=-1),t._n.getNextMutationBatchAfterBatchId(r,e)})}function Dg(n,e){var t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return t.qe.getTargetData(r,e).next(function(o){return o?je.resolve(i=o):t.qe.allocateTargetId(r).next(function(a){return i=new MC(e,a,0,r.currentSequenceNumber),t.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=t.kn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.kn=t.kn.insert(r.targetId,r),t.Fn.set(e,r.targetId)),r})}function Ag(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:r=Ze(n),i=r.kn.get(e),o=t?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),t?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!xf(a=l.sent()))throw a;return $e("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function FC(n,e,t){var r=Ze(n),i=An.min(),o=_r();return r.persistence.runTransaction("Execute query","readonly",function(a){return(l=r,c=a,p=Qa(e),v=Ze(l),b=v.Fn.get(p),void 0!==b?je.resolve(v.kn.get(b)):v.qe.getTargetData(c,p)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,t?i:An.min(),t?o:_r())}).next(function(l){return{documents:l,Bn:o}});var l,c,p,v,b})}function TU(n,e){var t=Ze(n),r=Ze(t.qe),i=t.kn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function DU(n){var e=Ze(n);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return i=t,o=e.$n,a=Ze(e.On),l=Xa(),c=SM(o),p=Hd(i),v=IDBKeyRange.lowerBound(c,!0),p.$t({index:ii.readTimeIndex,range:v},function(b,w){var I=EM(a.R,w);l=l.insert(I.key,I),c=w.readTime}).next(function(){return{wn:l,readTime:oU(c)}});var i,o,a,l,c,p,v}).then(function(t){var r=t.wn;return e.$n=t.readTime,r})}function lle(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){return[2,(e=Ze(n)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return o=Hd(r),a=An.min(),o.$t({index:ii.readTimeIndex,reverse:!0},function(l,c,p){c.readTime&&(a=oU(c.readTime)),p.done()}).next(function(){return a});var o,a}).then(function(r){e.$n=r})]})})}function ule(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,l,c,p,v,b,w,I;return(0,k.__generator)(this,function(R){switch(R.label){case 0:for(i=Ze(n),o=_r(),a=Xa(),l=x6(),c=0,p=t;c<p.length;c++)b=e.qn((v=p[c]).metadata.name),v.document&&(o=o.add(b)),a=a.insert(b,e.Un(v)),l=l.insert(b,e.Kn(v.metadata.readTime));return w=i.On.newChangeBuffer({trackRemovals:!0}),[4,Dg(i,(N=r,Qa(dg(or.fromString("__bundle__/docs/"+N)))))];case 1:return I=R.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(N){return SU(N,w,a,An.min(),l).next(function(z){return w.apply(N),z}).next(function(z){return i.qe.removeMatchingKeysForTargetId(N,I.targetId).next(function(){return i.qe.addMatchingKeys(N,o,I.targetId)}).next(function(){return i.Mn.En(N,z)}).next(function(){return z})})})]}var N})})}function cle(n,e,t){return void 0===t&&(t=_r()),(0,k.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,Dg(n,Qa(TM(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ze(n)).persistence.runTransaction("Save named query","readwrite",function(a){var l=co(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Cs.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,t,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}var dle=function(){function n(e){this.R=e,this.Qn=new Map,this.jn=new Map}return n.prototype.getBundleMetadata=function(e,t){return je.resolve(this.Qn.get(t))},n.prototype.saveBundleMetadata=function(e,t){var r;return this.Qn.set(t.id,{id:(r=t).id,version:r.version,createTime:co(r.createTime)}),je.resolve()},n.prototype.getNamedQuery=function(e,t){return je.resolve(this.jn.get(t))},n.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(r=t).name,query:TM(r.bundledQuery),readTime:co(r.readTime)}),je.resolve();var r},n}(),kM=function(){function n(){this.Wn=new qi(ho.Gn),this.zn=new qi(ho.Hn)}return n.prototype.isEmpty=function(){return this.Wn.isEmpty()},n.prototype.addReference=function(e,t){var r=new ho(e,t);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},n.prototype.Jn=function(e,t){var r=this;e.forEach(function(i){return r.addReference(i,t)})},n.prototype.removeReference=function(e,t){this.Yn(new ho(e,t))},n.prototype.Xn=function(e,t){var r=this;e.forEach(function(i){return r.removeReference(i,t)})},n.prototype.Zn=function(e){var t=this,r=new At(new or([])),i=new ho(r,e),o=new ho(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(l){t.Yn(l),a.push(l.key)}),a},n.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},n.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},n.prototype.es=function(e){var t=new At(new or([])),r=new ho(t,e),i=new ho(t,e+1),o=_r();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},n.prototype.containsKey=function(e){var t=new ho(e,0),r=this.Wn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)},n}(),ho=function(){function n(e,t){this.key=e,this.ns=t}return n.Gn=function(e,t){return At.comparator(e.key,t.key)||jn(e.ns,t.ns)},n.Hn=function(e,t){return jn(e.ns,t.ns)||At.comparator(e.key,t.key)},n}(),hle=function(){function n(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new qi(ho.Gn)}return n.prototype.checkEmpty=function(e){return je.resolve(0===this._n.length)},n.prototype.addMutationBatch=function(e,t,r,i){var o=this.ss;this.ss++;var a=new CM(o,t,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var p=c[l];this.rs=this.rs.add(new ho(p.key,o)),this.Ut.addToCollectionParentIndex(e,p.key.path.popLast())}return je.resolve(a)},n.prototype.lookupMutationBatch=function(e,t){return je.resolve(this.os(t))},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var i=this.cs(t+1),o=i<0?0:i;return je.resolve(this._n.length>o?this._n[o]:null)},n.prototype.getHighestUnacknowledgedBatchId=function(){return je.resolve(0===this._n.length?-1:this.ss-1)},n.prototype.getAllMutationBatches=function(e){return je.resolve(this._n.slice())},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=new ho(t,0),o=new ho(t,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(l){var c=r.os(l.ns);a.push(c)}),je.resolve(a)},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new qi(jn);return t.forEach(function(o){var a=new ho(o,0),l=new ho(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),je.resolve(this.us(i))},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=t.path,i=r.length+1,o=r;At.isDocumentKey(o)||(o=o.child(""));var a=new ho(new At(o),0),l=new qi(jn);return this.rs.forEachWhile(function(c){var p=c.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(c.ns)),!0)},a),je.resolve(this.us(l))},n.prototype.us=function(e){var t=this,r=[];return e.forEach(function(i){var o=t.os(i);null!==o&&r.push(o)}),r},n.prototype.removeMutationBatch=function(e,t){var r=this;Kt(0===this.hs(t.batchId,"removed")),this._n.shift();var i=this.rs;return je.forEach(t.mutations,function(o){var a=new ho(o.key,t.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},n.prototype.Gt=function(e){},n.prototype.containsKey=function(e,t){var r=new ho(t,0),i=this.rs.firstAfterOrEqual(r);return je.resolve(t.isEqual(i&&i.key))},n.prototype.performConsistencyCheck=function(e){return je.resolve()},n.prototype.hs=function(e,t){return this.cs(e)},n.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},n.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},n}(),fle=function(){function n(e,t){this.Ut=e,this.ls=t,this.docs=new es(At.comparator),this.size=0}return n.prototype.addEntry=function(e,t,r){var i=t.key,o=this.docs.get(i),a=o?o.size:0,l=this.ls(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},n.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},n.prototype.getEntry=function(e,t){var r=this.docs.get(t);return je.resolve(r?r.document.clone():Io.newInvalidDocument(t))},n.prototype.getEntries=function(e,t){var r=this,i=Xa();return t.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Io.newInvalidDocument(o))}),je.resolve(i)},n.prototype.getDocumentsMatchingQuery=function(e,t,r){for(var i=Xa(),o=new At(t.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var l=a.getNext(),p=l.value,v=p.document,b=p.readTime;if(!t.path.isPrefixOf(l.key.path))break;b.compareTo(r)<=0||By(t,v)&&(i=i.insert(v.key,v.clone()))}return je.resolve(i)},n.prototype.fs=function(e,t){return je.forEach(this.docs,function(r){return t(r)})},n.prototype.newChangeBuffer=function(e){return new ple(this)},n.prototype.getSize=function(e){return je.resolve(this.size)},n}(),ple=function(n){function e(t){var r=this;return(r=n.call(this)||this).Ie=t,r}return(0,k.__extends)(e,n),e.prototype.applyChanges=function(t){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(t,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),je.waitFor(i)},e.prototype.getFromCache=function(t,r){return this.Ie.getEntry(t,r)},e.prototype.getAllFromCache=function(t,r){return this.Ie.getEntries(t,r)},e}(gU),mle=function(){function n(e){this.persistence=e,this.ds=new Tg(function(t){return Fy(t)},_C),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.ws=0,this._s=new kM,this.targetCount=0,this.ys=RC.Jt()}return n.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(r,i){return t(i)}),je.resolve()},n.prototype.getLastRemoteSnapshotVersion=function(e){return je.resolve(this.lastRemoteSnapshotVersion)},n.prototype.getHighestSequenceNumber=function(e){return je.resolve(this.ws)},n.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),je.resolve(this.highestTargetId)},n.prototype.setTargetsMetadata=function(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ws&&(this.ws=t),je.resolve()},n.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new RC(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},n.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,je.resolve()},n.prototype.updateTargetData=function(e,t){return this.te(t),je.resolve()},n.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,je.resolve()},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),je.waitFor(a).next(function(){return o})},n.prototype.getTargetCount=function(e){return je.resolve(this.targetCount)},n.prototype.getTargetData=function(e,t){var r=this.ds.get(t)||null;return je.resolve(r)},n.prototype.addMatchingKeys=function(e,t,r){return this._s.Jn(t,r),je.resolve()},n.prototype.removeMatchingKeys=function(e,t,r){this._s.Xn(t,r);var i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),je.waitFor(o)},n.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),je.resolve()},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=this._s.es(t);return je.resolve(r)},n.prototype.containsKey=function(e,t){return je.resolve(this._s.containsKey(t))},n}(),gle=function(){function n(e,t){var r=this;this.gs={},this.Ne=new ma(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new mle(this),this.Ut=new qae,this.Ue=new fle(this.Ut,function(a){return r.referenceDelegate.ps(a)}),this.R=new rU(t),this.Ke=new dle(this.R)}return n.prototype.start=function(){return Promise.resolve()},n.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.setDatabaseDeletedListener=function(){},n.prototype.setNetworkEnabled=function(){},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new hle(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var i=this;$e("MemoryPersistence","Starting transaction:",e);var o=new vle(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},n.prototype.Is=function(e,t){return je.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,t)}}))},n}(),vle=function(n){function e(t){var r=this;return(r=n.call(this)||this).currentSequenceNumber=t,r}return(0,k.__extends)(e,n),e}(J6),_le=function(){function n(e){this.persistence=e,this.As=new kM,this.Rs=null}return n.bs=function(e){return new n(e)},Object.defineProperty(n.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw St()},enumerable:!1,configurable:!0}),n.prototype.addReference=function(e,t,r){return this.As.addReference(r,t),this.vs.delete(r.toString()),je.resolve()},n.prototype.removeReference=function(e,t,r){return this.As.removeReference(r,t),this.vs.add(r.toString()),je.resolve()},n.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),je.resolve()},n.prototype.removeTarget=function(e,t){var r=this;this.As.Zn(t.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,t)})},n.prototype.Es=function(){this.Rs=new Set},n.prototype.Ts=function(e){var t=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.vs,function(i){var o=At.fromPath(i);return t.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return t.Rs=null,r.apply(e)})},n.prototype.updateLimboDocument=function(e,t){var r=this;return this.Ps(e,t).next(function(i){i?r.vs.delete(t.toString()):r.vs.add(t.toString())})},n.prototype.ps=function(e){return 0},n.prototype.Ps=function(e,t){var r=this;return je.or([function(){return je.resolve(r.As.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){return r.persistence.Is(e,t)}])},n}(),Mo=function(){function n(e){this.uid=e}return n.prototype.isAuthenticated=function(){return null!=this.uid},n.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},n.prototype.isEqual=function(e){return e.uid===this.uid},n}();function AU(n,e){return"firestore_clients_"+n+"_"+e}function IU(n,e,t){var r="firestore_mutations_"+n+"_"+t;return e.isAuthenticated()&&(r+="_"+e.uid),r}function MM(n,e){return"firestore_targets_"+n+"_"+e}Mo.UNAUTHENTICATED=new Mo(null),Mo.GOOGLE_CREDENTIALS=new Mo("google-credentials-uid"),Mo.FIRST_PARTY=new Mo("first-party-uid"),Mo.MOCK_USER=new Mo("mock-user");var kU=function(){function n(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}return n.Vs=function(e,t,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ne(o.error.code,o.error.message)),a?new n(e,t,o.state,i):(Ii("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+r),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),xM=function(){function n(e,t,r){this.targetId=e,this.state=t,this.error=r}return n.Vs=function(e,t){var r,i=JSON.parse(t),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ne(i.error.code,i.error.message)),o?new n(e,i.state,r):(Ii("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),MU=function(){function n(e,t){this.clientId=e,this.activeTargetIds=t}return n.Vs=function(e,t){for(var r=JSON.parse(t),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=AC(),a=0;i&&a<r.activeTargetIds.length;++a)i=n6(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new n(e,o):(Ii("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},n}(),yle=function(){function n(e,t){this.clientId=e,this.onlineState=t}return n.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new n(t.clientId,t.onlineState):(Ii("SharedClientState","Failed to parse online state: "+e),null)},n}(),RM=function(){function n(){this.activeTargetIds=AC()}return n.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},n.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},n.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},n}(),PM=function(){function n(e,t,r,i,o){this.window=e,this.Se=t,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new es(jn),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=AU(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new RM),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return n.yt=function(e){return!(!e||!e.localStorage)},n.prototype.start=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i,o,a,l,c,p,v,w=this;return(0,k.__generator)(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=I.sent(),t=0,r=e;t<r.length;t++)(i=r[t])!==this.Ns&&(o=this.getItem(AU(this.persistenceKey,i)))&&(a=MU.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),p=0,v=this.$s;p<v.length;p++)this.ks(v[p]);return this.$s=[],this.window.addEventListener("pagehide",function(){return w.shutdown()}),this.started=!0,[2]}})})},n.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},n.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},n.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(t=!0)}),t},n.prototype.addPendingMutation=function(e){this.zs(e,"pending")},n.prototype.updateMutationState=function(e,t,r){this.zs(e,t,r),this.Hs(e)},n.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(MM(this.persistenceKey,e));if(r){var i=xM.Vs(e,r);i&&(t=i.state)}}return this.Js.Ds(e),this.Qs(),t},n.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},n.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){this.removeItem(MM(this.persistenceKey,e))},n.prototype.updateQueryState=function(e,t,r){this.Ys(e,t,r)},n.prototype.handleUserChange=function(e,t,r){var i=this;t.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},n.prototype.setOnlineState=function(e){this.Xs(e)},n.prototype.notifyBundleLoaded=function(){this.Zs()},n.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},n.prototype.getItem=function(e){var t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t},n.prototype.setItem=function(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)},n.prototype.removeItem=function(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)},n.prototype.ks=function(e){var t=this,r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,k.__awaiter)(t,void 0,void 0,function(){var i,o,a,l,c,p;return(0,k.__generator)(this,function(v){if(this.started){if(null!==r.key)if(this.Ls.test(r.key)){if(null==r.newValue)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(null!==r.newValue&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(null!==r.newValue&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(null!==r.newValue&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(p=function(b){var w=ma.o;if(null!=b)try{var I=JSON.parse(b);Kt("number"==typeof I),w=I}catch(R){Ii("SharedClientState","Failed to read sequence number from WebStorage",R)}return w}(r.newValue))!==ma.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(r);return[2]})})})}},Object.defineProperty(n.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),n.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},n.prototype.zs=function(e,t,r){var i=new kU(this.currentUser,e,t,r),o=IU(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},n.prototype.Hs=function(e){var t=IU(this.persistenceKey,this.currentUser,e);this.removeItem(t)},n.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},n.prototype.Ys=function(e,t,r){var i=MM(this.persistenceKey,e),o=new xM(e,t,r);this.setItem(i,o.Ss())},n.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},n.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},n.prototype.ni=function(e,t){var r=this.ti(e);return MU.Vs(r,t)},n.prototype.si=function(e,t){var r=this.Bs.exec(e),i=Number(r[1]);return kU.Vs(new Mo(void 0!==r[2]?r[2]:null),i,t)},n.prototype.ri=function(e,t){var r=this.qs.exec(e),i=Number(r[1]);return xM.Vs(i,t)},n.prototype.js=function(e){return yle.Vs(e)},n.prototype.ii=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:($e("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},n.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},n.prototype.ei=function(e,t){var r=this,i=t?this.Fs.insert(e,t):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(p){o.has(p)||l.push(p)}),o.forEach(function(p){a.has(p)||c.push(p)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},n.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},n.prototype.Gs=function(e){var t=AC();return e.forEach(function(r,i){t=t.unionWith(i.activeTargetIds)}),t},n}(),xU=function(){function n(){this.li=new RM,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return n.prototype.addPendingMutation=function(e){},n.prototype.updateMutationState=function(e,t,r){},n.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},n.prototype.updateQueryState=function(e,t,r){this.fi[e]=t},n.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},n.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){delete this.fi[e]},n.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},n.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.start=function(){return this.li=new RM,Promise.resolve()},n.prototype.handleUserChange=function(e,t,r){},n.prototype.setOnlineState=function(e){},n.prototype.shutdown=function(){},n.prototype.writeSequenceNumber=function(e){},n.prototype.notifyBundleLoaded=function(){},n}(),ble=function(){function n(){}return n.prototype.di=function(e){},n.prototype.shutdown=function(){},n}(),RU=function(){function n(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return n.prototype.di=function(e){this.gi.push(e)},n.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},n.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},n.prototype._i=function(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},n.prototype.yi=function(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},n.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},n}(),wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cle=function(){function n(e){this.Ei=e.Ei,this.Ti=e.Ti}return n.prototype.Ii=function(e){this.Ai=e},n.prototype.Ri=function(e){this.bi=e},n.prototype.onMessage=function(e){this.vi=e},n.prototype.close=function(){this.Ti()},n.prototype.send=function(e){this.Ei(e)},n.prototype.Pi=function(){this.Ai()},n.prototype.Vi=function(e){this.bi(e)},n.prototype.Si=function(e){this.vi(e)},n}(),Ele=function(n){function e(t){var r=this;return(r=n.call(this,t)||this).forceLongPolling=t.forceLongPolling,r.autoDetectLongPolling=t.autoDetectLongPolling,r.useFetchStreams=t.useFetchStreams,r}return(0,k.__extends)(e,n),e.prototype.Fi=function(t,r,i,o){return new Promise(function(a,l){var c=new YB;c.listenOnce(WB.COMPLETE,function(){try{switch(c.getLastErrorCode()){case pC.NO_ERROR:var v=c.getResponseJson();$e("Connection","XHR received:",JSON.stringify(v)),a(v);break;case pC.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),l(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case pC.HTTP_ERROR:var b=c.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',b,"response text:",c.getResponseText()),b>0){var w=c.getResponseJson().error;if(w&&w.status&&w.message){var I=(N=w.status.toLowerCase().replace(/_/g,"-"),Object.values(ce).indexOf(N)>=0?N:ce.UNKNOWN);l(new Ne(I,w.message))}else l(new Ne(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{$e("Connection",'RPC "'+t+'" completed.')}var N});var p=JSON.stringify(o);c.send(r,"POST",p,i,15)})},e.prototype.Oi=function(t,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new fC,a=Z1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new KB({})),this.ki(l.initMessageHeaders,r),(0,gt.isMobileCordova)()||(0,gt.isReactNative)()||(0,gt.isElectron)()||(0,gt.isIE)()||(0,gt.isUWP)()||(0,gt.isBrowserExtension)()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");$e("Connection","Creating WebChannel: "+c,l);var p=o.createWebChannel(c,l),v=!1,b=!1,w=new Cle({Ei:function(R){b?$e("Connection","Not sending because WebChannel is closed:",R):(v||($e("Connection","Opening WebChannel transport."),p.open(),v=!0),$e("Connection","WebChannel sending:",R),p.send(R))},Ti:function(){return p.close()}}),I=function(R,N,z){R.listen(N,function(Q){try{z(Q)}catch(Y){setTimeout(function(){throw Y},0)}})};return I(p,xy.EventType.OPEN,function(){b||$e("Connection","WebChannel transport opened.")}),I(p,xy.EventType.CLOSE,function(){b||(b=!0,$e("Connection","WebChannel transport closed"),w.Vi())}),I(p,xy.EventType.ERROR,function(R){b||(b=!0,Ry("Connection","WebChannel transport errored:",R),w.Vi(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),I(p,xy.EventType.MESSAGE,function(R){var N;if(!b){var z=R.data[0];Kt(!!z);var Y=z.error||(null===(N=z[0])||void 0===N?void 0:N.error);if(Y){$e("Connection","WebChannel received error:",Y);var ae=Y.status,Ee=function(De){var xt=Mi[De];if(void 0!==xt)return k6(xt)}(ae),Ve=Y.message;void 0===Ee&&(Ee=ce.INTERNAL,Ve="Unknown error status: "+ae+" with message "+Y.message),b=!0,w.Vi(new Ne(Ee,Ve)),p.close()}else $e("Connection","WebChannel received:",z),w.Si(z)}}),I(a,GB.STAT_EVENT,function(R){R.stat===nM_PROXY?$e("Connection","Detected buffering proxy"):R.stat===nM_NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(function(){w.Pi()},0),w},e}(function(){function n(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return n.prototype.Ni=function(e,t,r,i){var o=this.xi(e,t);$e("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(l){return $e("RestConnection","Received: ",l),l},function(l){throw Ry("RestConnection",e+" failed with error: ",l,"url: ",o,"request:",r),l})},n.prototype.$i=function(e,t,r,i){return this.Ni(e,t,r,i)},n.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])},n.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+wle[e]},n}());function PU(){return"undefined"!=typeof window?window:null}function LC(){return"undefined"!=typeof document?document:null}function Yy(n){return new Iae(n,!0)}var OM=function(){function n(e,t,r,i,o){void 0===r&&(r=1e3),void 0===i&&(i=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return n.prototype.reset=function(){this.qi=0},n.prototype.Qi=function(){this.qi=this.Bi},n.prototype.ji=function(e){var t=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&$e("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},n.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},n.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},n.prototype.Wi=function(){return(Math.random()-.5)*this.qi},n}(),OU=function(){function n(e,t,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new OM(e,t)}return n.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},n.prototype.er=function(){return 2===this.state},n.prototype.start=function(){3!==this.state?this.auth():this.nr()},n.prototype.stop=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.sr=function(){this.state=0,this.Zi.reset()},n.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},n.prototype.cr=function(e){this.ur(),this.stream.send(e)},n.prototype.rr=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},n.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},n.prototype.close=function(e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===ce.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return r.sent(),[2]}})})},n.prototype.ar=function(){},n.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){t(function(){var o=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},n.prototype.lr=function(e){var t=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return t.dr(i)})}),this.stream.onMessage(function(i){r(function(){return t.onMessage(i)})})},n.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,k.__awaiter)(e,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},n.prototype.dr=function(e){return $e("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},n.prototype.hr=function(e){var t=this;return function(r){t.Se.enqueueAndForget(function(){return t.Yi===e?r():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},n}(),Sle=function(n){function e(t,r,i,o,a){var l=this;return(l=n.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,l}return(0,k.__extends)(e,n),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var r=function(o,a){var l,z;if("targetChange"in a){var c="NO_CHANGE"===(z=a.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:St(),p=a.targetChange.targetIds||[],v=function(z,Q){return z.I?(Kt(void 0===Q||"string"==typeof Q),Cs.fromBase64String(Q||"")):(Kt(void 0===Q||Q instanceof Uint8Array),Cs.fromUint8Array(Q||new Uint8Array))}(o,a.targetChange.resumeToken),b=(w=a.targetChange.cause)&&function(z){var Q=void 0===z.code?ce.UNKNOWN:k6(z.code);return new Ne(Q,z.message||"")}(w);l=new P6(c,p,v,b||null)}else if("documentChange"in a){p=Pu(o,(c=a.documentChange).document.name),v=co(c.document.updateTime);var w=new ga({mapValue:{fields:c.document.fields}}),I=(b=Io.newFoundDocument(p,v,w),c.targetIds||[]);l=new IC(I,c.removedTargetIds||[],b.key,b)}else if("documentDelete"in a)p=Pu(o,(c=a.documentDelete).document),v=c.readTime?co(c.readTime):An.min(),w=Io.newNoDocument(p,v),l=new IC([],b=c.removedTargetIds||[],w.key,w);else if("documentRemove"in a)p=Pu(o,(c=a.documentRemove).document),l=new IC([],v=c.removedTargetIds||[],p,null);else{if(!("filter"in a))return St();var N=a.filter;p=new yae(c=N.count||0),l=new R6(v=N.targetId,p)}return l}(this.R,t),i=function(o){if(!("targetChange"in o))return An.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?An.min():a.readTime?co(a.readTime):An.min()}(t);return this.listener._r(r,i)},e.prototype.mr=function(t){var o,a,l,c,r={};r.database=$y(this.R),r.addTarget=(o=this.R,(l=yC(c=(a=t).target)?{documents:q6(o,c)}:{query:$6(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=L6(o,a.resumeToken):a.snapshotVersion.compareTo(An.min())>0&&(l.readTime=zy(o,a.snapshotVersion.toTimestamp())),l);var i=function(o,a){var l=function(c,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,a.purpose);return null==l?null:{"goog-listen-tags":l}}(0,t);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(t){var r={};r.database=$y(this.R),r.removeTarget=t,this.cr(r)},e}(OU),Tle=function(n){function e(t,r,i,o,a){var l=this;return(l=n.call(this,t,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,l.gr=!1,l}return(0,k.__extends)(e,n),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,n.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var r=(a=t.commitTime,(o=t.writeResults)&&o.length>0?(Kt(void 0!==a),o.map(function(l){return p=a,(v=co((c=l).updateTime?c.updateTime:p)).isEqual(An.min())&&(v=co(p)),new gae(v,c.transformResults||[]);var c,p,v})):[]),i=co(t.commitTime);return this.listener.Tr(i,r)}var o,a;return Kt(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=$y(this.R),this.cr(t)},e.prototype.Er=function(t){var r=this,i={streamToken:this.lastStreamToken,writes:t.map(function(o){return kC(r.R,o)})};this.cr(i)},e}(OU),Dle=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).credentials=t,o.Hi=r,o.R=i,o.Rr=!1,o}return(0,k.__extends)(e,n),e.prototype.br=function(){if(this.Rr)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(t,r,i,a)}).catch(function(a){throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ne(ce.UNKNOWN,a.toString())})},e.prototype.$i=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(t,r,i,a)}).catch(function(a){throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ne(ce.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ale=function(){function n(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return n.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},n.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},n.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},n.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},n.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ii(t),this.Vr=!1):$e("OnlineStateTracker",t)},n.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},n}(),Ile=function(n,e,t,r,i){var o=this;this.localStore=n,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){t.enqueueAndForget(function(){return(0,k.__awaiter)(o,void 0,void 0,function(){return(0,k.__generator)(this,function(l){switch(l.label){case 0:return zd(this)?($e("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return(0,k.__awaiter)(this,void 0,void 0,function(){var p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return(p=Ze(c)).Or.add(4),[4,Ig(p)];case 1:return v.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Qy(p)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new Ale(t,r)};function Qy(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:if(!zd(n))return[3,4];e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ig(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function VC(n,e){var t=Ze(n);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),LM(t)?FM(t):Mg(t).er()&&NM(t,e))}function Xy(n,e){var t=Ze(n),r=Mg(t);t.$r.delete(e),r.er()&&NU(t,e),0===t.$r.size&&(r.er()?r.ir():zd(t)&&t.Br.set("Unknown"))}function NM(n,e){n.qr.U(e.targetId),Mg(n).mr(e)}function NU(n,e){n.qr.U(e),Mg(n).yr(e)}function FM(n){n.qr=new Tae({getRemoteKeysForTarget:function(e){return n.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return n.$r.get(e)||null}}),Mg(n).start(),n.Br.Sr()}function LM(n){return zd(n)&&!Mg(n).tr()&&n.$r.size>0}function zd(n){return 0===Ze(n).Or.size}function FU(n){n.qr=void 0}function kle(n){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){return n.$r.forEach(function(t,r){NM(n,t)}),[2]})})}function Mle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return FU(n),LM(n)?(n.Br.Nr(e),FM(n)):n.Br.set("Unknown"),[2]})})}function xle(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:if(n.Br.set("Online"),!(e instanceof P6&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return(0,k.__awaiter)(this,void 0,void 0,function(){var p,v,b,w;return(0,k.__generator)(this,function(I){switch(I.label){case 0:p=c.cause,v=0,b=c.targetIds,I.label=1;case 1:return v<b.length?l.$r.has(w=b[v])?[4,l.remoteSyncer.rejectListen(w,p)]:[3,3]:[3,5];case 2:I.sent(),l.$r.delete(w),l.qr.removeTarget(w),I.label=3;case 3:I.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(n,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,BC(n,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof IC?n.qr.X(e):e instanceof R6?n.qr.rt(e):n.qr.et(e),t.isEqual(An.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,EU(n.localStore)];case 8:return i=a.sent(),t.compareTo(i)>=0?[4,(l=n,c=t,p=l.qr.ut(c),p.targetChanges.forEach(function(v,b){if(v.resumeToken.approximateByteSize()>0){var w=l.$r.get(b);w&&l.$r.set(b,w.withResumeToken(v.resumeToken,c))}}),p.targetMismatches.forEach(function(v){var b=l.$r.get(v);if(b){l.$r.set(v,b.withResumeToken(Cs.EMPTY_BYTE_STRING,b.snapshotVersion)),NU(l,v);var w=new MC(b.target,v,1,b.sequenceNumber);NM(l,w)}}),l.remoteSyncer.applyRemoteEvent(p))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return $e("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,BC(n,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var l,c,p})})}function BC(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:if(!xf(e))throw e;return n.Or.add(1),[4,Ig(n)];case 1:return i.sent(),n.Br.set("Offline"),t||(t=function(){return EU(n.localStore)}),n.asyncQueue.enqueueRetryable(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){return(0,k.__generator)(this,function(o){switch(o.label){case 0:return $e("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return o.sent(),n.Or.delete(1),[4,Qy(n)];case 2:return o.sent(),[2]}})})}),[2]}})})}function LU(n,e){return e().catch(function(t){return BC(n,t,e)})}function kg(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:e=Ze(n),t=qd(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!(zd(l=e)&&l.Fr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ale(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&t.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var p=qd(l);p.er()&&p.pr&&p.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,BC(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return VU(e)&&BU(e),[2]}var l})})}function VU(n){return zd(n)&&!qd(n).tr()&&n.Fr.length>0}function BU(n){qd(n).start()}function Rle(n){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){return qd(n).Ar(),[2]})})}function Ple(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(o){for(e=qd(n),t=0,r=n.Fr;t<r.length;t++)e.Er(r[t].mutations);return[2]})})}function Ole(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return r=n.Fr.shift(),i=Hae.from(r,e,t),[4,LU(n,function(){return n.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,kg(n)];case 2:return o.sent(),[2]}})})}function Nle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){switch(t.label){case 0:return e&&qd(n).pr?[4,function(r,i){return(0,k.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return I6(a=i.code)&&a!==ce.ABORTED?(o=r.Fr.shift(),qd(r).sr(),[4,LU(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return l.sent(),[4,kg(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(n,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return VU(n)&&BU(n),[2]}})})}function VM(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return t=Ze(n),e?(t.Or.delete(2),[4,Qy(t)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,Ig(t)]);case 3:r.sent(),t.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Mg(n){var t,r,i,o,e=this;return n.Ur||(n.Ur=(t=n.datastore,r=n.asyncQueue,i={Ii:kle.bind(null,n),Ri:Mle.bind(null,n),_r:xle.bind(null,n)},(o=Ze(t)).br(),new Sle(r,o.Hi,o.credentials,o.R,i)),n.Mr.push(function(t){return(0,k.__awaiter)(e,void 0,void 0,function(){return(0,k.__generator)(this,function(r){switch(r.label){case 0:return t?(n.Ur.sr(),LM(n)?FM(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:r.sent(),FU(n),r.label=3;case 3:return[2]}})})})),n.Ur}function qd(n){var t,r,i,o,e=this;return n.Kr||(n.Kr=(t=n.datastore,r=n.asyncQueue,i={Ii:Rle.bind(null,n),Ri:Nle.bind(null,n),Ir:Ple.bind(null,n),Tr:Ole.bind(null,n)},(o=Ze(t)).br(),new Tle(r,o.Hi,o.credentials,o.R,i)),n.Mr.push(function(t){return(0,k.__awaiter)(e,void 0,void 0,function(){return(0,k.__generator)(this,function(r){switch(r.label){case 0:return t?(n.Kr.sr(),[4,kg(n)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,n.Kr.stop()];case 3:r.sent(),n.Fr.length>0&&($e("RemoteStore","Stopping write stream with "+n.Fr.length+" pending writes"),n.Fr=[]),r.label=4;case 4:return[2]}})})})),n.Kr}var Fle=function(){function n(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return n.createAndSchedule=function(e,t,r,i,o){var a=new n(e,t,Date.now()+r,i,o);return a.start(r),a},n.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},n.prototype.skipDelay=function(){return this.handleDelayElapsed()},n.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},n.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},n.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},n}();function xg(n,e){if(Ii("AsyncQueue",e+": "+n),xf(n))return new Ne(ce.UNAVAILABLE,e+": "+n);throw n}var UU=function(){function n(e){this.comparator=e?function(t,r){return e(t,r)||At.comparator(t.key,r.key)}:function(t,r){return At.comparator(t.key,r.key)},this.keyedMap=gM(),this.sortedSet=new es(this.comparator)}return n.emptySet=function(e){return new n(e.comparator)},n.prototype.has=function(e){return null!=this.keyedMap.get(e)},n.prototype.get=function(e){return this.keyedMap.get(e)},n.prototype.first=function(){return this.sortedSet.minKey()},n.prototype.last=function(){return this.sortedSet.maxKey()},n.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},n.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(n.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},n.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},n.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},n.prototype.copy=function(e,t){var r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r},n}(),jU=function(){function n(){this.Qr=new es(At.comparator)}return n.prototype.track=function(e){var t=e.doc.key,r=this.Qr.get(t);r?0!==e.type&&3===r.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==r.type?this.Qr=this.Qr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Qr=this.Qr.remove(t):1===e.type&&2===r.type?this.Qr=this.Qr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):St():this.Qr=this.Qr.insert(t,e)},n.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,r){e.push(r)}),e},n}(),UC=function(){function n(e,t,r,i,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return n.fromInitialDocuments=function(e,t,r,i){var o=[];return t.forEach(function(a){o.push({type:0,doc:a})}),new n(e,t,UU.emptySet(t),o,r,i,!0,!1)},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0},n}(),Lle=function(){this.Wr=void 0,this.listeners=[]},Vle=function(){this.queries=new Tg(function(n){return f6(n)},Vy),this.onlineState="Unknown",this.Gr=new Set};function BM(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:if(t=Ze(n),i=!1,(o=t.queries.get(r=e.query))||(i=!0,o=new Lle),!i)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),a=o,[4,t.onListen(r)];case 2:return a.Wr=p.sent(),[3,4];case 3:return l=p.sent(),c=xg(l,"Initialization of query '"+fM(e.query)+"' failed"),[2,void e.onError(c)];case 4:return t.queries.set(r,o),o.listeners.push(e),e.zr(t.onlineState),o.Wr&&e.Hr(o.Wr)&&jM(t),[2]}})})}function UM(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return(0,k.__generator)(this,function(l){return t=Ze(n),i=!1,(o=t.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(t.queries.delete(r),t.onUnlisten(r))]:[2]})})}function Ble(n,e){for(var t=Ze(n),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],c=t.queries.get(a.query);if(c){for(var p=0,v=c.listeners;p<v.length;p++)v[p].Hr(a)&&(r=!0);c.Wr=a}}r&&jM(t)}function Ule(n,e,t){var r=Ze(n),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(t);r.queries.delete(e)}function jM(n){n.Gr.forEach(function(e){e.next()})}var HM=function(){function n(e,t,r){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return n.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];3!==o.type&&t.push(o)}e=new UC(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},n.prototype.onError=function(e){this.Jr.error(e)},n.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},n.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},n.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},n.prototype.no=function(e){e=UC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},n}(),jle=function(){function n(e,t){this.payload=e,this.byteLength=t}return n.prototype.io=function(){return"metadata"in this.payload},n}(),HU=function(){function n(e){this.R=e}return n.prototype.qn=function(e){return Pu(this.R,e)},n.prototype.Un=function(e){return e.metadata.exists?H6(this.R,e.document,!1):Io.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},n.prototype.Kn=function(e){return co(e)},n}(),Hle=function(){function n(e,t,r){this.ro=e,this.localStore=t,this.R=r,this.queries=[],this.documents=[],this.progress=zU(e)}return n.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},n.prototype.co=function(e){for(var t=new Map,r=new HU(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,p=a.metadata.queries;c<p.length;c++){var v=p[c],b=(t.get(v)||_r()).add(l);t.set(v,b)}}return t},n.prototype.complete=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return[4,ule(this.localStore,new HU(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),t=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?[4,cle(this.localStore,o=i[r],t.get(o.name))]:[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new nle(Object.assign({},this.progress),e))]}})})},n}();function zU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var qU=function(n){this.key=n},$U=function(n){this.key=n},WU=function(){function n(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=_r(),this.mutatedKeys=_r(),this.lo=p6(e),this.fo=new UU(this.lo)}return Object.defineProperty(n.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),n.prototype._o=function(e,t){var r=this,i=t?t.mo:new jU,o=t?t.fo:this.fo,a=t?t.mutatedKeys:this.mutatedKeys,l=o,c=!1,p=wC(this.query)&&o.size===this.query.limit?o.last():null,v=CC(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(w,I){var R=o.get(w),N=By(r.query,I)?I:null,z=!!R&&r.mutatedKeys.has(R.key),Q=!!N&&(N.hasLocalMutations||r.mutatedKeys.has(N.key)&&N.hasCommittedMutations),Y=!1;R&&N?R.data.isEqual(N.data)?z!==Q&&(i.track({type:3,doc:N}),Y=!0):r.yo(R,N)||(i.track({type:2,doc:N}),Y=!0,(p&&r.lo(N,p)>0||v&&r.lo(N,v)<0)&&(c=!0)):!R&&N?(i.track({type:0,doc:N}),Y=!0):R&&!N&&(i.track({type:1,doc:R}),Y=!0,(p||v)&&(c=!0)),Y&&(N?(l=l.add(N),a=Q?a.add(w):a.delete(w)):(l=l.delete(w),a=a.delete(w)))}),wC(this.query)||CC(this.query))for(;l.size>this.query.limit;){var b=wC(this.query)?l.last():l.first();l=l.delete(b.key),a=a.delete(b.key),i.track({type:1,doc:b})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},n.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},n.prototype.applyChanges=function(e,t,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(v,b){return I=b.type,(R=function(N){switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}})(v.type)-R(I)||i.lo(v.doc,b.doc);var I,R}),this.po(r);var l=t?this.Eo():[],c=0===this.ho.size&&this.current?1:0,p=c!==this.ao;return this.ao=c,0!==a.length||p?{snapshot:new UC(this.query,e.fo,o,a,e.mutatedKeys,0===c,p,!1),To:l}:{To:l}},n.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new jU,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},n.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},n.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(r){return t.uo=t.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return t.uo=t.uo.delete(r)}),this.current=e.current)},n.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=_r(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return t.forEach(function(i){e.ho.has(i)||r.push(new $U(i))}),this.ho.forEach(function(i){t.has(i)||r.push(new qU(i))}),r},n.prototype.Ao=function(e){this.uo=e.Bn,this.ho=_r();var t=this._o(e.documents);return this.applyChanges(t,!0)},n.prototype.Ro=function(){return UC.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},n}(),zle=function(n,e,t){this.query=n,this.targetId=e,this.view=t},qle=function(n){this.key=n,this.bo=!1},$le=function(){function n(e,t,r,i,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Tg(function(l){return f6(l)},Vy),this.Vo=new Map,this.So=new Set,this.Do=new es(At.comparator),this.Co=new Map,this.No=new kM,this.xo={},this.ko=new Map,this.Fo=RC.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(n.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),n}();function Wle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,i,o,a,l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return t=KM(n),(o=t.Po.get(e))?(t.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Dg(t.localStore,Qa(e))];case 2:return a=c.sent(),l=t.sharedClientState.addLocalQueryTarget(a.targetId),[4,zM(t,e,a.targetId,"current"===l)];case 3:i=c.sent(),t.isPrimaryClient&&VC(t.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function zM(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,l,c,p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return n.Oo=function(b,w,I){return function(R,N,z,Q){return(0,k.__awaiter)(this,void 0,void 0,function(){var Y,ae,Ee;return(0,k.__generator)(this,function(Ve){switch(Ve.label){case 0:return(Y=N.view._o(z)).Nn?[4,FC(R.localStore,N.query,!1).then(function(De){return N.view._o(De.documents,Y)})]:[3,2];case 1:Y=Ve.sent(),Ve.label=2;case 2:return ae=Q&&Q.targetChanges.get(N.targetId),Ee=N.view.applyChanges(Y,R.isPrimaryClient,ae),[2,(WM(R,N.targetId,Ee.To),Ee.snapshot)]}})})}(n,b,w,I)},[4,FC(n.localStore,e,!0)];case 1:return i=v.sent(),o=new WU(e,i.Bn),a=o._o(i.documents),l=_M.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),c=o.applyChanges(a,n.isPrimaryClient,l),WM(n,t,c.To),p=new zle(e,t,o),[2,(n.Po.set(e,p),n.Vo.has(t)?n.Vo.get(t).push(e):n.Vo.set(t,[e]),c.snapshot)]}})})}function Gle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return t=Ze(n),r=t.Po.get(e),(i=t.Vo.get(r.targetId)).length>1?[2,(t.Vo.set(r.targetId,i.filter(function(a){return!Vy(a,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ag(t.localStore,r.targetId,!1).then(function(){t.sharedClientState.clearQueryState(r.targetId),Xy(t.remoteStore,r.targetId),Rg(t,r.targetId)}).catch(Pf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rg(t,r.targetId),[4,Ag(t.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Kle(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:r=YM(n),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,(c=r.localStore,p=e,b=Ze(c),w=Hs.now(),I=p.reduce(function(R,N){return R.add(N.key)},_r()),b.persistence.runTransaction("Locally write mutations","readwrite",function(R){return b.Mn.pn(R,I).next(function(N){v=N;for(var z=[],Q=0,Y=p;Q<Y.length;Q++){var ae=Y[Q],Ee=_ae(ae,v.get(ae.key));null!=Ee&&z.push(new Ld(ae.key,Ee,s6(Ee.value.mapValue),Jo.exists(!0)))}return b._n.addMutationBatch(R,w,z,p)})}).then(function(R){return R.applyToLocalDocumentSet(v),{batchId:R.batchId,changes:v}}))];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,p,v){var b=c.xo[c.currentUser.toKey()];b||(b=new es(jn)),b=b.insert(p,v),c.xo[c.currentUser.toKey()]=b}(r,i.batchId,t),[4,Lc(r,i.changes)];case 3:return l.sent(),[4,kg(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return o=l.sent(),a=xg(o,"Failed to persist write"),t.reject(a),[3,6];case 6:return[2]}var c,p,v,b,w,I})})}function GU(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:t=Ze(n),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sle(t.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var l=t.Co.get(a);l&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.bo=!0:o.modifiedDocuments.size>0?Kt(l.bo):o.removedDocuments.size>0&&(Kt(l.bo),l.bo=!1))}),[4,Lc(t,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Pf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function KU(n,e,t){var r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){var i=[];r.Po.forEach(function(o,a){var l=a.view.zr(e);l.snapshot&&i.push(l.snapshot)}),function(o,a){var l=Ze(o);l.onlineState=a;var c=!1;l.queries.forEach(function(p,v){for(var b=0,w=v.listeners;b<w.length;b++)w[b].zr(a)&&(c=!0)}),c&&jM(l)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yle(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return(r=Ze(n)).sharedClientState.updateQueryState(e,"rejected",t),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new es(At.comparator)).insert(o,Io.newNoDocument(o,An.min())),l=_r().add(o),c=new vM(An.min(),new Map,new qi(jn),a,l),[4,GU(r,c)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),GM(r),[3,4];case 2:return[4,Ag(r.localStore,e,!1).then(function(){return Rg(r,e,t)}).catch(Pf)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function Qle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:t=Ze(n),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ole(t.localStore,e)];case 2:return i=o.sent(),$M(t,r,null),qM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),[4,Lc(t,i)];case 3:return o.sent(),[3,6];case 4:return[4,Pf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Xle(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:r=Ze(n),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,l=e,c=Ze(a),c.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var v;return c._n.lookupMutationBatch(p,l).next(function(b){return Kt(null!==b),v=b.keys(),c._n.removeMutationBatch(p,b)}).next(function(){return c._n.performConsistencyCheck(p)}).next(function(){return c.Mn.pn(p,v)})}))];case 2:return i=o.sent(),$M(r,e,t),qM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),[4,Lc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Pf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,l,c})})}function Zle(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:zd((t=Ze(n)).remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(c=t.localStore,p=Ze(c),p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return p._n.getHighestUnacknowledgedBatchId(v)}))];case 2:return-1===(r=l.sent())?[2,void e.resolve()]:((i=t.ko.get(r)||[]).push(e),t.ko.set(r,i),[3,4]);case 3:return o=l.sent(),a=xg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}var c,p})})}function qM(n,e){(n.ko.get(e)||[]).forEach(function(t){t.resolve()}),n.ko.delete(e)}function $M(n,e,t){var r=Ze(n),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rg(n,e,t){void 0===t&&(t=null),n.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=n.Vo.get(e);r<i.length;r++){var o=i[r];n.Po.delete(o),t&&n.vo.Mo(o,t)}n.Vo.delete(e),n.isPrimaryClient&&n.No.Zn(e).forEach(function(a){n.No.containsKey(a)||YU(n,a)})}function YU(n,e){n.So.delete(e.path.canonicalString());var t=n.Do.get(e);null!==t&&(Xy(n.remoteStore,t),n.Do=n.Do.remove(e),n.Co.delete(t),GM(n))}function WM(n,e,t){for(var r=0,i=t;r<i.length;r++){var o=i[r];o instanceof qU?(n.No.addReference(o.key,e),Jle(n,o)):o instanceof $U?($e("SyncEngine","Document no longer in limbo: "+o.key),n.No.removeReference(o.key,e),n.No.containsKey(o.key)||YU(n,o.key)):St()}}function Jle(n,e){var t=e.key,r=t.path.canonicalString();n.Do.get(t)||n.So.has(r)||($e("SyncEngine","New document in limbo: "+t),n.So.add(r),GM(n))}function GM(n){for(;n.So.size>0&&n.Do.size<n.maxConcurrentLimboResolutions;){var e=n.So.values().next().value;n.So.delete(e);var t=new At(or.fromString(e)),r=n.Fo.next();n.Co.set(r,new qle(t)),n.Do=n.Do.insert(t,r),VC(n.remoteStore,new MC(Qa(dg(t.path)),r,2,ma.o))}}function Lc(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return r=Ze(n),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,p){a.push(r.Oo(p,e,t).then(function(v){if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),i.push(v);var b=rle.Pn(p.targetId,v);o.push(b)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,p){return(0,k.__awaiter)(this,void 0,void 0,function(){var v,b,w,I,R,N,z,Y;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:v=Ze(c),ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Ee){return je.forEach(p,function(Ve){return je.forEach(Ve.bn,function(De){return v.persistence.referenceDelegate.addReference(Ee,Ve.targetId,De)}).next(function(){return je.forEach(Ve.vn,function(De){return v.persistence.referenceDelegate.removeReference(Ee,Ve.targetId,De)})})})})];case 2:return ae.sent(),[3,4];case 3:if(!xf(b=ae.sent()))throw b;return $e("LocalStore","Failed to update sequence numbers: "+b),[3,4];case 4:for(w=0,I=p;w<I.length;w++)N=(R=I[w]).targetId,R.fromCache||(z=v.kn.get(N),Y=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion),v.kn=v.kn.insert(N,Y));return[2]}})})}(r.localStore,o)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function eue(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return(t=Ze(n)).currentUser.isEqual(e)?[3,3]:($e("SyncEngine","User change. New user:",e.toKey()),[4,CU(t.localStore,e)]);case 1:return r=i.sent(),t.currentUser=e,(o=t).ko.forEach(function(l){l.forEach(function(c){c.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Lc(t,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o})})}function tue(n,e){var t=Ze(n),r=t.Co.get(e);if(r&&r.bo)return _r().add(r.key);var i=_r(),o=t.Vo.get(e);if(!o)return i;for(var a=0,l=o;a<l.length;a++){var p=t.Po.get(l[a]);i=i.unionWith(p.view.wo)}return i}function nue(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,FC((t=Ze(n)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(t.isPrimaryClient&&WM(t,e.targetId,i.To),i)]}})})}function rue(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){return[2,DU((e=Ze(n)).localStore).then(function(r){return Lc(e,r)})]})})}function iue(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return[4,(l=(i=Ze(n)).localStore,c=e,p=Ze(l),v=Ze(p._n),p.persistence.runTransaction("Lookup mutation documents","readonly",function(b){return v.jt(b,c).next(function(w){return w?p.Mn.pn(b,w):je.resolve(null)})}))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==t?[3,3]:[4,kg(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?($M(i,e,r||null),qM(i,e),function(l,c){Ze(Ze(l)._n).Gt(c)}(i.localStore,e)):St(),a.label=4;case 4:return[4,Lc(i,o)];case 5:return a.sent(),[3,7];case 6:$e("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var l,c,p,v})})}function oue(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a,c,p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return KM(t=Ze(n)),YM(t),!0!==e||!0===t.$o?[3,3]:(r=t.sharedClientState.getAllActiveQueryTargets(),[4,QU(t,r.toArray())]);case 1:return i=v.sent(),t.$o=!0,[4,VM(t.remoteStore,!0)];case 2:for(v.sent(),o=0,a=i;o<a.length;o++)VC(t.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===t.$o?[3,7]:(c=[],p=Promise.resolve(),t.Vo.forEach(function(b,w){t.sharedClientState.isLocalQueryTarget(w)?c.push(w):p=p.then(function(){return Rg(t,w),Ag(t.localStore,w,!0)}),Xy(t.remoteStore,w)}),[4,p]);case 4:return v.sent(),[4,QU(t,c)];case 5:return v.sent(),(w=Ze(t)).Co.forEach(function(I,R){Xy(w.remoteStore,R)}),w.No.ts(),w.Co=new Map,w.Do=new es(At.comparator),t.$o=!1,[4,VM(t.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}var w})})}function QU(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,l,c,p,v,b,w,R,N,z;return(0,k.__generator)(this,function(Q){switch(Q.label){case 0:r=Ze(n),i=[],o=[],a=0,l=e,Q.label=1;case 1:return a<l.length?(p=void 0,(v=r.Vo.get(c=l[a]))&&0!==v.length?[4,Dg(r.localStore,Qa(v[0]))]:[3,7]):[3,13];case 2:p=Q.sent(),b=0,w=v,Q.label=3;case 3:return b<w.length?(R=r.Po.get(w[b]),[4,nue(r,R)]):[3,6];case 4:(N=Q.sent()).snapshot&&o.push(N.snapshot),Q.label=5;case 5:return b++,[3,3];case 6:return[3,11];case 7:return[4,TU(r.localStore,c)];case 8:return z=Q.sent(),[4,Dg(r.localStore,z)];case 9:return p=Q.sent(),[4,zM(r,XU(z),c,!1)];case 10:Q.sent(),Q.label=11;case 11:i.push(p),Q.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function XU(n){return d6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sue(n){var e=Ze(n);return Ze(Ze(e.localStore).persistence).fn()}function aue(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return(i=Ze(n)).$o?($e("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,DU(i.localStore)];case 3:return o=l.sent(),a=vM.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,Lc(i,o,a)];case 4:return l.sent(),[3,8];case 5:return[4,Ag(i.localStore,e,!0)];case 6:return l.sent(),Rg(i,e,r),[3,8];case 7:St(),l.label=8;case 8:return[2]}})})}function lue(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,l,c,p,v,b;return(0,k.__generator)(this,function(I){switch(I.label){case 0:if(!(r=KM(n)).$o)return[3,10];i=0,o=e,I.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?($e("SyncEngine","Adding an already active target "+a),[3,5]):[4,TU(r.localStore,a)]:[3,6];case 2:return l=I.sent(),[4,Dg(r.localStore,l)];case 3:return c=I.sent(),[4,zM(r,XU(l),c.targetId,!1)];case 4:I.sent(),VC(r.remoteStore,c),I.label=5;case 5:return i++,[3,1];case 6:p=function(R){return(0,k.__generator)(this,function(N){switch(N.label){case 0:return r.Vo.has(R)?[4,Ag(r.localStore,R,!1).then(function(){Xy(r.remoteStore,R),Rg(r,R)}).catch(Pf)]:[3,2];case 1:N.sent(),N.label=2;case 2:return[2]}})},v=0,b=t,I.label=7;case 7:return v<b.length?[5,p(b[v])]:[3,10];case 8:I.sent(),I.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function KM(n){var e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yle.bind(null,e),e.vo._r=Ble.bind(null,e.eventManager),e.vo.Mo=Ule.bind(null,e.eventManager),e}function YM(n){var e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xle.bind(null,e),e}function uue(n,e,t){var r=Ze(n);(function(i,o,a){return(0,k.__awaiter)(this,void 0,void 0,function(){var l,c,p,v,b,w;return(0,k.__generator)(this,function(I){switch(I.label){case 0:return I.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return l=I.sent(),[4,(R=i.localStore,N=l,z=Ze(R),Q=co(N.createTime),z.persistence.runTransaction("hasNewerBundle","readonly",function(Y){return z.Ke.getBundleMetadata(Y,N.id)}).then(function(Y){return!!Y&&Y.createTime.compareTo(Q)>=0}))];case 2:return I.sent()?[4,o.close()]:[3,4];case 3:return[2,(I.sent(),void a._completeWith(function(R){return{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}}(l)))];case 4:return a._updateProgress(zU(l)),c=new Hle(l,i.localStore,o.R),[4,o.Lo()];case 5:p=I.sent(),I.label=6;case 6:return p?[4,c.oo(p)]:[3,10];case 7:return(v=I.sent())&&a._updateProgress(v),[4,o.Lo()];case 8:p=I.sent(),I.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return b=I.sent(),[4,Lc(i,b.wn,void 0)];case 12:return I.sent(),[4,function(R,N){var z=Ze(R);return z.persistence.runTransaction("Save bundle","readwrite",function(Q){return z.Ke.saveBundleMetadata(Q,N)})}(i.localStore,l)];case 13:return I.sent(),a._completeWith(b.progress),[3,15];case 14:return Ry("SyncEngine","Loading bundle failed with "+(w=I.sent())),a._failWith(w),[3,15];case 15:return[2]}var R,N,z,Q})})})(r,e,t).then(function(){r.sharedClientState.notifyBundleLoaded()})}var ZU=function(){function n(){this.synchronizeTabs=!1}return n.prototype.initialize=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){switch(t.label){case 0:return this.R=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},n.prototype.Uo=function(e){return null},n.prototype.Ko=function(e){return wU(this.persistence,new bU,e.initialUser,this.R)},n.prototype.qo=function(e){return new gle(_le.bs,this.R)},n.prototype.Bo=function(e){return new xU},n.prototype.terminate=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},n}(),JU=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).Qo=t,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return(0,k.__extends)(e,n),e.prototype.initialize=function(t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return i.sent(),[4,lle(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,t)];case 3:return i.sent(),[4,YM(this.Qo.syncEngine)];case 4:return i.sent(),[4,kg(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(t){return wU(this.persistence,new bU,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Yae(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var r=IM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Nu.withCacheSize(this.cacheSizeBytes):Nu.DEFAULT;return new tle(this.synchronizeTabs,r,t.clientId,i,t.asyncQueue,PU(),LC(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new xU},e}(ZU),cue=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r,!1)||this).Qo=t,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,k.__extends)(e,n),e.prototype.initialize=function(t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i=this;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof PM?(this.sharedClientState.syncEngine={ui:iue.bind(null,r),ai:aue.bind(null,r),hi:lue.bind(null,r),fn:sue.bind(null,r),ci:rue.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return(0,k.__awaiter)(i,void 0,void 0,function(){return(0,k.__generator)(this,function(l){switch(l.label){case 0:return[4,oue(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var r=PU();if(!PM.yt(r))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=IM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new PM(r,t.asyncQueue,i,t.clientId,t.initialUser)},e}(JU),QM=function(){function n(){}return n.prototype.initialize=function(e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return KU(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eue.bind(null,this.syncEngine),[4,VM(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.createEventManager=function(e){return new Vle},n.prototype.createDatastore=function(e){var r=Yy(e.databaseInfo.databaseId),i=new Ele(e.databaseInfo);return new Dle(e.credentials,i,r)},n.prototype.createRemoteStore=function(e){var t,r,i,o,a,l=this;return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return KU(l.syncEngine,c,0)},a=RU.yt()?new RU:new ble,new Ile(t,r,i,o,a)},n.prototype.createSyncEngine=function(e,t){return p=t,v=new $le(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),p&&(v.$o=!0),v;var p,v},n.prototype.terminate=function(){return function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return t=Ze(e),$e("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Ig(t)];case 1:return r.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},n}();function e9(n,e){void 0===e&&(e=10240);var t=0;return{read:function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var r;return(0,k.__generator)(this,function(i){return t<n.byteLength?(r={value:n.slice(t,t+e),done:!1},[2,(t+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var jC=function(){function n(e){this.observer=e,this.muted=!1}return n.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},n.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},n.prototype.Wo=function(){this.muted=!0},n.prototype.jo=function(e,t){var r=this;this.muted||setTimeout(function(){r.muted||e(t)},0)},n}(),due=function(){function n(e,t){var r=this;this.Go=e,this.R=t,this.metadata=new ns,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==i?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return n.prototype.close=function(){return this.Go.cancel()},n.prototype.getMetadata=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){return[2,this.metadata.promise]})})},n.prototype.Lo=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},n.prototype.Ho=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return null===(e=o.sent())?[2,null]:(t=this.zo.decode(e),r=Number(t),isNaN(r)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new jle(JSON.parse(i),e.length+r)]}})})},n.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},n.prototype.Jo=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},n.prototype.Xo=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},n.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},n.prototype.tc=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},n}(),hue=function(){function n(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return n.prototype.lookup=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return(0,k.__awaiter)(this,void 0,void 0,function(){var l,c,p,v,b,w;return(0,k.__generator)(this,function(I){switch(I.label){case 0:return l=Ze(o),c=$y(l.R)+"/documents",p={documents:a.map(function(R){return qy(l.R,R)})},[4,l.$i("BatchGetDocuments",c,p)];case 1:return v=I.sent(),b=new Map,v.forEach(function(R){var z,Q,N=(z=l.R,"found"in(Q=R)?function(Y,ae){Kt(!!ae.found);var Ee=Pu(Y,ae.found.name),Ve=co(ae.found.updateTime),De=new ga({mapValue:{fields:ae.found.fields}});return Io.newFoundDocument(Ee,Ve,De)}(z,Q):"missing"in Q?function(Y,ae){Kt(!!ae.missing),Kt(!!ae.readTime);var Ee=Pu(Y,ae.missing),Ve=co(ae.readTime);return Io.newNoDocument(Ee,Ve)}(z,Q):St());b.set(N.key.toString(),N)}),w=[],[2,(a.forEach(function(R){var N=b.get(R.toString());Kt(!!N),w.push(N)}),w)]}})})}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach(function(o){return r.recordVersion(o)}),t)]}})})},n.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},n.prototype.delete=function(e){this.write(new Hy(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.commit=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,k.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=At.fromPath(o);t.mutations.push(new mM(a,t.precondition(a)))}),[4,function(i,o){return(0,k.__awaiter)(this,void 0,void 0,function(){var a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return a=Ze(i),l=$y(a.R)+"/documents",c={writes:o.map(function(v){return kC(a.R,v)})},[4,a.Ni("Commit",l,c)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},n.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=An.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},n.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Jo.updateTime(t):Jo.none()},n.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(An.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jo.updateTime(t)}return Jo.exists(!0)},n.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},n.prototype.ensureCommitNotCalled=function(){},n}(),fue=function(){function n(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new OM(this.asyncQueue,"transaction_retry")}return n.prototype.run=function(){this.ec-=1,this.nc()},n.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,k.__awaiter)(e,void 0,void 0,function(){var t,r,i=this;return(0,k.__generator)(this,function(o){return t=new hue(this.datastore),(r=this.sc(t))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},n.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Df(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},n.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},n.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!I6(t)}return!1},n}(),pue=function(){function n(e,t,r){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Mo.UNAUTHENTICATED,this.clientId=QB.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(o){return(0,k.__awaiter)(i,void 0,void 0,function(){return(0,k.__generator)(this,function(a){switch(a.label){case 0:return $e("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return n.prototype.getConfiguration=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},n.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},n.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,k.__awaiter)(e,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return r=o.sent(),i=xg(r,"Failed to shutdown persistence"),t.reject(i),[3,6];case 6:return[2]}})})}),t.promise},n}();function t9(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i=this;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider"),[4,n.getConfiguration()];case 1:return t=o.sent(),[4,e.initialize(t)];case 2:return o.sent(),r=t.initialUser,n.setCredentialChangeListener(function(a){return(0,k.__awaiter)(i,void 0,void 0,function(){return(0,k.__generator)(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,CU(e.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return n.terminate()}),n.offlineComponents=e,[2]}})})}function n9(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return n.asyncQueue.verifyOperationInProgress(),[4,XM(n)];case 1:return t=i.sent(),$e("FirestoreClient","Initializing OnlineComponentProvider"),[4,n.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(t,r)];case 3:return i.sent(),n.setCredentialChangeListener(function(o){return function(a,l){return(0,k.__awaiter)(this,void 0,void 0,function(){var c,p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return(c=Ze(a)).asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials"),p=zd(c),c.Or.add(3),[4,Ig(c)];case 1:return v.sent(),p&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),c.Or.delete(3),[4,Qy(c)];case 3:return v.sent(),[2]}})})}(e.remoteStore,o)}),n.onlineComponents=e,[2]}})})}function XM(n){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return n.offlineComponents?[3,2]:($e("FirestoreClient","Using default OfflineComponentProvider"),[4,t9(n,new ZU)]);case 1:e.sent(),e.label=2;case 2:return[2,n.offlineComponents]}})})}function HC(n){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return n.onlineComponents?[3,2]:($e("FirestoreClient","Using default OnlineComponentProvider"),[4,n9(n,new QM)]);case 1:e.sent(),e.label=2;case 2:return[2,n.onlineComponents]}})})}function r9(n){return XM(n).then(function(e){return e.persistence})}function ZM(n){return XM(n).then(function(e){return e.localStore})}function i9(n){return HC(n).then(function(e){return e.remoteStore})}function JM(n){return HC(n).then(function(e){return e.syncEngine})}function Pg(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,HC(n)];case 1:return e=r.sent(),[2,((t=e.eventManager).onListen=Wle.bind(null,e.syncEngine),t.onUnlisten=Gle.bind(null,e.syncEngine),t)]}})})}function o9(n,e,t){var r=this;void 0===t&&(t={});var i=new ns;return n.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){var o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return o=function(l,c,p,v,b){var w=new jC({next:function(R){c.enqueueAndForget(function(){return UM(l,I)});var N=R.docs.has(p);!N&&R.fromCache?b.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&R.fromCache&&v&&"server"===v.source?b.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(R)},error:function(R){return b.reject(R)}}),I=new HM(dg(p.path),w,{includeMetadataChanges:!0,so:!0});return BM(l,I)},[4,Pg(n)];case 1:return[2,o.apply(void 0,[a.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}function s9(n,e,t){var r=this;void 0===t&&(t={});var i=new ns;return n.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){var o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return o=function(l,c,p,v,b){var w=new jC({next:function(R){c.enqueueAndForget(function(){return UM(l,I)}),R.fromCache&&"server"===v.source?b.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(R)},error:function(R){return b.reject(R)}}),I=new HM(p,w,{includeMetadataChanges:!0,so:!0});return BM(l,I)},[4,Pg(n)];case 1:return[2,o.apply(void 0,[a.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}var mue=function(n,e,t,r,i,o,a,l){this.databaseId=n,this.appId=e,this.persistenceKey=t,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l},zC=function(){function n(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(n.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database},n}(),a9=new Map,l9=function(n,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+n},u9=function(){function n(){this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(null)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Mo.UNAUTHENTICATED)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),gue=function(){function n(e){this.token=e,this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(this.token)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){var r=this;this.changeListener=t,e.enqueueRetryable(function(){return t(r.token.user)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),vue=function(){function n(e){var t=this;this.currentUser=Mo.UNAUTHENTICATED,this.oc=new ns,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var r=function(i){$e("FirebaseCredentialsProvider","Auth detected"),t.auth=i,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!t.auth){var i=e.getImmediate({optional:!0});i?r(i):($e("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return n.prototype.getToken=function(){var e=this,t=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==t?($e("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Kt("string"==typeof i.accessToken),new l9(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},n.prototype.invalidateToken=function(){this.forceRefresh=!0},n.prototype.setChangeListener=function(e,t){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,t(this.currentUser)];case 2:return i.sent(),this.changeListener=t,[2]}})})})},n.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},n.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Kt(null===e||"string"==typeof e),new Mo(e)},n}(),_ue=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r,this.type="FirstParty",this.user=Mo.FIRST_PARTY}return Object.defineProperty(n.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),n}(),yue=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r}return n.prototype.getToken=function(){return Promise.resolve(new _ue(this.hc,this.lc,this.fc))},n.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Mo.FIRST_PARTY)})},n.prototype.removeChangeListener=function(){},n.prototype.invalidateToken=function(){},n}();function e2(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,"Function "+n+"() cannot be called with an empty "+e+".")}function t2(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne(ce.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');return e}function c9(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ce.INVALID_ARGUMENT,n+" and "+t+" cannot be used together.")}function d9(n){if(!At.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n+" has "+n.length+".")}function h9(n){if(At.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n+" has "+n.length+".")}function qC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";var e=function(t){if(t.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(r&&r.length>1)return r[1]}return null}(n);return e?"a custom "+e+" object":"an object"}return"function"==typeof n?"a function":St()}function sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=qC(n);throw new Ne(ce.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return n}function f9(n,e){if(e<=0)throw new Ne(ce.INVALID_ARGUMENT,"Function "+n+"() requires a positive number, but it was: "+e+".")}var p9=function(){function n(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,c9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return n.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},n}(),Zy=function(){function n(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p9({}),this._settingsFrozen=!1,e instanceof zC?(this._databaseId=e,this._credentials=new u9):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zC(r.options.projectId)}(e),this._credentials=new vue(t))}return Object.defineProperty(n.prototype,"app",{get:function(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),n.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p9(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new u9;switch(t.type){case"gapi":var r=t.client;return Kt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yue(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},n.prototype._getSettings=function(){return this._settings},n.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},n.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},n.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},n.prototype._terminate=function(){return(t=a9.get(this))&&($e("ComponentProvider","Removing Datastore"),a9.delete(this),t.terminate()),Promise.resolve();var t},n}(),Yr=function(){function n(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(n.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new $d(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(e){return new n(this.firestore,e,this._key)},n}(),$s=function(){function n(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}return n.prototype.withConverter=function(e){return new n(this.firestore,e,this._query)},n}(),$d=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,dg(i))||this)._path=i,o.type="collection",o}return(0,k.__extends)(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Yr(this.firestore,null,new At(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}($s);function m9(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=(0,gt.getModularInstance)(n),e2("collection","path",e),n instanceof Zy)return h9(t=or.fromString.apply(or,(0,k.__spreadArray)([e],r))),new $d(n,null,t);if(!(n instanceof Yr||n instanceof $d))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return h9(t=or.fromString.apply(or,(0,k.__spreadArray)([n.path],r)).child(or.fromString(e))),new $d(n.firestore,null,t)}function $C(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=(0,gt.getModularInstance)(n),1===arguments.length&&(e=QB.u()),e2("doc","path",e),n instanceof Zy)return d9(t=or.fromString.apply(or,(0,k.__spreadArray)([e],r))),new Yr(n,null,new At(t));if(!(n instanceof Yr||n instanceof $d))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return d9(t=n._path.child(or.fromString.apply(or,(0,k.__spreadArray)([e],r)))),new Yr(n.firestore,n instanceof $d?n.converter:null,new At(t))}function g9(n,e){return n=(0,gt.getModularInstance)(n),e=(0,gt.getModularInstance)(e),(n instanceof Yr||n instanceof $d)&&(e instanceof Yr||e instanceof $d)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function v9(n,e){return n=(0,gt.getModularInstance)(n),e=(0,gt.getModularInstance)(e),n instanceof $s&&e instanceof $s&&n.firestore===e.firestore&&Vy(n._query,e._query)&&n.converter===e.converter}var bue=function(){function n(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new OM(this,"async_queue_retry"),this.Ic=function(){var r=LC();r&&$e("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var t=LC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(n.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),n.prototype.enqueueAndForget=function(e){this.enqueue(e)},n.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},n.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=LC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},n.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new ns;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},n.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},n.prototype.bc=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,k.__generator)(this,function(r){switch(r.label){case 0:if(0===this.wc.length)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xf(e=r.sent()))throw e;return $e("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),r.label=5;case 5:return[2]}})})},n.prototype.Rc=function(e){var t=this,r=this.dc.then(function(){return t.gc=!0,e().catch(function(i){throw t.yc=i,t.gc=!1,Ii("INTERNAL UNHANDLED ERROR: ",(a=(o=i).message||"",o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a)),i;var o,a}).then(function(i){return t.gc=!1,i})});return this.dc=r,r},n.prototype.enqueueAfterDelay=function(e,t,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=Fle.createAndSchedule(this,e,t,r,function(a){return i.vc(a)});return this.mc.push(o),o},n.prototype.Ac=function(){this.yc&&St()},n.prototype.verifyOperationInProgress=function(){},n.prototype.Pc=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},n.prototype.Vc=function(e){for(var t=0,r=this.mc;t<r.length;t++)if(r[t].timerId===e)return!0;return!1},n.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=t.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return t.Pc()})},n.prototype.Dc=function(e){this.Tc.push(e)},n.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},n}();function Og(n){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&"function"==typeof r[a])return!0}return!1}(n)}var wue=function(){function n(){this._progressObserver={},this._taskCompletionResolver=new ns,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return n.prototype.onProgress=function(e,t,r){this._progressObserver={next:e,error:t,complete:r}},n.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},n.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},n.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},n.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},n.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},n}(),_i=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).type="firestore",i._queue=new bue,i._persistenceKey="name"in t?t.name:"[DEFAULT]",i}return(0,k.__extends)(e,n),e.prototype._terminate=function(){return this._firestoreClient||_9(this),this._firestoreClient.terminate()},e}(Zy);function fo(n){return n._firestoreClient||_9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _9(n){var e,o,l,t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mue(n._databaseId,o,n._persistenceKey,(l=t).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams));n._firestoreClient=new pue(n._credentials,n._queue,r)}function y9(n,e,t){var r=this,i=new ns;return n.asyncQueue.enqueue(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){var o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,t9(n,t)];case 1:return a.sent(),[4,n9(n,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(l=o=a.sent()).name?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}var l})})}).then(function(){return i.promise})}function b9(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fu=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;++r)if(0===e[r].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bl(e)}return n.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},n}(),Of=function(){function n(e){this._byteString=e}return n.fromBase64String=function(e){try{return new n(Cs.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},n.fromUint8Array=function(e){return new n(Cs.fromUint8Array(e))},n.prototype.toBase64=function(){return this._byteString.toBase64()},n.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},n.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},n.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},n}(),Nf=function(n){this._methodName=n},WC=function(){function n(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(n.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},n.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},n.prototype._compareTo=function(e){return jn(this._lat,e._lat)||jn(this._long,e._long)},n}(),Eue=/^__.*__$/,Sue=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new jy(e,this.data,t,this.fieldTransforms)},n}(),w9=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms)},n}();function C9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}var E9=function(){function n(e,t,r,i,o,a){this.settings=e,this.databaseId=t,this.R=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(n.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),n.prototype.xc=function(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},n.prototype.kc=function(e){var t,r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},n.prototype.Oc=function(e){var t,r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},n.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},n.prototype.Lc=function(e){return KC(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},n.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},n.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},n.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(C9(this.Nc)&&Eue.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},n}(),Tue=function(){function n(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=r||Yy(e)}return n.prototype.Uc=function(e,t,r,i){return void 0===i&&(i=!1),new E9({Nc:e,methodName:t,qc:r,path:Bl.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},n}();function Ff(n){var e=n._freezeSettings(),t=Yy(n._databaseId);return new Tue(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(n,e,t,r,i,o){void 0===o&&(o={});var a=n.Uc(o.merge||o.mergeFields?2:0,e,t,i);s2("Data must be an object, but it was:",a,r);var l,c,p=D9(r,a);if(o.merge)l=new ag(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var v=[],b=0,w=o.mergeFields;b<w.length;b++){var I=a2(e,w[b],t);if(!a.contains(I))throw new Ne(ce.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");I9(v,I)||v.push(I)}l=new ag(v),c=a.fieldTransforms.filter(function(R){return l.covers(R.field)})}else l=null,c=a.fieldTransforms;return new Sue(new ga(p),l,c)}var n2=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Nf);function S9(n,e,t){return new E9({Nc:3,qc:e.settings.qc,methodName:n._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Due=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype._toFieldTransform=function(t){return new Uy(t.path,new fg)},e.prototype.isEqual=function(t){return t instanceof e},e}(Nf),Aue=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return(0,k.__extends)(e,n),e.prototype._toFieldTransform=function(t){var r=S9(this,t,!0),i=this.Kc.map(function(a){return Lf(a,r)}),o=new If(i);return new Uy(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Nf),Iue=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return(0,k.__extends)(e,n),e.prototype._toFieldTransform=function(t){var r=S9(this,t,!0),i=this.Kc.map(function(a){return Lf(a,r)}),o=new kf(i);return new Uy(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Nf),kue=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Qc=r,i}return(0,k.__extends)(e,n),e.prototype._toFieldTransform=function(t){var r=new pg(t.R,v6(t.R,this.Qc));return new Uy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nf);function r2(n,e,t,r){var i=n.Uc(1,e,t);s2("Data must be an object, but it was:",i,r);var o=[],a=ga.empty();Tf(r,function(c,p){var v=l2(e,c,t);p=(0,gt.getModularInstance)(p);var b=i.Oc(v);if(p instanceof n2)o.push(v);else{var w=Lf(p,b);null!=w&&(o.push(v),a.set(v,w))}});var l=new ag(o);return new w9(a,l,i.fieldTransforms)}function o2(n,e,t,r,i,o){var a=n.Uc(1,e,t),l=[a2(e,r,t)],c=[i];if(o.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<o.length;p+=2)l.push(a2(e,o[p])),c.push(o[p+1]);for(var v=[],b=ga.empty(),w=l.length-1;w>=0;--w)if(!I9(v,l[w])){var I=l[w],R=c[w];R=(0,gt.getModularInstance)(R);var N=a.Oc(I);if(R instanceof n2)v.push(I);else{var z=Lf(R,N);null!=z&&(v.push(I),b.set(I,z))}}var Q=new ag(v);return new w9(b,Q,a.fieldTransforms)}function T9(n,e,t,r){return void 0===r&&(r=!1),Lf(t,n.Uc(r?4:3,e))}function Lf(n,e){if(A9(n=(0,gt.getModularInstance)(n)))return s2("Unsupported field value:",e,n),D9(n,e);if(n instanceof Nf)return function(t,r){if(!C9(r.Nc))throw r.Lc(t._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(t._methodName+"() is not currently supported inside arrays");var i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,r){for(var i=[],o=0,a=0,l=t;a<l.length;a++){var c=Lf(l[a],r.Mc(o));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,gt.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return v6(r.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var i=Hs.fromDate(t);return{timestampValue:zy(r.R,i)}}if(t instanceof Hs)return i=new Hs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:zy(r.R,i)};if(t instanceof WC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Of)return{bytesValue:L6(r.R,t._byteString)};if(t instanceof Yr){var o=t.firestore._databaseId;if(!o.isEqual(i=r.databaseId))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:yM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Lc("Unsupported field value: "+qC(t))}(n,e)}function D9(n,e){var t={};return JB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tf(n,function(r,i){var o=Lf(i,e.kc(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function A9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hs||n instanceof WC||n instanceof Of||n instanceof Yr||n instanceof Nf)}function s2(n,e,t){if(!A9(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var r=qC(t);throw e.Lc("an object"===r?n+" a custom object":n+" "+r)}var i}function a2(n,e,t){if((e=(0,gt.getModularInstance)(e))instanceof Fu)return e._internalPath;if("string"==typeof e)return l2(n,e);throw KC("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}var Mue=new RegExp("[~\\*/\\[\\]]");function l2(n,e,t){if(e.search(Mue)>=0)throw KC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",n,!1,void 0,t);try{return(new(Fu.bind.apply(Fu,(0,k.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw KC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",n,!1,void 0,t)}}function KC(n,e,t,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,l="Function "+e+"() called with invalid data";t&&(l+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new Ne(ce.INVALID_ARGUMENT,(l+=". ")+n+c)}function I9(n,e){return n.some(function(t){return t.isEqual(e)})}var Jy=function(){function n(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new Yr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),n.prototype.exists=function(){return null!==this._document},n.prototype.data=function(){if(this._document){if(this._converter){var e=new xue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},n.prototype.get=function(e){if(this._document){var t=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},n}(),xue=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype.data=function(){return n.prototype.data.call(this)},e}(Jy);function YC(n,e){return"string"==typeof e?l2(n,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}var Vf=function(){function n(e,t){this.hasPendingWrites=e,this.fromCache=t}return n.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},n}(),Vc=function(n){function e(t,r,i,o,a,l){var c=this;return(c=n.call(this,t,r,i,o,l)||this)._firestore=t,c._firestoreImpl=t,c.metadata=a,c}return(0,k.__extends)(e,n),e.prototype.exists=function(){return n.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var r=new eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,r){if(void 0===r&&(r={}),this._document){var i=this._document.data.field(YC("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(Jy),eb=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype.data=function(t){return void 0===t&&(t={}),n.prototype.data.call(this,t)},e}(Vc),Wd=function(){function n(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(n.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e,t){var r=this;this._snapshot.docs.forEach(function(i){e.call(t,new eb(r._firestore,r._userDataWriter,i.key,i,new Vf(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},n.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new eb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||3!==l.type}).map(function(l){var c=new eb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,v=-1;return 0!==l.type&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:Rue(l.type),doc:c,oldIndex:p,newIndex:v}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},n}();function Rue(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function k9(n,e){return n instanceof Vc&&e instanceof Vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wd&&e instanceof Wd&&n._firestore===e._firestore&&v9(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function M9(n){if(CC(n)&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tb=function(){};function Gd(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,i=e;r<i.length;r++){var o=i[r];n=o._apply(n)}return n}var Pue=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).jc=t,o.Wc=r,o.Gc=i,o.type="where",o}return(0,k.__extends)(e,n),e.prototype._apply=function(t){var o,l,r=Ff(t.firestore),i=function(o,a,l,c,p,v,b){var w;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ne(ce.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if("in"===v||"not-in"===v){F9(b,v);for(var I=[],R=0,N=b;R<N.length;R++)I.push(N9(c,o,N[R]));w={arrayValue:{values:I}}}else w=N9(c,o,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||F9(b,v),w=T9(l,"where",b,"in"===v||"not-in"===v);var Q=va.create(p,v,w);return function(Y,ae){if(ae.g()){var Ee=dM(Y);if(null!==Ee&&!Ee.isEqual(ae.field))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Ee.toString()+"' and '"+ae.field.toString()+"'");var Ve=cM(Y);null!==Ve&&L9(0,ae.field,Ve)}var De=function(xt,Er){for(var nt=0,Pi=xt.filters;nt<Pi.length;nt++){var ne=Pi[nt];if(Er.indexOf(ne.op)>=0)return ne.op}return null}(Y,function(xt){switch(xt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ae.op));if(null!==De)throw new Ne(ce.INVALID_ARGUMENT,De===ae.op?"Invalid query. You cannot use more than one '"+ae.op.toString()+"' filter.":"Invalid query. You cannot use '"+ae.op.toString()+"' filters with '"+De.toString()+"' filters.")}(o,Q),Q}(t._query,0,r,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new $s(t.firestore,t.converter,(l=(o=t._query).filters.concat([i]),new Oc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)))},e}(tb),Oue=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).jc=t,i.zc=r,i.type="orderBy",i}return(0,k.__extends)(e,n),e.prototype._apply=function(t){var i,a,r=function(i,o,a){if(null!==i.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new cg(o,a);return function(c,p){if(null===cM(c)){var v=dM(c);null!==v&&L9(0,v,p.field)}}(i,l),l}(t._query,this.jc,this.zc);return new $s(t.firestore,t.converter,(a=(i=t._query).explicitOrderBy.concat([r]),new Oc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)))},e}(tb),x9=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Hc=r,o.Jc=i,o}return(0,k.__extends)(e,n),e.prototype._apply=function(t){return new $s(t.firestore,t.converter,h6(t._query,this.Hc,this.Jc))},e}(tb),R9=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return(0,k.__extends)(e,n),e.prototype._apply=function(t){var i,o,r=O9(t,this.type,this.Yc,this.Xc);return new $s(t.firestore,t.converter,(o=r,new Oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)))},e}(tb),P9=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return(0,k.__extends)(e,n),e.prototype._apply=function(t){var i,o,r=O9(t,this.type,this.Yc,this.Xc);return new $s(t.firestore,t.converter,(o=r,new Oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)))},e}(tb);function O9(n,e,t,r){if(t[0]=(0,gt.getModularInstance)(t[0]),t[0]instanceof Jy)return function(o,a,l,c,p){if(!c)throw new Ne(ce.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],b=0,w=hg(o);b<w.length;b++){var I=w[b];if(I.field.isKeyField())v.push(gC(a,c.key));else{var R=c.data.field(I.field);if(oM(R))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){var N=I.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+N+"' (used as the orderBy) does not exist.")}v.push(R)}}return new Ly(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);var i=Ff(n.firestore);return function(o,a,l,c,p,v){var b=o.explicitOrderBy;if(p.length>b.length)throw new Ne(ce.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var w=[],I=0;I<p.length;I++){var R=p[I];if(b[I].field.isKeyField()){if("string"!=typeof R)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof R);if(!hM(o)&&-1!==R.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+R+"' contains a slash.");var N=o.path.child(or.fromString(R));if(!At.isDocumentKey(N))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+N+"' is not because it contains an odd number of segments.");var z=new At(N);w.push(gC(a,z))}else{var Q=T9(l,c,R);w.push(Q)}}return new Ly(w,v)}(n._query,n.firestore._databaseId,i,e,t,r)}function N9(n,e,t){if("string"==typeof(t=(0,gt.getModularInstance)(t))){if(""===t)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hM(e)&&-1!==t.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var r=e.path.child(or.fromString(t));if(!At.isDocumentKey(r))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gC(n,new At(r))}if(t instanceof Yr)return gC(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qC(t)+".")}function F9(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function L9(n,e,t){if(!t.isEqual(e))throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var u2=function(){function n(){}return n.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Af(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}},n.prototype.convertObject=function(e,t){var r=this,i={};return Tf(e.fields,function(o,a){i[o]=r.convertValue(a,t)}),i},n.prototype.convertGeoPoint=function(e){return new WC(ki(e.latitude),ki(e.longitude))},n.prototype.convertArray=function(e,t){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,t)})},n.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var r=t6(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Py(e));default:return null}},n.prototype.convertTimestamp=function(e){var t=Fd(e);return new Hs(t.seconds,t.nanos)},n.prototype.convertDocumentKey=function(e,t){var r=or.fromString(e);Kt(Q6(r));var i=new zC(r.get(1),r.get(3)),o=new At(r.popFirst(5));return i.isEqual(t)||Ii("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},n}();function QC(n,e,t){return n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e}var Nue=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return(0,k.__extends)(e,n),e.prototype.convertBytes=function(t){return new Of(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new Yr(this.firestore,null,r)},e}(u2),Fue=function(){function n(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ff(e)}return n.prototype.set=function(e,t,r){this._verifyNotCommitted();var i=Kd(e,this._firestore),o=QC(i.converter,t,r),a=GC(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(a.toMutation(i._key,Jo.none())),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,l=Kd(e,this._firestore);return a="string"==typeof(t=(0,gt.getModularInstance)(t))||t instanceof Fu?o2(this._dataReader,"WriteBatch.update",l._key,t,r,i):r2(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(a.toMutation(l._key,Jo.exists(!0))),this},n.prototype.delete=function(e){this._verifyNotCommitted();var t=Kd(e,this._firestore);return this._mutations=this._mutations.concat(new Hy(t._key,Jo.none())),this},n.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},n.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},n}();function Kd(n,e){if((n=(0,gt.getModularInstance)(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var Bf=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return(0,k.__extends)(e,n),e.prototype.convertBytes=function(t){return new Of(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new Yr(this.firestore,null,r)},e}(u2);function V9(n,e,t){n=sr(n,Yr);var r=sr(n.firestore,_i),i=QC(n.converter,e,t);return nb(r,[GC(Ff(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jo.none())])}function B9(n,e,t){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];n=sr(n,Yr);var o=sr(n.firestore,_i),a=Ff(o);return nb(o,[("string"==typeof(e=(0,gt.getModularInstance)(e))||e instanceof Fu?o2(a,"updateDoc",n._key,e,t,r):r2(a,"updateDoc",n._key,e)).toMutation(n._key,Jo.exists(!0))])}function U9(n){for(var e,t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];n=(0,gt.getModularInstance)(n);var a={includeMetadataChanges:!1},l=0;"object"!=typeof i[l]||Og(i[l])||(a=i[l],l++);var c,p,v,b={includeMetadataChanges:a.includeMetadataChanges};if(Og(i[l])){var w=i[l];i[l]=null===(e=w.next)||void 0===e?void 0:e.bind(w),i[l+1]=null===(t=w.error)||void 0===t?void 0:t.bind(w),i[l+2]=null===(r=w.complete)||void 0===r?void 0:r.bind(w)}if(n instanceof Yr)p=sr(n.firestore,_i),v=dg(n._key.path),c={next:function(N){i[l]&&i[l](c2(p,n,N))},error:i[l+1],complete:i[l+2]};else{var I=sr(n,$s);p=sr(I.firestore,_i),v=I._query;var R=new Bf(p);c={next:function(N){i[l]&&i[l](new Wd(p,R,I,N))},error:i[l+1],complete:i[l+2]},M9(n._query)}return function(N,z,Q,Y){var ae=this,Ee=new jC(Y),Ve=new HM(z,Ee,Q);return N.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(ae,void 0,void 0,function(){var De;return(0,k.__generator)(this,function(xt){switch(xt.label){case 0:return De=BM,[4,Pg(N)];case 1:return[2,De.apply(void 0,[xt.sent(),Ve])]}})})}),function(){Ee.Wo(),N.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(ae,void 0,void 0,function(){var De;return(0,k.__generator)(this,function(xt){switch(xt.label){case 0:return De=UM,[4,Pg(N)];case 1:return[2,De.apply(void 0,[xt.sent(),Ve])]}})})})}}(fo(p),v,b,c)}function nb(n,e){return function(t,r){var i=this,o=new ns;return t.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(i,void 0,void 0,function(){var a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return a=Kle,[4,JM(t)];case 1:return[2,a.apply(void 0,[l.sent(),r,o])]}})})}),o.promise}(fo(n),e)}function c2(n,e,t){var r=t.docs.get(e._key),i=new Bf(n);return new Vc(n,i,e._key,r,new Vf(t.hasPendingWrites,t.fromCache),e.converter)}var Lue=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this)._firestore=t,i}return(0,k.__extends)(e,n),e.prototype.get=function(t){var r=this,i=Kd(t,this._firestore),o=new Bf(this._firestore);return n.prototype.get.call(this,t).then(function(a){return new Vc(r._firestore,o,i._key,a._document,new Vf(!1,!1),i.converter)})},e}(function(){function n(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ff(e)}return n.prototype.get=function(e){var t=this,r=Kd(e,this._firestore),i=new Nue(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||1!==o.length)return St();var a=o[0];if(a.isFoundDocument())return new Jy(t._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Jy(t._firestore,i,r._key,null,r.converter);throw St()})},n.prototype.set=function(e,t,r){var i=Kd(e,this._firestore),o=QC(i.converter,t,r),a=GC(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,a),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,l=Kd(e,this._firestore);return a="string"==typeof(t=(0,gt.getModularInstance)(t))||t instanceof Fu?o2(this._dataReader,"Transaction.update",l._key,t,r,i):r2(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,a),this},n.prototype.delete=function(e){var t=Kd(e,this._firestore);return this._transaction.delete(t._key),this},n}());function j9(){if("undefined"==typeof Uint8Array)throw new Ne(ce.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function H9(){if("undefined"==typeof atob)throw new Ne(ce.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var z9=function(){function n(e){this._delegate=e}return n.fromBase64String=function(e){return H9(),new n(Of.fromBase64String(e))},n.fromUint8Array=function(e){return j9(),new n(Of.fromUint8Array(e))},n.prototype.toBase64=function(){return H9(),this._delegate.toBase64()},n.prototype.toUint8Array=function(){return j9(),this._delegate.toUint8Array()},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(),Vue=function(){function n(){}return n.prototype.enableIndexedDbPersistence=function(e,t){return function(r,i){b9(r=sr(r,_i));var o=fo(r),a=r._freezeSettings(),l=new QM;return y9(o,l,new JU(l,a.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:t})},n.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){b9(t=sr(t,_i));var r=fo(t),i=t._freezeSettings(),o=new QM;return y9(r,o,new cue(o,i.cacheSizeBytes))}(e._delegate)},n.prototype.clearIndexedDbPersistence=function(e){return function(t){var r=this;if(t._initialized&&!t._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new ns;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,k.__awaiter)(r,void 0,void 0,function(){var o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(p){switch(p.label){case 0:return yg.yt()?[4,yg.delete(l+"main")]:[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(IM(t._databaseId,t._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},n}(),d2=function(){function n(e,t,r){var i=this;this._delegate=t,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof zC||(this.tu=e)}return Object.defineProperty(n.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),n.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ry("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},n.prototype.useEmulator=function(e,t,r){void 0===r&&(r={}),function(i,o,a,l){var c;void 0===l&&(l={});var p=(i=sr(i,Zy))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==o&&Ry("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:o+":"+a,ssl:!1})),l.mockUserToken){var v,b;if("string"==typeof l.mockUserToken)v=l.mockUserToken,b=Mo.MOCK_USER;else{v=(0,gt.createMockUserToken)(l.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);var w=l.mockUserToken.sub||l.mockUserToken.user_id;if(!w)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Mo(w)}i._credentials=new gue(new l9(v,b))}}(this._delegate,e,t,r)},n.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,k.__awaiter)(t,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,r9(e)];case 1:return r=o.sent(),[4,i9(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),a=i,l=Ze(a),l.Or.delete(0),Qy(l))]}var a,l})})})}(fo(sr(this._delegate,_i)))},n.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,k.__awaiter)(t,void 0,void 0,function(){var r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,r9(e)];case 1:return r=o.sent(),[4,i9(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return(0,k.__awaiter)(this,void 0,void 0,function(){var l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return(l=Ze(a)).Or.add(0),[4,Ig(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(fo(sr(this._delegate,_i)))},n.prototype.enablePersistence=function(e){var t=!1,r=!1;return e&&c9("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},n.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},n.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},n.prototype.waitForPendingWrites=function(){return function(e){var t=this,r=new ns;return e.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(t,void 0,void 0,function(){var i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return i=Zle,[4,JM(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(fo(sr(this._delegate,_i)))},n.prototype.onSnapshotsInSync=function(e){return r=e,function(i,o){var a=this,l=new jC(o);return i.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(a,void 0,void 0,function(){var c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return c=function(v,b){Ze(v).Gr.add(b),b.next()},[4,Pg(i)];case 1:return[2,c.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(a,void 0,void 0,function(){var c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return c=function(v,b){Ze(v).Gr.delete(b)},[4,Pg(i)];case 1:return[2,c.apply(void 0,[p.sent(),l])]}})})})}}(fo(sr(this._delegate,_i)),Og(r)?r:{next:r});var r},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.tu)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new JC(this,m9(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}},n.prototype.doc=function(e){try{return new Uf(this,$C(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}},n.prototype.collectionGroup=function(e){try{return new ob(this,function(t,r){if(t=sr(t,Zy),e2("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new $s(t,null,(i=r,new Oc(or.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}},n.prototype.runTransaction=function(e){var r,t=this;return function(o,a){var l=this,c=new ns;return o.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(l,void 0,void 0,function(){var p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return[4,(b=o,HC(b).then(function(w){return w.datastore}))];case 1:return p=v.sent(),new fue(o.asyncQueue,p,a,c).run(),[2]}var b})})}),c.promise}(fo(r=this._delegate),function(o){return function(r){return e(new q9(t,r))}(new Lue(r,o))})},n.prototype.batch=function(){var e=this;return fo(this._delegate),new $9(new Fue(this._delegate,function(t){return nb(e._delegate,t)}))},n.prototype.loadBundle=function(e){throw new Ne(ce.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},n.prototype.namedQuery=function(e){throw new Ne(ce.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},n}(),XC=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return(0,k.__extends)(e,n),e.prototype.convertBytes=function(t){return new z9(new Of(t))},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return Uf.eu(r,this.firestore,null)},e}(u2),q9=function(){function n(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return n.prototype.get=function(e){var t=this,r=jf(e);return this._delegate.get(r).then(function(i){return new rb(t._firestore,new Vc(t._firestore._delegate,t._userDataWriter,i._key,i._document,i.metadata,r.converter))})},n.prototype.set=function(e,t,r){var i=jf(e);return r?(t2("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=jf(e);return 2===arguments.length?this._delegate.update(l,t):(i=this._delegate).update.apply(i,(0,k.__spreadArray)([l,t,r],o)),this},n.prototype.delete=function(e){var t=jf(e);return this._delegate.delete(t),this},n}(),$9=function(){function n(e){this._delegate=e}return n.prototype.set=function(e,t,r){var i=jf(e);return r?(t2("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=jf(e);return 2===arguments.length?this._delegate.update(l,t):(i=this._delegate).update.apply(i,(0,k.__spreadArray)([l,t,r],o)),this},n.prototype.delete=function(e){var t=jf(e);return this._delegate.delete(t),this},n.prototype.commit=function(){return this._delegate.commit()},n}(),ZC=function(){function n(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}return n.prototype.fromFirestore=function(e,t){var r=new eb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ib(this._firestore,r),null!=t?t:{})},n.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},n.nu=function(e,t){var r=n.su,i=r.get(e);i||r.set(e,i=new WeakMap);var o=i.get(t);return o||(o=new n(e,new XC(e),t),i.set(t,o)),o},n}();ZC.su=new WeakMap;var Uf=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return n.iu=function(e,t,r){if(e.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new n(t,new Yr(t._delegate,r,new At(e)))},n.eu=function(e,t,r){return new n(t,new Yr(t._delegate,r,e))},Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new JC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new JC(this.firestore,m9(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}},n.prototype.isEqual=function(e){return(e=(0,gt.getModularInstance)(e))instanceof Yr&&g9(this._delegate,e)},n.prototype.set=function(e,t){t=t2("DocumentReference.set",t);try{return t?V9(this._delegate,e,t):V9(this._delegate,e)}catch(r){throw Es(r,"setDoc()","DocumentReference.set()")}},n.prototype.update=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return 1===arguments.length?B9(this._delegate,e):B9.apply(void 0,(0,k.__spreadArray)([this._delegate,e,t],r))}catch(o){throw Es(o,"updateDoc()","DocumentReference.update()")}},n.prototype.delete=function(){return nb(sr((e=this._delegate).firestore,_i),[new Hy(e._key,Jo.none())]);var e},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=W9(t),o=G9(t,function(a){return new rb(e.firestore,new Vc(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return U9(this._delegate,i,o)},n.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(r){r=sr(r,Yr);var i=sr(r.firestore,_i),o=fo(i),a=new Bf(i);return function(l,c){var p=this,v=new ns;return l.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(p,void 0,void 0,function(){var b;return(0,k.__generator)(this,function(w){switch(w.label){case 0:return b=function(I,R,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var z,Q;return(0,k.__generator)(this,function(Y){switch(Y.label){case 0:return Y.trys.push([0,2,,3]),[4,(ae=I,Ee=R,Ve=Ze(ae),Ve.persistence.runTransaction("read document","readonly",function(De){return Ve.Mn.mn(De,Ee)}))];case 1:return(Q=Y.sent()).isFoundDocument()?N.resolve(Q):Q.isNoDocument()?N.resolve(null):N.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return z=Y.sent(),Q=xg(z,"Failed to get document '"+R+" from cache"),N.reject(Q),[3,3];case 3:return[2]}var ae,Ee,Ve})})},[4,ZM(l)];case 1:return[2,b.apply(void 0,[w.sent(),c,v])]}})})}),v.promise}(o,r._key).then(function(l){return new Vc(i,a,r._key,l,new Vf(null!==l&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=sr(r,Yr);var i=sr(r.firestore,_i);return o9(fo(i),r._key,{source:"server"}).then(function(o){return c2(i,r,o)})}(this._delegate):function(r){r=sr(r,Yr);var i=sr(r.firestore,_i);return o9(fo(i),r._key).then(function(o){return c2(i,r,o)})}(this._delegate)).then(function(r){return new rb(t.firestore,new Vc(t.firestore._delegate,t._userDataWriter,r._key,r._document,r.metadata,t._delegate.converter))})},n.prototype.withConverter=function(e){return new n(this.firestore,this._delegate.withConverter(e?ZC.nu(this.firestore,e):null))},n}();function Es(n,e,t){return n.message=n.message.replace(e,t),n}function W9(n){for(var e=0,t=n;e<t.length;e++){var r=t[e];if("object"==typeof r&&!Og(r))return r}return{}}function G9(n,e){var t,r,i;return{next:function(o){i.next&&i.next(e(o))},error:null===(t=(i=Og(n[0])?n[0]:Og(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]}).error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rb=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"ref",{get:function(){return new Uf(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),n.prototype.data=function(e){return this._delegate.data(e)},n.prototype.get=function(e,t){return this._delegate.get(e,t)},n.prototype.isEqual=function(e){return k9(this._delegate,e._delegate)},n}(),ib=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,k.__extends)(e,n),e.prototype.data=function(t){return this._delegate.data(t)},e}(rb),ob=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}return n.prototype.where=function(e,t,r){try{return new n(this.firestore,Gd(this._delegate,(a=r,l=t,c=YC("where",i=e),new Pue(c,l,a))))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,a,l,c},n.prototype.orderBy=function(e,t){try{return new n(this.firestore,Gd(this._delegate,function(r,i){void 0===i&&(i="asc");var o=i,a=YC("orderBy",r);return new Oue(a,o)}(e,t)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.limit=function(e){try{return new n(this.firestore,Gd(this._delegate,(f9("limit",t=e),new x9("limit",t,"F"))))}catch(t){throw Es(t,"limit()","Query.limit()")}var t},n.prototype.limitToLast=function(e){try{return new n(this.firestore,Gd(this._delegate,(f9("limitToLast",t=e),new x9("limitToLast",t,"L"))))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}var t},n.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Gd(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new R9("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw Es(r,"startAt()","Query.startAt()")}},n.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Gd(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new R9("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw Es(r,"startAfter()","Query.startAfter()")}},n.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Gd(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new P9("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw Es(r,"endBefore()","Query.endBefore()")}},n.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Gd(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new P9("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw Es(r,"endAt()","Query.endAt()")}},n.prototype.isEqual=function(e){return v9(this._delegate,e._delegate)},n.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(r){r=sr(r,$s);var i=sr(r.firestore,_i),o=fo(i),a=new Bf(i);return function(l,c){var p=this,v=new ns;return l.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(p,void 0,void 0,function(){var b;return(0,k.__generator)(this,function(w){switch(w.label){case 0:return b=function(I,R,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var z,Q,Y,ae,Ee;return(0,k.__generator)(this,function(Ve){switch(Ve.label){case 0:return Ve.trys.push([0,2,,3]),[4,FC(I,R,!0)];case 1:return Ee=Ve.sent(),z=new WU(R,Ee.Bn),Q=z._o(Ee.documents),Y=z.applyChanges(Q,!1),N.resolve(Y.snapshot),[3,3];case 2:return ae=Ve.sent(),Ee=xg(ae,"Failed to execute query '"+R+" against cache"),N.reject(Ee),[3,3];case 3:return[2]}})})},[4,ZM(l)];case 1:return[2,b.apply(void 0,[w.sent(),c,v])]}})})}),v.promise}(o,r._query).then(function(l){return new Wd(i,a,r,l)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=sr(r,$s);var i=sr(r.firestore,_i),o=fo(i),a=new Bf(i);return s9(o,r._query,{source:"server"}).then(function(l){return new Wd(i,a,r,l)})}(this._delegate):function(r){r=sr(r,$s);var i=sr(r.firestore,_i),o=fo(i),a=new Bf(i);return M9(r._query),s9(o,r._query).then(function(l){return new Wd(i,a,r,l)})}(this._delegate)).then(function(r){return new h2(t.firestore,new Wd(t.firestore._delegate,t._userDataWriter,t._delegate,r._snapshot))})},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=W9(t),o=G9(t,function(a){return new h2(e.firestore,new Wd(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return U9(this._delegate,i,o)},n.prototype.withConverter=function(e){return new n(this.firestore,this._delegate.withConverter(e?ZC.nu(this.firestore,e):null))},n}(),Uue=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doc",{get:function(){return new ib(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),n}(),h2=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"query",{get:function(){return new ob(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new ib(e._firestore,t)})},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(r){return new Uue(t._firestore,r)})},n.prototype.forEach=function(e,t){var r=this;this._delegate.forEach(function(i){e.call(t,new ib(r._firestore,i))})},n.prototype.isEqual=function(e){return k9(this._delegate,e._delegate)},n}(),JC=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).firestore=t,i._delegate=r,i}return(0,k.__extends)(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Uf(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Uf(this.firestore,void 0===t?$C(this._delegate):$C(this._delegate,t))}catch(r){throw Es(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var i,o,a,l,c,r=this;return(i=this._delegate,o=t,a=sr(i.firestore,_i),l=$C(i),c=QC(i.converter,o),nb(a,[GC(Ff(i.firestore),"addDoc",l._key,c,null!==i.converter,{}).toMutation(l._key,Jo.exists(!1))]).then(function(){return l})).then(function(i){return new Uf(r.firestore,i)})},e.prototype.isEqual=function(t){return g9(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ZC.nu(this.firestore,t):null))},e}(ob);function jf(n){return sr(n,Yr)}var jue=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Fu.bind.apply(Fu,(0,k.__spreadArray)([void 0],e)))}return n.documentId=function(){return new n(Bl.keyField().canonicalString())},n.prototype.isEqual=function(e){return(e=(0,gt.getModularInstance)(e))instanceof Fu&&this._delegate._internalPath.isEqual(e._internalPath)},n}(),Hue=function(){function n(e){this._delegate=e}return n.serverTimestamp=function(){var e=new Due("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new n(e)},n.delete=function(){var e=new n2("deleteField");return e._methodName="FieldValue.delete",new n(e)},n.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Aue("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Iue("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new n(r)},n.increment=function(e){var t=new kue("increment",e);return t._methodName="FieldValue.increment",new n(t)},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n}();function zue(n){return t=n,r=fo(e=sr(e=this._delegate,_i)),i=new wue,function(o,a,l,c){var b,w,I,p=this,v=(b=l,w=Yy(a),I=function(I,R){if(I instanceof Uint8Array)return e9(I,R);if(I instanceof ArrayBuffer)return e9(new Uint8Array(I),R);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof b?(new TextEncoder).encode(b):b),new due(I,w));o.asyncQueue.enqueueAndForget(function(){return(0,k.__awaiter)(p,void 0,void 0,function(){var b;return(0,k.__generator)(this,function(w){switch(w.label){case 0:return b=uue,[4,JM(o)];case 1:return b.apply(void 0,[w.sent(),v,c]),[2]}})})})}(r,e._databaseId,t,i),i;var e,t,r,i}function que(n){var e,t,r=this;return(e=this._delegate,t=n,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return(0,k.__awaiter)(a,void 0,void 0,function(){var l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return l=function(p,v){var b=Ze(p);return b.persistence.runTransaction("Get named query","readonly",function(w){return b.Ke.getNamedQuery(w,v)})},[4,ZM(i)];case 1:return[2,l.apply(void 0,[c.sent(),o])]}})})})}(fo(e=sr(e,_i)),t).then(function(i){return i?new $s(e,null,i.query):null})).then(function(i){return i?new ob(r,i):null})}var Bc=_t(461),$ue={Firestore:d2,GeoPoint:WC,Timestamp:Hs,Blob:z9,Transaction:q9,WriteBatch:$9,DocumentReference:Uf,DocumentSnapshot:rb,Query:ob,QueryDocumentSnapshot:ib,QuerySnapshot:h2,CollectionReference:JC,FieldPath:jue,FieldValue:Hue,setLogLevel:function Bue(n){Vl.setLogLevel(n)},CACHE_SIZE_UNLIMITED:-1};!function Wue(n){n.INTERNAL.registerComponent(new Bc.Component("firestore",function(r){return e=r.getProvider("app").getImmediate(),t=r.getProvider("auth-internal"),new d2(e,new _i(e,t),new Vue);var e,t},"PUBLIC").setServiceProps(Object.assign({},$ue))),n.registerVersion("@firebase/firestore","2.4.1")}(it.default),function Gue(n){n.prototype.loadBundle=zue,n.prototype.namedQuery=que}(d2);var K9={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ng=function(n){function e(t,r,i){var o=n.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=t,o.details=i,o}return(0,k.__extends)(e,n),e}(Error),Que=function(){function n(e,t){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||t.get().then(function(i){return r.messaging=i},function(){})}return n.prototype.getAuthToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getInstanceIdToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getContext=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return t=r.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},n}();function Y9(n,e){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}var Jue=function(){function n(){}return n.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return t.encode(r)});if("function"==typeof e||"object"==typeof e)return Y9(e,function(r){return t.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},n.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return t.decode(i)}):"function"==typeof e||"object"==typeof e?Y9(e,function(i){return t.decode(i)}):e},n}(),Q9=function(){function n(e,t,r,i,o,a){var l=this;void 0===o&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new Jue,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new Que(t,r),this.cancelAllRequests=new Promise(function(p){l.deleteService=function(){return p()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch(p){this.customDomain=null,this.region=o}}return Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),n.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},n.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},n.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},n.prototype.httpsCallable=function(e,t){var r=this;return function(i){return r.call(e,i,t||{})}},n.prototype.postJSON=function(e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(i=l.sent())&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:r})];case 3:return o=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,o.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},n.prototype.getAppCheckToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},n.prototype.call=function(e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,l,p,v,b,w,I,R;return(0,k.__generator)(this,function(z){switch(z.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(l=z.sent()).authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),p=function ece(n){var e,t=new Promise(function(r,i){e=setTimeout(function(){i(new Ng("deadline-exceeded","deadline-exceeded"))},n)});return{timer:e,promise:t}}(r.timeout||7e4),v=p.timer,b=p.promise,[4,Promise.race([X9(v,this.postJSON(i,o,a)),b,X9(v,this.cancelAllRequests)])];case 2:if(!(w=z.sent()))throw new Ng("cancelled","Firebase Functions instance was deleted.");if(I=function Yue(n,e,t){var r=function Kue(n){if(n>=200&&n<300)return"ok";switch(n){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(n),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if("string"==typeof l){if(!K9[l])return new Ng("internal","internal");r=K9[l],i=l}var c=a.message;"string"==typeof c&&(i=c),void 0!==(o=a.details)&&(o=t.decode(o))}}catch(p){}return"ok"===r?null:new Ng(r,i,o)}(w.status,w.json,this.serializer),I)throw I;if(!w.json)throw new Ng("internal","Response is not valid JSON object.");if(void 0===(R=w.json.data)&&(R=w.json.result),void 0===R)throw new Ng("internal","Response is missing data field.");return[2,{data:this.serializer.decode(R)}]}})})},n}();function X9(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return t=r.sent(),clearTimeout(n),[2,t]}})})}(function nce(n,e){var t={Functions:Q9};n.INTERNAL.registerComponent(new Bc.Component("functions",function r(i,o){var a=o.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),p=i.getProvider("app-check-internal"),v=i.getProvider("messaging");return new Q9(l,c,v,p,a,e)},"PUBLIC").setServiceProps(t).setMultipleInstances(!0))})(it.default,fetch.bind(self)),it.default.registerVersion("@firebase/functions","0.6.16");var Yd,Fg=_t(940),ej="w:0.4.32",cce=((Yd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Yd["not-registered"]="Firebase Installation is not registered.",Yd["installation-not-found"]="Firebase Installation not found.",Yd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Yd["app-offline"]="Could not process request. Application offline.",Yd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Yd),Uc=new gt.ErrorFactory("installations","Installations",cce);function nj(n){return n instanceof gt.FirebaseError&&n.code.includes("request-failed")}function f2(n){return"https://firebaseinstallations.googleapis.com/v1/projects/"+n.projectId+"/installations"}function rj(n){return{token:n.token,requestStatus:2,expiresIn:dce(n.expiresIn),creationTime:Date.now()}}function p2(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return t=i.sent(),[2,Uc.create("request-failed",{requestName:n,serverCode:(r=t.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function ij(n){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey})}function oj(n,e){var t=e.refreshToken,r=ij(n);return r.append("Authorization",function hce(n){return"FIS_v2 "+n}(t)),r}function m2(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return[4,n()];case 1:return(e=t.sent()).status>=500&&e.status<600?[2,n()]:[2,e]}})})}function dce(n){return Number(n.replace("s","000"))}function fce(n,e){var t=e.fid;return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,a,l,c;return(0,k.__generator)(this,function(v){switch(v.label){case 0:return r=f2(n),i=ij(n),a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:"FIS_v2",appId:n.appId,sdkVersion:ej})},[4,m2(function(){return fetch(r,a)})];case 1:return(l=v.sent()).ok?[4,l.json()]:[3,3];case 2:return[2,{fid:(c=v.sent()).fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:rj(c.authToken)}];case 3:return[4,p2("Create Installation",l)];case 4:throw v.sent()}})})}function sj(n){return new Promise(function(e){setTimeout(e,n)})}var mce=/^[cdef][\w-]{21}$/;function gce(){try{var n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;var t=function vce(n){return function pce(n){return btoa(String.fromCharCode.apply(String,(0,k.__spreadArray)([],(0,k.__read)(n)))).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mce.test(t)?t:""}catch(r){return""}}function Lg(n){return n.appName+"!"+n.appId}var Vg=new Map;function aj(n,e){var t=Lg(n);lj(t,e),function bce(n,e){var t=uj();t&&t.postMessage({key:n,fid:e}),cj()}(t,e)}function lj(n,e){var t,r,i=Vg.get(n);if(i)try{for(var o=(0,k.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}var Hf=null;function uj(){return!Hf&&"BroadcastChannel"in self&&((Hf=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(n){lj(n.data.key,n.data.fid)}),Hf}function cj(){0===Vg.size&&Hf&&(Hf.close(),Hf=null)}var zf="firebase-installations-store",v2=null;function _2(){return v2||(v2=(0,Fg.openDb)("firebase-installations-database",1,function(n){0===n.oldVersion&&n.createObjectStore(zf)})),v2}function eE(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return t=Lg(n),[4,_2()];case 1:return r=l.sent(),i=r.transaction(zf,"readwrite"),[4,(o=i.objectStore(zf)).get(t)];case 2:return a=l.sent(),[4,o.put(e,t)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==e.fid)&&aj(n,e.fid),[2,e]}})})}function y2(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return e=Lg(n),[4,_2()];case 1:return t=i.sent(),[4,(r=t.transaction(zf,"readwrite")).objectStore(zf).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function sb(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a,l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return t=Lg(n),[4,_2()];case 1:return r=c.sent(),i=r.transaction(zf,"readwrite"),[4,(o=i.objectStore(zf)).get(t)];case 2:return a=c.sent(),void 0!==(l=e(a))?[3,4]:[4,o.delete(t)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(l,t)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&aj(n,l.fid),[2,l]}})})}function b2(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,sb(n,function(o){var a=function Ece(n){return hj(n||{fid:gce(),registrationStatus:0})}(o),l=function Sce(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Uc.create("app-offline"))};var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Tce(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,fce(n,e)];case 1:return t=i.sent(),[2,eE(n,t)];case 2:return nj(r=i.sent())&&409===r.customData.serverCode?[4,y2(n)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,eE(n,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(n,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Dce(n)}:{installationEntry:e}}(n,a);return e=l.registrationPromise,l.installationEntry})];case 1:return""!==(t=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:t,registrationPromise:e}]}})})}function Dce(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,dj(n)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,sj(100)];case 3:return o.sent(),[4,dj(n)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,b2(n)];case 6:return t=o.sent(),r=t.installationEntry,(i=t.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function dj(n){return sb(n,function(e){if(!e)throw Uc.create("installation-not-found");return hj(e)})}function hj(n){return function Ace(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Ice(n,e){var t=n.appConfig,r=n.platformLoggerProvider;return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,c,p;return(0,k.__generator)(this,function(w){switch(w.label){case 0:return i=function kce(n,e){var t=e.fid;return f2(n)+"/"+t+"/authTokens:generate"}(t,e),o=oj(t,e),(a=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",a.getPlatformInfoString()),c={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:ej}})},[4,m2(function(){return fetch(i,c)})];case 1:return(p=w.sent()).ok?[4,p.json()]:[3,3];case 2:return[2,rj(w.sent())];case 3:return[4,p2("Generate Auth Token",p)];case 4:throw w.sent()}})})}function w2(n,e){return void 0===e&&(e=!1),(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return[4,sb(n.appConfig,function(l){if(!pj(l))throw Uc.create("not-registered");var c=l.authToken;if(!e&&function Rce(n){return 2===n.requestStatus&&!function Pce(n){var e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}(c))return l;if(1===c.requestStatus)return t=function Mce(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,fj(n.appConfig)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,sj(100)];case 3:return i.sent(),[4,fj(n.appConfig)];case 4:return t=i.sent(),[3,2];case 5:return 0===(r=t.authToken).requestStatus?[2,w2(n,e)]:[2,r]}})})}(n,e),l;if(!navigator.onLine)throw Uc.create("app-offline");var p=function Oce(n){var e={requestStatus:1,requestTime:Date.now()};return(0,k.__assign)((0,k.__assign)({},n),{authToken:e})}(l);return t=function xce(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Ice(n,e)];case 1:return t=o.sent(),i=(0,k.__assign)((0,k.__assign)({},e),{authToken:t}),[4,eE(n.appConfig,i)];case 2:return o.sent(),[2,t];case 3:return!nj(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,y2(n.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,k.__assign)((0,k.__assign)({},e),{authToken:{requestStatus:0}}),[4,eE(n.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(n,p),p})];case 1:return r=a.sent(),t?[4,t]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return[2,o]}})})}function fj(n){return sb(n,function(e){if(!pj(e))throw Uc.create("not-registered");return function Nce(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?(0,k.__assign)((0,k.__assign)({},e),{authToken:{requestStatus:0}}):e})}function pj(n){return void 0!==n&&2===n.registrationStatus}function Vce(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return[4,b2(n)];case 1:return(e=t.sent().registrationPromise)?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function Bce(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return t=function Uce(n,e){var t=e.fid;return f2(n)+"/"+t}(n,e),r=oj(n,e),i={method:"DELETE",headers:r},[4,m2(function(){return fetch(t,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,p2("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function C2(n){return Uc.create("missing-app-config-values",{valueName:n})}!function qce(n){n.INTERNAL.registerComponent(new Bc.Component("installations",function(t){var r=t.getProvider("app").getImmediate(),i=function zce(n){var e,t;if(!n||!n.options)throw C2("App Configuration");if(!n.name)throw C2("App Name");try{for(var i=(0,k.__values)(["projectId","apiKey","appId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!n.options[a])throw C2(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(r),a={appConfig:i,platformLoggerProvider:t.getProvider("platform-logger")},l={app:r,getId:function(){return function Fce(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,b2(n.appConfig)];case 1:return e=i.sent(),t=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):w2(n).catch(console.error),[2,t.fid]}})})}(a)},getToken:function(c){return function Lce(n,e){return void 0===e&&(e=!1),(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,Vce(n.appConfig)];case 1:return r.sent(),[4,w2(n,e)];case 2:return[2,r.sent().token]}})})}(a,c)},delete:function(){return function jce(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,sb(e=n.appConfig,function(i){if(!i||0!==i.registrationStatus)return i})];case 1:if(!(t=r.sent()))return[3,6];if(1!==t.registrationStatus)return[3,2];throw Uc.create("delete-pending-registration");case 2:if(2!==t.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Uc.create("app-offline");case 3:return[4,Bce(e,t)];case 4:return r.sent(),[4,y2(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(a)},onIdChange:function(c){return function Hce(n,e){var t=n.appConfig;return function _ce(n,e){uj();var t=Lg(n),r=Vg.get(t);r||Vg.set(t,r=new Set),r.add(e)}(t,e),function(){!function yce(n,e){var t=Lg(n),r=Vg.get(t);!r||(r.delete(e),0===r.size&&Vg.delete(t),cj())}(t,e)}}(a,c)}};return l},"PUBLIC")),n.registerVersion("@firebase/installations","0.4.32")}(it.default);var $i,$ce=(($i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$i["only-available-in-window"]="This method is available in a Window context.",$i["only-available-in-sw"]="This method is available in a service worker context.",$i["permission-default"]="The notification permission was not granted and dismissed instead.",$i["permission-blocked"]="The notification permission was not granted and blocked instead.",$i["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$i["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$i["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",$i["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$i["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",$i["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",$i["token-update-no-token"]="FCM returned no token when updating the user to push.",$i["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$i["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",$i["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",$i["invalid-vapid-key"]="The public VAPID key must be a string.",$i["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$i),yr=new gt.ErrorFactory("messaging","Messaging",$ce),tE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mj="FCM_MSG",gj="google.c.a.c_id",Qd=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Qd||(Qd={})),Qd))();function jc(n){var e=new Uint8Array(n);return btoa(String.fromCharCode.apply(String,(0,k.__spreadArray)([],(0,k.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tde(n){for(var t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var E2="fcm_token_details_db",vj="fcm_token_object_Store";function rde(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,o=this;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!a.sent().map(function(l){return l.name}).includes(E2))return[2,null];a.label=2;case 2:return r=null,[4,(0,Fg.openDb)(E2,5,function(l){return(0,k.__awaiter)(o,void 0,void 0,function(){var c,p,v,b;return(0,k.__generator)(this,function(w){switch(w.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(vj)?[4,(c=l.transaction.objectStore(vj)).index("fcmSenderId").get(n)]:[2];case 1:return p=w.sent(),[4,c.clear()];case 2:if(w.sent(),!p)return[2];if(2===l.oldVersion){if(!(v=p).auth||!v.p256dh||!v.endpoint)return[2];r={token:v.fcmToken,createTime:null!==(b=v.createTime)&&void 0!==b?b:Date.now(),subscriptionOptions:{auth:v.auth,p256dh:v.p256dh,endpoint:v.endpoint,swScope:v.swScope,vapidKey:"string"==typeof v.vapidKey?v.vapidKey:jc(v.vapidKey)}}}else(3===l.oldVersion||4===l.oldVersion)&&(r={token:(v=p).fcmToken,createTime:v.createTime,subscriptionOptions:{auth:jc(v.auth),p256dh:jc(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:jc(v.vapidKey)}});return[2]}})})})];case 3:return a.sent().close(),[4,(0,Fg.deleteDb)(E2)];case 4:return a.sent(),[4,(0,Fg.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,Fg.deleteDb)("undefined")];case 6:return a.sent(),[2,ide(r)?r:null]}})})}function ide(n){if(!n||!n.subscriptionOptions)return!1;var e=n.subscriptionOptions;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var qf="firebase-messaging-store",S2=null;function T2(){return S2||(S2=(0,Fg.openDb)("firebase-messaging-database",1,function(n){0===n.oldVersion&&n.createObjectStore(qf)})),S2}function nE(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return e=A2(n),[4,T2()];case 1:return[4,o.sent().transaction(qf).objectStore(qf).get(e)];case 2:return(r=o.sent())?[2,r]:[3,3];case 3:return[4,rde(n.appConfig.senderId)];case 4:return(i=o.sent())?[4,D2(n,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function D2(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return t=A2(n),[4,T2()];case 1:return r=o.sent(),[4,(i=r.transaction(qf,"readwrite")).objectStore(qf).put(e,t)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function ade(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return e=A2(n),[4,T2()];case 1:return t=i.sent(),[4,(r=t.transaction(qf,"readwrite")).objectStore(qf).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function A2(n){return n.appConfig.appId}function lde(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,l;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return[4,k2(n)];case 1:t=p.sent(),r=yj(e),i={method:"POST",headers:t,body:JSON.stringify(r)},p.label=2;case 2:return p.trys.push([2,5,,6]),[4,fetch(I2(n.appConfig),i)];case 3:return[4,p.sent().json()];case 4:return o=p.sent(),[3,6];case 5:throw l=p.sent(),yr.create("token-subscribe-failed",{errorInfo:l});case 6:if(o.error)throw yr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw yr.create("token-subscribe-no-token");return[2,o.token]}})})}function ude(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,l;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return[4,k2(n)];case 1:t=p.sent(),r=yj(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},p.label=2;case 2:return p.trys.push([2,5,,6]),[4,fetch(I2(n.appConfig)+"/"+e.token,i)];case 3:return[4,p.sent().json()];case 4:return o=p.sent(),[3,6];case 5:throw l=p.sent(),yr.create("token-update-failed",{errorInfo:l});case 6:if(o.error)throw yr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw yr.create("token-update-no-token");return[2,o.token]}})})}function _j(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,o,l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return[4,k2(n)];case 1:t=c.sent(),r={method:"DELETE",headers:t},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(I2(n.appConfig)+"/"+e,r)];case 3:return[4,c.sent().json()];case 4:if((o=c.sent()).error)throw yr.create("token-unsubscribe-failed",{errorInfo:o.error.message});return[3,6];case 5:throw l=c.sent(),yr.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function I2(n){return"https://fcmregistrations.googleapis.com/v1/projects/"+n.projectId+"/registrations"}function k2(n){var e=n.appConfig,t=n.installations;return(0,k.__awaiter)(this,void 0,void 0,function(){var r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,t.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function yj(n){var i=n.vapidKey,o={web:{endpoint:n.endpoint,auth:n.auth,p256dh:n.p256dh}};return i!==tE&&(o.web.applicationPubKey=i),o}function M2(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:if("granted"!==Notification.permission)throw yr.create("permission-blocked");return[4,hde(e,t)];case 1:return r=l.sent(),[4,nE(n)];case 2:return i=l.sent(),o={vapidKey:t,swScope:e.scope,endpoint:r.endpoint,auth:jc(r.getKey("auth")),p256dh:jc(r.getKey("p256dh"))},i?[3,3]:[2,bj(n,o)];case 3:if(function fde(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,o))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,_j(n,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,bj(n,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,dde({token:i.token,createTime:Date.now(),subscriptionOptions:o},n,e)]:[2,i.token];case 9:return[2]}})})}function ab(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,nE(n)];case 1:return(t=i.sent())?[4,_j(n,t.token)]:[3,4];case 2:return i.sent(),[4,ade(n)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function dde(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,ude(e,n)];case 1:return r=a.sent(),i=(0,k.__assign)((0,k.__assign)({},n),{token:r,createTime:Date.now()}),[4,D2(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,ab(e,t)];case 4:throw a.sent(),o;case 5:return[2]}})})}function bj(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,lde(n,e)];case 1:return t=i.sent(),r={token:t,createTime:Date.now(),subscriptionOptions:e},[4,D2(n,r)];case 2:return i.sent(),[2,r.token]}})})}function hde(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return(t=r.sent())?[2,t]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tde(e)})]}})})}function wj(n){return"object"==typeof n&&!!n&&gj in n}function Cj(n){return new Promise(function(e){setTimeout(e,n)})}var _de=function(){function n(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(t.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(t.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(t.onNotificationClick(r))})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw yr.create("invalid-bg-handler");this.bgMessageHandler=e},n.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},n.prototype.getToken=function(){var e,t;return(0,k.__awaiter)(this,void 0,void 0,function(){var r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,nE(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=null!==(t=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:tE,i.label=2;case 2:return[2,M2(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},n.prototype.deleteToken=function(){return ab(this.firebaseDependencies,self.registration)},n.prototype.requestPermission=function(){throw yr.create("only-available-in-window")},n.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw yr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw yr.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(){throw yr.create("only-available-in-window")},n.prototype.onMessage=function(){throw yr.create("only-available-in-window")},n.prototype.onTokenRefresh=function(){throw yr.create("only-available-in-window")},n.prototype.onPush=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return t=function bde(n){var e=n.data;if(!e)return null;try{return e.json()}catch(t){return null}}(e),t?[4,Ej()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function Cde(n){return n.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(r=a.sent())?[2,Ede(r,t)]:(i=!1,t.notification?[4,Sde(yde(t))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function pde(n){var e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function mde(n,e){if(e.notification){n.notification={};var t=e.notification.title;t&&(n.notification.title=t);var r=e.notification.body;r&&(n.notification.body=r);var i=e.notification.image;i&&(n.notification.image=i)}}(e,n),function gde(n,e){!e.data||(n.data=e.data)}(e,n),function vde(n,e){if(e.fcmOptions){n.fcmOptions={};var t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);var r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}}(e,n),e}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,Cj(1e3)]);case 4:return a.sent(),[2]}})})},n.prototype.onSubChange=function(e){var t,r;return(0,k.__awaiter)(this,void 0,void 0,function(){var o;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return e.newSubscription?[3,2]:[4,ab(this.firebaseDependencies,self.registration)];case 1:case 5:return a.sent(),[2];case 2:return[4,nE(this.firebaseDependencies)];case 3:return o=a.sent(),[4,ab(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,M2(this.firebaseDependencies,self.registration,null!==(r=null===(t=null==o?void 0:o.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==r?r:tE)]}})})},n.prototype.onNotificationClick=function(e){var t,r;return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return(i=null===(r=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===r?void 0:r[mj])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),o=function Tde(n){var e,t,r;return(null!==(t=null===(e=n.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==t?t:null===(r=n.notification)||void 0===r?void 0:r.click_action)||(wj(n.data)?self.location.origin:null)}(i),o?(a=new URL(o,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,wde(a)]):[2]):[2];case 1:return(c=p.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=p.sent(),[4,Cj(3e3)];case 3:return p.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=p.sent(),p.label=6;case 6:return c?(i.messageType=Qd.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},n}();function yde(n){var e,t=(0,k.__assign)({},n.notification);return t.data=((e={})[mj]=n,e),t}function wde(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i,o,a,l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return[4,Ej()];case 1:e=c.sent();try{for(t=(0,k.__values)(e),r=t.next();!r.done;r=t.next())if(i=r.value,o=new URL(i.url,self.location.href),n.host===o.host)return[2,i]}catch(p){a={error:p}}finally{try{r&&!r.done&&(l=t.return)&&l.call(t)}finally{if(a)throw a.error}}return[2,null]}})})}function Ede(n,e){var t,r;e.isFirebaseMessaging=!0,e.messageType=Qd.PUSH_RECEIVED;try{for(var i=(0,k.__values)(n),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}function Ej(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Sde(n){var e,t=n.actions,r=Notification.maxActions;return t&&r&&t.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=n.title)&&void 0!==e?e:"",n)}var Dde=function(){function n(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return t.messageEventListener(r)})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.messageEventListener=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Qd.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function Ide(n){return delete n.messageType,delete n.isFirebaseMessaging,n}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),wj(r=t.data)&&"1"===r["google.c.a.e"]?[4,this.logEvent(t.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.getVapidKey=function(){return this.vapidKey},n.prototype.getSwReg=function(){return this.swRegistration},n.prototype.getToken=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw yr.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,M2(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},n.prototype.updateVapidKey=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=tE),[2]})})},n.prototype.updateSwReg=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw yr.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},n.prototype.registerDefaultSw=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=r.sent(),yr.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},n.prototype.deleteToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ab(this.firebaseDependencies,this.swRegistration)]}})})},n.prototype.requestPermission=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw yr.create("denied"===e?"permission-blocked":"permission-default")}})})},n.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw yr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw yr.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw yr.create("invalid-sw-registration");if(this.swRegistration)throw yr.create("use-sw-after-get-token");this.swRegistration=e},n.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},n.prototype.setBackgroundMessageHandler=function(){throw yr.create("only-available-in-sw")},n.prototype.onBackgroundMessage=function(){throw yr.create("only-available-in-sw")},n.prototype.onTokenRefresh=function(){return function(){}},n.prototype.logEvent=function(e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return r=function Ade(n){switch(n){case Qd.NOTIFICATION_CLICKED:return"notification_open";case Qd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return o.sent().logEvent(r,{message_id:t[gj],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},n}();function x2(n){return yr.create("missing-app-config-values",{valueName:n})}var Rde={isSupported:Sj};function Sj(){return self&&"ServiceWorkerGlobalScope"in self?function Ode(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function Pde(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}it.default.INTERNAL.registerComponent(new Bc.Component("messaging",function xde(n){var e=n.getProvider("app").getImmediate(),t=function kde(n){var e,t;if(!n||!n.options)throw x2("App Configuration Object");if(!n.name)throw x2("App Name");var i=n.options;try{for(var o=(0,k.__values)(["projectId","apiKey","appId","messagingSenderId"]),a=o.next();!a.done;a=o.next()){var l=a.value;if(!i[l])throw x2(l)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{appName:n.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),o={app:e,appConfig:t,installations:n.getProvider("installations").getImmediate(),analyticsProvider:n.getProvider("analytics-internal")};if(!Sj())throw yr.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new _de(o):new Dde(o)},"PUBLIC").setServiceProps(Rde));var Tj="firebasestorage.googleapis.com",Dj="storageBucket",xi=function(n){function e(t,r){var i=n.call(this,R2(t),"Firebase Storage: "+r+" ("+R2(t)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,k.__extends)(e,n),e.prototype._codeEquals=function(t){return R2(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(gt.FirebaseError);function R2(n){return"storage/"+n}function P2(){return new xi("unknown","An unknown error occurred, please check the error payload for server response.")}function Aj(){return new xi("canceled","User canceled the upload/download.")}function Ij(){return new xi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bg(n){return new xi("invalid-argument",n)}function kj(){return new xi("app-deleted","The Firebase app was deleted.")}function Mj(n){return new xi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lb(n,e){return new xi("invalid-format","String does not match format '"+n+"': "+e)}function rE(n){throw new xi("internal-error","Internal error: "+n)}var Za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},O2=function n(e,t){this.data=e,this.contentType=t||null};function xj(n,e){switch(n){case Za.RAW:return new O2(Rj(e));case Za.BASE64:case Za.BASE64URL:return new O2(Pj(n,e));case Za.DATA_URL:return new O2(function Qde(n){var e=new Oj(n);return e.base64?Pj(Za.BASE64,e.rest):function Yde(n){var e;try{e=decodeURIComponent(n)}catch(t){throw lb(Za.DATA_URL,"Malformed data URL.")}return Rj(e)}(e.rest)}(e),function Xde(n){return new Oj(n).contentType}(e))}throw P2()}function Rj(n){for(var e=[],t=0;t<n.length;t++){var r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(t<n.length-1&&56320==(64512&n.charCodeAt(t+1))){var o=r,a=n.charCodeAt(++t);e.push(240|(r=65536|(1023&o)<<10|1023&a)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Pj(n,e){switch(n){case Za.BASE64:var t=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(t||r)throw lb(n,"Invalid character '"+(t?"-":"_")+"' found: is it base64url encoded?");break;case Za.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a)throw lb(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=function Kde(n){return atob(n)}(e)}catch(v){throw lb(n,"Invalid character found")}for(var c=new Uint8Array(l.length),p=0;p<l.length;p++)c[p]=l.charCodeAt(p);return c}var Oj=function n(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw lb(Za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=t[1]||null;null!=r&&(this.base64=function Zde(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)},Jde={STATE_CHANGED:"state_changed"},Ss={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N2(n){switch(n){case"running":case"pausing":case"canceling":return Ss.RUNNING;case"paused":return Ss.PAUSED;case"success":return Ss.SUCCESS;case"canceled":return Ss.CANCELED;default:return Ss.ERROR}}var Xd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Xd||(Xd={})),Xd))(),ehe=function(){function n(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xd.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=Xd.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Xd.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return n.prototype.send=function(e,t,r,i){if(this.sent_)throw rE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw rE("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw rE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw rE("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},n.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},n.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},n}(),nhe=function(){function n(){}return n.prototype.createConnection=function(){return function the(){return new ehe}()},n}(),Ja=function(){function n(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),n.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},n.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},n.makeFromBucketSpec=function(e,t){var r;try{r=n.makeFromUrl(e,t)}catch(i){return new n(e,"")}if(""===r.path)return r;throw function qde(n){return new xi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)},n.makeFromUrl=function(e,t){var r=null,i="([A-Za-z0-9.\\-_]+)",l=new RegExp("^gs://"+i+"(/(.*))?$","i");function p(nt){nt.path_=decodeURIComponent(nt.path)}for(var b=t.replace(/[.]/g,"\\."),ae=[{regex:l,indices:{bucket:1,path:3},postModify:function o(nt){"/"===nt.path.charAt(nt.path.length-1)&&(nt.path_=nt.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+b+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp("^https?://"+(t===Tj?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:p}],Ee=0;Ee<ae.length;Ee++){var Ve=ae[Ee],De=Ve.regex.exec(e);if(De){var Er=De[Ve.indices.path];Er||(Er=""),r=new n(De[Ve.indices.bucket],Er),Ve.postModify(r);break}}if(null==r)throw function zde(n){return new xi("invalid-url","Invalid URL '"+n+"'.")}(e);return r},n}(),rhe=function(){function n(e){this.promise_=Promise.reject(e)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){},n}();function iE(n){return"string"==typeof n||n instanceof String}function Nj(n){return F2()&&n instanceof Blob}function F2(){return"undefined"!=typeof Blob}function L2(n,e,t,r){if(r<e)throw Bg("Invalid value for '"+n+"'. Expected "+e+" or greater.");if(r>t)throw Bg("Invalid value for '"+n+"'. Expected "+t+" or less.")}function Zd(n,e){var t=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==t?void 0:t[1])&&(i="https://"+e),i+"/v0"+n}function Fj(n){var e=encodeURIComponent,t="?";for(var r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t.slice(0,-1)}var uhe=function(){function n(e,t,r,i,o,a,l,c,p,v,b){var w=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=v,this.timeout_=p,this.pool_=b,this.promise_=new Promise(function(I,R){w.resolve_=I,w.reject_=R,w.start_()})}return n.prototype.start_=function(){var e=this;function r(i,o){var a=e.resolve_,l=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var p=e.callback_(c,c.getResponseText());!function she(n){return void 0!==n}(p)?a():a(p)}catch(b){l(b)}else if(null!==c)(v=P2()).serverResponse=c.getResponseText(),l(e.errorCallback_?e.errorCallback_(c,v):v);else if(o.canceled)l(v=e.appDelete_?kj():Aj());else{var v;l(v=function Hde(){return new xi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?r(0,new oE(!1,null,!0)):this.backoffId_=function ihe(n,e,t){var r=1,i=null,o=!1,a=0;function l(){return 2===a}var c=!1;function p(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];c||(c=!0,e.apply(null,R))}function v(R){i=setTimeout(function(){i=null,n(b,l())},R)}function b(R){for(var N=[],z=1;z<arguments.length;z++)N[z-1]=arguments[z];if(!c){if(R)return void p.call.apply(p,(0,k.__spreadArray)([null,R],N));var Y;if(l()||o)return void p.call.apply(p,(0,k.__spreadArray)([null,R],N));r<64&&(r*=2),1===a?(a=2,Y=0):Y=1e3*(r+Math.random()),v(Y)}}var w=!1;function I(R){w||(w=!0,!c&&(null!==i?(R||(a=2),clearTimeout(i),v(0)):R||(a=1)))}return v(0),setTimeout(function(){o=!0,I(!0)},t),I}(function t(i,o){if(o)i(!1,new oE(!1,null,!0));else{var a=e.pool_.createConnection();e.pendingConnection_=a,null!==e.progressCallback_&&a.addUploadProgressListener(l),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&a.removeUploadProgressListener(l),e.pendingConnection_=null;var c=a.getErrorCode()===Xd.NO_ERROR,p=a.getStatus();if(c&&!e.isRetryStatusCode_(p)){var b=-1!==e.successCodes_.indexOf(p);i(!0,new oE(b,a))}else{var v=a.getErrorCode()===Xd.ABORT;i(!1,new oE(!1,null,v))}})}function l(c){null!==e.progressCallback_&&e.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)}},r,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ohe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},n.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),o=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||o},n}(),oE=function n(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r};function mhe(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ghe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=mhe();if(void 0!==t){for(var r=new t,i=0;i<n.length;i++)r.append(n[i]);return r.getBlob()}if(F2())return new Blob(n);throw new xi("unsupported-environment","This browser doesn't seem to support creating Blobs")}var V2=function(){function n(e,t){var r=0,i="";Nj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(e,t){if(Nj(this.data_)){var i=function vhe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new n(i)}return new n(new Uint8Array(this.data_.buffer,e,t-e),!0)},n.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(F2()){var r=e.map(function(c){return c instanceof n?c.data_:c});return new n(ghe.apply(null,r))}var i=e.map(function(c){return iE(c)?xj(Za.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),l=0;return i.forEach(function(c){for(var p=0;p<c.length;p++)a[l++]=c[p]}),new n(a,!0)},n.prototype.uploadData=function(){return this.data_},n}();function B2(n){var e;try{e=JSON.parse(n)}catch(t){return null}return function lhe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Lj(n){var e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function bhe(n,e){return e}var Ts=function n(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||bhe},sE=null;function aE(){if(sE)return sE;var n=[];n.push(new Ts("bucket")),n.push(new Ts("generation")),n.push(new Ts("metageneration")),n.push(new Ts("name","fullPath",!0));var t=new Ts("name");t.xform=function e(o,a){return function whe(n){return!iE(n)||n.length<2?n:Lj(n)}(a)},n.push(t);var i=new Ts("size");return i.xform=function r(o,a){return void 0!==a?Number(a):a},n.push(i),n.push(new Ts("timeCreated")),n.push(new Ts("updated")),n.push(new Ts("md5Hash",null,!0)),n.push(new Ts("cacheControl",null,!0)),n.push(new Ts("contentDisposition",null,!0)),n.push(new Ts("contentEncoding",null,!0)),n.push(new Ts("contentLanguage",null,!0)),n.push(new Ts("contentType",null,!0)),n.push(new Ts("metadata","customMetadata",!0)),sE=n}function Vj(n,e,t){var r=B2(e);return null===r?null:function Ehe(n,e,t){for(var r={type:"file"},i=t.length,o=0;o<i;o++){var a=t[o];r[a.local]=a.xform(r,e[a.server])}return function Che(n,e){Object.defineProperty(n,"ref",{get:function t(){var o=new Ja(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function U2(n,e){for(var t={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var Bj="prefixes";var Hc=function n(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Lu(n){if(!n)throw P2()}function lE(n,e){return function t(r,i){var o=Vj(n,i,e);return Lu(null!==o),o}}function Ug(n){return function e(t,r){var i;return i=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?function Ude(){return new xi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Bde(){return new xi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Vde(n){return new xi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function jde(n){return new xi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function uE(n){var e=Ug(n);return function t(r,i){var o=e(r,i);return 404===r.getStatus()&&(o=function Lde(n){return new xi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function jj(n,e,t){var i=Zd(e.fullServerUrl(),n.host),a=n.maxOperationRetryTime,l=new Hc(i,"GET",lE(n,t),a);return l.errorHandler=uE(e),l}function khe(n,e,t,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);var l=Zd(e.bucketOnlyServerUrl(),n.host),p=n.maxOperationRetryTime,v=new Hc(l,"GET",function Ahe(n,e){return function t(r,i){var o=function Dhe(n,e,t){var r=B2(t);return null===r?null:function The(n,e,t){var r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Bj])for(var i=0,o=t[Bj];i<o.length;i++){var l=o[i].replace(/\/$/,""),c=n._makeStorageReference(new Ja(e,l));r.prefixes.push(c)}if(t.items)for(var p=0,v=t.items;p<v.length;p++)c=n._makeStorageReference(new Ja(e,v[p].name)),r.items.push(c);return r}(n,e,r)}(n,e,i);return Lu(null!==o),o}}(n,e.bucket),p);return v.urlParams=o,v.errorHandler=Ug(e),v}function Hj(n,e,t){var r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Phe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var cE=function n(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null};function j2(n,e){var t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Lu(!1)}return Lu(!!t&&-1!==(e||["active"]).indexOf(t)),t}var Vhe=function n(e,t,r){var i=function ahe(n){return"function"==typeof n}(e)||null!=t||null!=r;if(i)this.next=e,this.error=t,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}};function jg(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve().then(function(){return n.apply(void 0,e)})}}var qj=function(){function n(e,t,r){var i=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=aE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return n.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(r){return e._updateProgress(t+r)}},n.prototype._shouldDoResumable=function(e){return e.size()>262144},n.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},n.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},n.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,r){var i=function Nhe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),a=Hj(e,r,i),l={name:a.fullPath},c=Zd(o,n.host),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},b=U2(a,t),R=new Hc(c,"POST",function I(N){var z;j2(N);try{z=N.getResponseHeader("X-Goog-Upload-URL")}catch(Q){Lu(!1)}return Lu(iE(z)),z},n.maxUploadRetryTime);return R.urlParams=l,R.headers=v,R.body=b,R.errorHandler=Ug(e),R}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},n.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(r,i){var o=function Fhe(n,e,t,r){var c=new Hc(t,"POST",function o(p){var v=j2(p,["active","final"]),b=null;try{b=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch(I){Lu(!1)}b||Lu(!1);var w=Number(b);return Lu(!isNaN(w)),new cE(w,r.size(),"final"===v)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Ug(e),c}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(l){l=l,e._request=void 0,e._updateProgress(l.current),e._needToFetchStatus=!1,l.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},n.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,r=new cE(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var l;try{l=function Lhe(n,e,t,r,i,o,a,l){var c=new cE(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Wde(){return new xi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var p=c.total-c.current,v=p;i>0&&(v=Math.min(v,i));var b=c.current,R={"X-Goog-Upload-Command":v===p?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},N=r.slice(b,b+v);if(null===N)throw Ij();var ae=new Hc(t,"POST",function z(Ee,Ve){var nt,De=j2(Ee,["active","final"]),xt=c.current+v,Er=r.size();return nt="final"===De?lE(e,o)(Ee,Ve):null,new cE(xt,Er,"final"===De,nt)},e.maxUploadRetryTime);return ae.headers=R,ae.body=N.uploadData(),ae.progressCallback=l||null,ae.errorHandler=Ug(n),ae}(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,r,e._makeProgressCallback())}catch(p){return e._error=p,void e._transition("error")}var c=e._ref.storage._makeRequest(l,o,a);e._request=c,c.getPromise().then(function(p){e._increaseMultiplier(),e._request=void 0,e._updateProgress(p.current),p.finalized?(e._metadata=p.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},n.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},n.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,r){var i=jj(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},n.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,r){var i=function Ohe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},c=function l(){for(var ae="",Ee=0;Ee<2;Ee++)ae+=Math.random().toString().slice(2);return ae}();a["Content-Type"]="multipart/related; boundary="+c;var p=Hj(e,r,i),v=U2(p,t),I=V2.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+c+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===I)throw Ij();var R={name:p.fullPath},N=Zd(o,n.host),Q=n.maxUploadRetryTime,Y=new Hc(N,"POST",lE(n,t),Q);return Y.urlParams=R,Y.headers=a,Y.body=I.uploadData(),Y.errorHandler=Ug(e),Y}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},n.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},n.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Aj(),this._state=e,this._notifyObservers()}},n.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var e=N2(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),n.prototype.on=function(e,t,r,i){var o=this,a=new Vhe(t,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},n.prototype.then=function(e,t){return this._promise.then(e,t)},n.prototype.catch=function(e){return this.then(null,e)},n.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},n.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},n.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(r){e._notifyObserver(r)})},n.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(N2(this._state)){case Ss.SUCCESS:jg(this._resolve.bind(null,this.snapshot))();break;case Ss.CANCELED:case Ss.ERROR:jg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},n.prototype._notifyObserver=function(e){switch(N2(this._state)){case Ss.RUNNING:case Ss.PAUSED:e.next&&jg(e.next.bind(e,this.snapshot))();break;case Ss.SUCCESS:e.complete&&jg(e.complete.bind(e))();break;default:e.error&&jg(e.error.bind(e,this._error))()}},n.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},n.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},n.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},n}(),dE=function(){function n(e,t){this._service=e,this._location=t instanceof Ja?t:Ja.makeFromUrl(t,e.host)}return n.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},n.prototype._newRef=function(e,t){return new n(e,t)},Object.defineProperty(n.prototype,"root",{get:function(){var e=new Ja(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return Lj(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=function _he(n){if(0===n.length)return null;var e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;var t=new Ja(this._location.bucket,e);return new n(this._service,t)},enumerable:!1,configurable:!0}),n.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Mj(e)},n}();function Uhe(n){var e={prefixes:[],items:[]};return $j(n,e).then(function(){return e})}function $j(n,e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return[4,Wj(n,{pageToken:t})];case 1:return i=l.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,$j(n,e,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Wj(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&L2("options.maxResults",1,1e3,e.maxResults),r=khe(n.storage,n._location,"/",(t=e||{}).pageToken,t.maxResults),[4,n.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function zhe(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getDownloadURL"),e=function Mhe(n,e,t){var i=Zd(e.fullServerUrl(),n.host),a=n.maxOperationRetryTime,l=new Hc(i,"GET",function Ihe(n,e){return function t(r,i){var o=Vj(n,i,e);return Lu(null!==o),function She(n,e,t){var r=B2(e);if(null===r||!iE(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(c){var v=n.fullPath;return Zd("/b/"+o(n.bucket)+"/o/"+o(v),t)+Fj({alt:"media",token:c})})[0]}(o,i,n.host)}}(n,t),a);return l.errorHandler=uE(e),l}(n.storage,n._location,aE()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise().then(function(r){if(null===r)throw function Gde(){return new xi("no-download-url","The given file does not have any download URLs.")}();return r})]}})})}function Gj(n,e){var t=function yhe(n,e){var t=e.split("/").filter(function(r){return r.length>0}).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ja(n._location.bucket,t);return new dE(n.storage,r)}function H2(n){return/^[A-Za-z]+:\/\//.test(n)}function Kj(n,e){if(n instanceof hE){var t=n;if(null==t._bucket)throw function $de(){return new xi("no-default-bucket","No default bucket found. Did you set the '"+Dj+"' property when initializing the app?")}();var r=new dE(t,t._bucket);return null!=e?Kj(r,e):r}return void 0!==e?Gj(n,e):n}function Whe(n,e){if(e&&H2(e)){if(n instanceof hE)return function $he(n,e){return new dE(n,e)}(n,e);throw Bg("To use ref(service, url), the first argument must be a Storage instance.")}return Kj(n,e)}function Yj(n,e){var t=null==e?void 0:e[Dj];return null==t?null:Ja.makeFromBucketSpec(t,n)}var hE=function(){function n(e,t,r,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=Tj,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Ja.makeFromBucketSpec(o,this._host):Yj(this._host,this.app.options)}return Object.defineProperty(n.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Ja.makeFromBucketSpec(this._url,e):Yj(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){L2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){L2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),n.prototype._getAuthToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=r.sent()))return[2,t.accessToken];r.label=2;case 2:return[2,null]}})})},n.prototype._getAppCheckToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},n.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},n.prototype._makeStorageReference=function(e){return new dE(this,e)},n.prototype._makeRequest=function(e,t,r){var i=this;if(this._deleted)return new rhe(kj());var o=function phe(n,e,t,r,i,o){var a=Fj(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function hhe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function che(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function dhe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function fhe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new uhe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},n.prototype.makeRequestWithTokens=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=o.sent(),[2,this._makeRequest(e,t[0],t[1])]}})})},n}();function Qj(n,e){return Whe(n=(0,gt.getModularInstance)(n),e)}var fE=function(){function n(e,t,r){this._delegate=e,this.task=t,this.ref=r}return Object.defineProperty(n.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),n}(),Xj=function(){function n(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(n.prototype,"snapshot",{get:function(){return new fE(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),n.prototype.then=function(e,t){var r=this;return this._delegate.then(function(i){if(e)return e(new fE(i,r,r._ref))},t)},n.prototype.on=function(e,t,r,i){var o=this,a=void 0;return t&&(a="function"==typeof t?function(l){return t(new fE(l,o,o._ref))}:{next:t.next?function(l){return t.next(new fE(l,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},n}(),Zj=function(){function n(e,t){this._delegate=e,this._service=t}return Object.defineProperty(n.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new ub(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new ub(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),n}(),ub=function(){function n(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(n.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this._delegate.toString()},n.prototype.child=function(e){var t=function tfe(n,e){return Gj(n,e)}(this._delegate,e);return new n(t,this.storage)},Object.defineProperty(n.prototype,"root",{get:function(){return new n(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new n(e,this.storage)},enumerable:!1,configurable:!0}),n.prototype.put=function(e,t){return this._throwIfRoot("put"),new Xj(function Khe(n,e,t){return function Bhe(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new qj(n,new V2(e),t)}(n=(0,gt.getModularInstance)(n),e,t)}(this._delegate,e,t),this)},n.prototype.putString=function(e,t,r){void 0===t&&(t=Za.RAW),this._throwIfRoot("putString");var i=xj(t,e),o=(0,k.__assign)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Xj(new qj(this._delegate,new V2(i.data,!0),o),this)},n.prototype.listAll=function(){var e=this;return function Zhe(n){return Uhe(n=(0,gt.getModularInstance)(n))}(this._delegate).then(function(t){return new Zj(t,e.storage)})},n.prototype.list=function(e){var t=this;return function Xhe(n,e){return Wj(n=(0,gt.getModularInstance)(n),e)}(this._delegate,e||void 0).then(function(r){return new Zj(r,t.storage)})},n.prototype.getMetadata=function(){return function Yhe(n){return function jhe(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getMetadata"),e=jj(n.storage,n._location,aE()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}(n=(0,gt.getModularInstance)(n))}(this._delegate)},n.prototype.updateMetadata=function(e){return function Qhe(n,e){return function Hhe(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return n._throwIfRoot("updateMetadata"),t=function xhe(n,e,t,r){var o=Zd(e.fullServerUrl(),n.host),l=U2(t,r),p=n.maxOperationRetryTime,v=new Hc(o,"PATCH",lE(n,r),p);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=l,v.errorHandler=uE(e),v}(n.storage,n._location,e,aE()),[4,n.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}(n=(0,gt.getModularInstance)(n),e)}(this._delegate,e)},n.prototype.getDownloadURL=function(){return function Jhe(n){return zhe(n=(0,gt.getModularInstance)(n))}(this._delegate)},n.prototype.delete=function(){return this._throwIfRoot("delete"),function efe(n){return function qhe(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return n._throwIfRoot("deleteObject"),e=function Rhe(n,e){var r=Zd(e.fullServerUrl(),n.host),l=new Hc(r,"DELETE",function a(c,p){},n.maxOperationRetryTime);return l.successCodes=[200,204],l.errorHandler=uE(e),l}(n.storage,n._location),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}(n=(0,gt.getModularInstance)(n))}(this._delegate)},n.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Mj(e)},n}(),rfe=function(){function n(e,t){this.app=e,this._delegate=t}return Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),n.prototype.ref=function(e){if(H2(e))throw Bg("ref() expected a child path but got a URL, use refFromURL instead.");return new ub(Qj(this._delegate,e),this)},n.prototype.refFromURL=function(e){if(!H2(e))throw Bg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ja.makeFromUrl(e,this._delegate.host)}catch(t){throw Bg("refFromUrl() expected a valid full URL but got an invalid one.")}return new ub(Qj(this._delegate,e),this)},n.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},n.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},n.prototype.useEmulator=function(e,t,r){void 0===r&&(r={}),function nfe(n,e,t,r){void 0===r&&(r={}),function Ghe(n,e,t,r){void 0===r&&(r={}),n.host="http://"+e+":"+t;var i=r.mockUserToken;i&&(n._overrideAuthToken="string"==typeof i?i:(0,gt.createMockUserToken)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)},n}();function afe(n,e){var t=e.instanceIdentifier,r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new rfe(r,new hE(r,i,o,new nhe,t,it.default.SDK_VERSION))}!function lfe(n){var e={TaskState:Ss,TaskEvent:Jde,StringFormat:Za,Storage:hE,Reference:ub};n.INTERNAL.registerComponent(new Bc.Component("storage",afe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage","0.7.1")}(it.default);var xo,z2="FB-PERF-TRACE-MEASURE",o7="@firebase/performance/config",s7="@firebase/performance/configexpire",a7="Performance",ffe=((xo={})["trace started"]="Trace {$traceName} was started before.",xo["trace stopped"]="Trace {$traceName} is not running.",xo["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",xo["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",xo["no window"]="Window is not available.",xo["no app id"]="App id is not available.",xo["no project id"]="Project id is not available.",xo["no api key"]="Api key is not available.",xo["invalid cc log"]="Attempted to queue invalid cc event",xo["FB not default"]="Performance can only start when Firebase app instance is the default one.",xo["RC response not ok"]="RC response is not ok",xo["invalid attribute name"]="Attribute name {$attributeName} is invalid.",xo["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",xo["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",xo["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",xo),rs=new gt.ErrorFactory("performance",a7,ffe),zc=new _s.Logger(a7);zc.logLevel=_s.LogLevel.INFO;var q2,l7,is=function(){function n(e){if(this.window=e,!e)throw rs.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return n.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},n.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},n.prototype.measure=function(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)},n.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},n.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},n.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},n.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,gt.isIndexedDBAvailable)()||(zc.info("IndexedDB is not supported by current browswer"),!1):(zc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},n.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++)t(a[o])}).observe({entryTypes:[e]})},n.getInstance=function(){return void 0===q2&&(q2=new n(l7)),q2},n}();function u7(n,e){var t=n.length-e.length;if(t<0||t>1)throw rs.create("invalid String merger input");for(var r=[],i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var $2,c7,Wi=function(){function n(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=u7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=u7("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return n.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw rs.create("no app id");return e},n.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw rs.create("no project id");return e},n.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw rs.create("no api key");return e},n.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},n.getInstance=function(){return void 0===$2&&($2=new n),$2},n}();function W2(){return c7}var $f=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}($f||($f={})),$f))(),vfe=["firebase_","google_","ga_"],_fe=new RegExp("^[a-zA-Z]\\w*$");function wfe(){var n=is.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function d7(){switch(is.getInstance().document.visibilityState){case"visible":return $f.VISIBLE;case"hidden":return $f.HIDDEN;default:return $f.UNKNOWN}}function Cfe(){var e=is.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var xfe="Could not fetch config, will use default configs";function h7(n){if(!n)return n;var e=Wi.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0===t.fpr_enabled||"true"===String(t.fpr_enabled),t.fpr_log_source&&(e.logSource=Number(t.fpr_log_source)),t.fpr_log_endpoint_url&&(e.logEndPointUrl=t.fpr_log_endpoint_url),t.fpr_log_transport_key&&(e.transportKey=t.fpr_log_transport_key),void 0!==t.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate)),void 0!==t.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=f7(e.tracesSamplingRate),e.logNetworkAfterSampling=f7(e.networkRequestsSamplingRate),n}function f7(n){return Math.random()<=n}var K2,G2=1;function p7(){return G2=2,K2=K2||function Nfe(){return function Ffe(){var n=is.getInstance().document;return new Promise(function(e){if(n&&"complete"!==n.readyState){var t=function(){"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(function(){return function mfe(){var n=Wi.getInstance().installationsService.getId();return n.then(function(e){c7=e}),n}()}).then(function(n){return function Ife(n){var e=function kfe(){var n=is.getInstance().localStorage;if(n){var e=n.getItem(s7);if(e&&function Pfe(n){return Number(n)>Date.now()}(e)){var t=n.getItem(o7);if(t)try{return JSON.parse(t)}catch(i){return}}}}();return e?(h7(e),Promise.resolve()):function Rfe(n){return function gfe(){var n=Wi.getInstance().installationsService.getToken();return n.then(function(e){}),n}().then(function(e){var r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Wi.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Wi.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:n,app_instance_id_token:e,app_id:Wi.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(i).then(function(o){if(o.ok)return o.json();throw rs.create("RC response not ok")})}).catch(function(){zc.info(xfe)})}(n).then(h7).then(function(t){return function Mfe(n){var e=is.getInstance().localStorage;!n||!e||(e.setItem(o7,JSON.stringify(n)),e.setItem(s7,String(Date.now()+60*Wi.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(n)}).then(function(){return m7()},function(){return m7()})}(),K2}function m7(){G2=3}var Q2,pE=3,Jd=[],v7=!1;function mE(n){setTimeout(function(){if(0!==pE){if(!Jd.length)return mE(1e4);!function Ufe(){var n=Jd.splice(0,1e3),e=n.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}});(function jfe(n,e){return function Hfe(n){var e=Wi.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(function(t){return t.ok||zc.info("Call to Firebase backend failed."),t.json()}).then(function(t){var r=Number(t.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(Jd=(0,k.__spreadArray)((0,k.__spreadArray)([],e),Jd),zc.info("Retry transport request later.")),pE=3,mE(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Wi.getInstance().logSource,log_event:e},n).catch(function(){Jd=(0,k.__spreadArray)((0,k.__spreadArray)([],n),Jd),pE--,zc.info("Tries left: "+pE+"."),mE(1e4)})}()}},n)}function zfe(n){if(!n.eventTime||!n.message)throw rs.create("invalid cc log");Jd=(0,k.__spreadArray)((0,k.__spreadArray)([],Jd),[n])}function _7(n,e){Q2||(Q2=function qfe(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];zfe({message:n.apply(void 0,e),eventTime:Date.now()})}}(Wfe)),Q2(n,e)}function gE(n){var e=Wi.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!is.getInstance().requiredApisAvailable()||n.isAuto&&d7()!==$f.VISIBLE||(function Ofe(){return 3===G2}()?X2(n):p7().then(function(){return X2(n)},function(){return X2(n)}))}function X2(n){if(W2()){var e=Wi.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return _7(n,1)},0)}}function Wfe(n,e){return 0===e?function Gfe(n){var e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:y7(),network_request_metric:e};return JSON.stringify(t)}(n):function Kfe(n){var e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);var t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);var r={application_info:y7(),trace_metric:e};return JSON.stringify(r)}(n)}function y7(){return{google_app_id:Wi.getInstance().getAppId(),app_instance_id:W2(),web_app_info:{sdk_version:"0.4.18",page_url:is.getInstance().getUrl(),service_worker_status:wfe(),visibility_state:d7(),effective_connection_type:Cfe()},application_process_state:0}}var Xfe=["_fp","_fcp","_fid"],cb=function(){function n(e,t,r){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=is.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=r||z2+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return n.prototype.start=function(){if(1!==this.state)throw rs.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},n.prototype.stop=function(){if(2!==this.state)throw rs.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),gE(this)},n.prototype.record=function(e,t,r){if(e<=0)throw rs.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw rs.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=(0,k.__assign)({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}gE(this)},n.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},n.prototype.putMetric=function(e,t){if(!function Zfe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&Xfe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw rs.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function Jfe(n){var e=Math.floor(n);return e<n&&zc.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(t)},n.prototype.getMetric=function(e){return this.counters[e]||0},n.prototype.putAttribute=function(e,t){var r=function Efe(n){return!(0===n.length||n.length>40||vfe.some(function(t){return n.startsWith(t)})||!n.match(_fe))}(e),i=function Sfe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw rs.create("invalid attribute name",{attributeName:e});if(!i)throw rs.create("invalid attribute value",{attributeValue:t})}},n.prototype.getAttribute=function(e){return this.customAttributes[e]},n.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},n.prototype.getAttributes=function(){return(0,k.__assign)({},this.customAttributes)},n.prototype.setStartTime=function(e){this.startTimeUs=e},n.prototype.setDuration=function(e){this.durationUs=e},n.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},n.createOobTrace=function(e,t,r){var i=is.getInstance().getUrl();if(i){var o=new n("_wt_"+i,!0),a=Math.floor(1e3*is.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),t){var p=t.find(function(b){return"first-paint"===b.name});p&&p.startTime&&o.putMetric("_fp",Math.floor(1e3*p.startTime));var v=t.find(function(b){return"first-contentful-paint"===b.name});v&&v.startTime&&o.putMetric("_fcp",Math.floor(1e3*v.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}gE(o)}},n.createUserTimingTrace=function(e){gE(new n(e,!1,e))},n}();function b7(n){var e=n;if(e&&void 0!==e.responseStart){var t=is.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+t)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function $fe(n){var e=Wi.getInstance();if(e.instrumentationEnabled){var t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return _7(n,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function w7(){!W2()||(setTimeout(function(){return function npe(){var n=is.getInstance(),e=n.getEntriesByType("navigation"),t=n.getEntriesByType("paint");if(n.onFirstInputDelay){var r=setTimeout(function(){cb.createOobTrace(e,t),r=void 0},5e3);n.onFirstInputDelay(function(i){r&&(clearTimeout(r),cb.createOobTrace(e,t,i))})}else cb.createOobTrace(e,t)}()},0),setTimeout(function(){return function tpe(){for(var n=is.getInstance(),t=0,r=n.getEntriesByType("resource");t<r.length;t++)b7(r[t]);n.setupObserver("resource",b7)}()},0),setTimeout(function(){return function rpe(){for(var n=is.getInstance(),t=0,r=n.getEntriesByType("measure");t<r.length;t++)C7(r[t]);n.setupObserver("measure",C7)}()},0))}function C7(n){var e=n.name;e.substring(0,z2.length)!==z2&&cb.createUserTimingTrace(e)}var ipe=function(){function n(e){this.app=e,is.getInstance().requiredApisAvailable()&&(0,gt.validateIndexedDBOpenable)().then(function(t){t&&(function Bfe(){v7||(mE(5500),v7=!0)}(),p7().then(w7,w7))}).catch(function(t){zc.info("Environment doesn't support IndexedDB: "+t)})}return n.prototype.trace=function(e){return new cb(e)},Object.defineProperty(n.prototype,"instrumentationEnabled",{get:function(){return Wi.getInstance().instrumentationEnabled},set:function(e){Wi.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataCollectionEnabled",{get:function(){return Wi.getInstance().dataCollectionEnabled},set:function(e){Wi.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),n}();!function spe(n){n.INTERNAL.registerComponent(new Bc.Component("performance",function(t){return function(t,r){if("[DEFAULT]"!==t.name)throw rs.create("FB not default");if("undefined"==typeof window)throw rs.create("no window");return function pfe(n){l7=n}(window),Wi.getInstance().firebaseAppInstance=t,Wi.getInstance().installationsService=r,new ipe(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),n.registerVersion("@firebase/performance","0.4.18")}(it.default);var E7="https://www.googletagmanager.com/gtag/js",Ro=(()=>(function(n){n.EVENT="event",n.SET="set",n.CONFIG="config"}(Ro||(Ro={})),Ro))(),vE=(()=>(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"}(vE||(vE={})),vE))(),Po=new _s.Logger("@firebase/analytics");function _pe(n,e,t,r,i,o){return(0,k.__awaiter)(this,void 0,void 0,function(){var a,l,c,p;return(0,k.__generator)(this,function(v){switch(v.label){case 0:a=r[i],v.label=1;case 1:return v.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return v.sent(),[3,6];case 3:return[4,Promise.all(t)];case 4:return l=v.sent(),(c=l.find(function(b){return b.measurementId===i}))?[4,e[c.appId]]:[3,6];case 5:v.sent(),v.label=6;case 6:return[3,8];case 7:return p=v.sent(),Po.error(p),[3,8];case 8:return n(Ro.CONFIG,i,o),[2]}})})}function ype(n,e,t,r,i){return(0,k.__awaiter)(this,void 0,void 0,function(){var o,a,l,c,p,v,I;return(0,k.__generator)(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(t)]):[3,2];case 1:for(l=R.sent(),c=function(N){var z=l.find(function(Y){return Y.measurementId===N}),Q=z&&e[z.appId];if(!Q)return o=[],"break";o.push(Q)},p=0,v=a;p<v.length&&"break"!==c(v[p]);p++);R.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return R.sent(),n(Ro.EVENT,r,i||{}),[3,5];case 4:return I=R.sent(),Po.error(I),[3,5];case 5:return[2]}})})}var jl,Epe=((jl={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jl["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jl["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jl["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jl["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jl["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jl["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jl["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jl["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jl),el=new gt.ErrorFactory("analytics","Analytics",Epe),Dpe=function(){function n(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return n.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},n.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},n.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},n}(),S7=new Dpe;function Ape(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Ipe(n){var e;return(0,k.__awaiter)(this,void 0,void 0,function(){var t,i,o,a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return t=n.appId,i={method:"GET",headers:Ape(n.apiKey)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),[4,fetch(o,i)];case 1:if(200===(a=p.sent()).status||304===a.status)return[3,6];l="",p.label=2;case 2:return p.trys.push([2,4,,5]),[4,a.json()];case 3:return c=p.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(l=c.error.message),[3,5];case 4:return p.sent(),[3,5];case 5:throw el.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function T7(n,e,t,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=S7),(0,k.__awaiter)(this,void 0,void 0,function(){var a,l,c,p,v,b,w;return(0,k.__generator)(this,function(I){switch(I.label){case 0:a=n.appId,l=n.measurementId,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,Mpe(t,i)];case 2:return I.sent(),[3,4];case 3:if(c=I.sent(),l)return Po.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+l+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:a,measurementId:l}];throw c;case 4:return I.trys.push([4,6,,7]),[4,Ipe(n)];case 5:return p=I.sent(),r.deleteThrottleMetadata(a),[2,p];case 6:if(!function xpe(n){if(!(n instanceof gt.FirebaseError&&n.customData))return!1;var e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v=I.sent())){if(r.deleteThrottleMetadata(a),l)return Po.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+l+' provided in the "measurementId" field in the local Firebase config. ['+v.message+"]"),[2,{appId:a,measurementId:l}];throw v}return b=503===Number(v.customData.httpStatus)?(0,gt.calculateBackoffMillis)(o,r.intervalMillis,30):(0,gt.calculateBackoffMillis)(o,r.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:o+1},r.setThrottleMetadata(a,w),Po.debug("Calling attemptFetch again in "+b+" millis"),[2,T7(n,w,t,r)];case 7:return[2]}})})}function Mpe(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(el.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Rpe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}();var A7,hb,Hl={},_E=[],D7={},db="dataLayer",Z2="gtag",yE=!1;function Npe(n){if(yE)throw el.create("already-initialized");n.dataLayerName&&(db=n.dataLayerName),n.gtagName&&(Z2=n.gtagName)}function Lpe(n,e){!function Fpe(){var n=[];if((0,gt.isBrowserExtension)()&&n.push("This is a browser extension environment."),(0,gt.areCookiesEnabled)()||n.push("Cookies are not available."),n.length>0){var e=n.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),t=el.create("invalid-analytics-context",{errorInfo:e});Po.warn(t.message)}}();var t=n.options.appId;if(!t)throw el.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw el.create("no-api-key");Po.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+n.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Hl[t])throw el.create("already-exists",{id:t});if(!yE){!function vpe(n){var e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(db);var r=function wpe(n,e,t,r,i){var o=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function bpe(n,e,t,r){return function i(o,a,l){return(0,k.__awaiter)(this,void 0,void 0,function(){var c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),o!==Ro.EVENT?[3,2]:[4,ype(n,e,t,a,l)];case 1:return p.sent(),[3,5];case 2:return o!==Ro.CONFIG?[3,4]:[4,_pe(n,e,t,r,a,l)];case 3:return p.sent(),[3,5];case 4:n(Ro.SET,a),p.label=5;case 5:return[3,7];case 6:return c=p.sent(),Po.error(c),[3,7];case 7:return[2]}})})}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Hl,_E,D7,db,Z2);hb=r.wrappedGtag,A7=r.gtagCore,yE=!0}Hl[t]=function Ope(n,e,t,r,i,o){return(0,k.__awaiter)(this,void 0,void 0,function(){var a,l,c,p,v,b,w;return(0,k.__generator)(this,function(I){switch(I.label){case 0:return a=function kpe(n,e,t){return void 0===e&&(e=S7),(0,k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,l,c,p=this;return(0,k.__generator)(this,function(v){if(o=(r=n.options).apiKey,a=r.measurementId,!(i=r.appId))throw el.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw el.create("no-api-key")}return l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Rpe,setTimeout(function(){return(0,k.__awaiter)(p,void 0,void 0,function(){return(0,k.__generator)(this,function(b){return c.abort(),[2]})})},void 0!==t?t:6e4),[2,T7({appId:i,apiKey:o,measurementId:a},l,c,e)]})})}(n),a.then(function(R){t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&Po.warn("The measurement ID in the local Firebase config ("+n.options.measurementId+") does not match the measurement ID fetched from the server ("+R.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(R){return Po.error(R)}),e.push(a),l=function Ppe(){return(0,k.__awaiter)(this,void 0,void 0,function(){var n;return(0,k.__generator)(this,function(e){switch(e.label){case 0:return(0,gt.isIndexedDBAvailable)()?[3,1]:(Po.warn(el.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,gt.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),Po.warn(el.create("indexeddb-unavailable",{errorInfo:n}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(R){if(R)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=I.sent(),p=c[0],v=c[1],function Cpe(){for(var n=window.document.getElementsByTagName("script"),e=0,t=Object.values(n);e<t.length;e++){var r=t[e];if(r.src&&r.src.includes(E7))return r}return null}()||function gpe(n,e){var t=document.createElement("script");t.src=E7+"?l="+n+"&id="+e,t.async=!0,document.head.appendChild(t)}(o,p.measurementId),i("js",new Date),(w={}).origin="firebase",w.update=!0,b=w,null!=v&&(b.firebase_id=v),i(Ro.CONFIG,p.measurementId,b),[2,p.measurementId]}})})}(n,_E,D7,e,A7,db);var a={app:n,logEvent:function(l,c,p){(function dpe(n,e,t,r,i){return(0,k.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return i&&i.global?(n(Ro.EVENT,t,r),[2]):[3,1];case 1:return[4,e];case 2:o=l.sent(),a=(0,k.__assign)((0,k.__assign)({},r),{send_to:o}),n(Ro.EVENT,t,a),l.label=3;case 3:return[2]}})})})(hb,Hl[t],l,c,p).catch(function(v){return Po.error(v)})},setCurrentScreen:function(l,c){(function hpe(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(n(Ro.SET,{screen_name:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(Ro.CONFIG,i,{update:!0,screen_name:t}),o.label=3;case 3:return[2]}})})})(hb,Hl[t],l,c).catch(function(p){return Po.error(p)})},setUserId:function(l,c){(function fpe(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(n(Ro.SET,{user_id:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(Ro.CONFIG,i,{update:!0,user_id:t}),o.label=3;case 3:return[2]}})})})(hb,Hl[t],l,c).catch(function(p){return Po.error(p)})},setUserProperties:function(l,c){(function ppe(n,e,t,r){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,l,c;return(0,k.__generator)(this,function(p){switch(p.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(t);o<a.length;o++)i["user_properties."+(l=a[o])]=t[l];return n(Ro.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=p.sent(),n(Ro.CONFIG,c,{update:!0,user_properties:t}),p.label=3;case 3:return[2]}})})})(hb,Hl[t],l,c).catch(function(p){return Po.error(p)})},setAnalyticsCollectionEnabled:function(l){(function mpe(n,e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,n];case 1:return t=r.sent(),window["ga-disable-"+t]=!e,[2]}})})})(Hl[t],l).catch(function(c){return Po.error(c)})},INTERNAL:{delete:function(){return delete Hl[t],Promise.resolve()}}};return a}var I7="analytics";function jpe(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:if((0,gt.isBrowserExtension)())return[2,!1];if(!(0,gt.areCookiesEnabled)())return[2,!1];if(!(0,gt.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,gt.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function Upe(n){n.INTERNAL.registerComponent(new Bc.Component(I7,function(t){return Lpe(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Npe,EventName:vE,isSupported:jpe})),n.INTERNAL.registerComponent(new Bc.Component("analytics-internal",function e(t){try{return{logEvent:t.getProvider(I7).getImmediate().logEvent}}catch(i){throw el.create("interop-component-reg-failed",{reason:i})}},"PRIVATE")),n.registerVersion("@firebase/analytics","0.6.18")}(it.default);var Ds,Hpe=function(){function n(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}return n.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,i=r<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+i+"."),i},n.prototype.fetch=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=l.sent(),r=t[0],(i=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return l.sent(),[2,o]}})})},n}(),zpe=((Ds={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ds["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ds["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ds["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ds["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ds["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ds["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ds["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ds["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ds["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ds["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ds["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ds["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ds),tl=new gt.ErrorFactory("remoteconfig","Remote Config",zpe);function $pe(n){return void 0===n&&(n=navigator),n.languages&&n.languages[0]||n.language}var Wpe=function(){function n(e,t,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return n.prototype.fetch=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,o,a,l,c,p,v,b,w,I,R,N,z,Q,Y,ae,Ee;return(0,k.__generator)(this,function(Ve){switch(Ve.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=Ve.sent(),o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:$pe()},p={method:"POST",headers:l,body:JSON.stringify(c)},v=fetch(a,p),b=new Promise(function(De,xt){e.signal.addEventListener(function(){var Er=new Error("The operation was aborted.");Er.name="AbortError",xt(Er)})}),Ve.label=2;case 2:return Ve.trys.push([2,5,,6]),[4,Promise.race([v,b])];case 3:return Ve.sent(),[4,v];case 4:return w=Ve.sent(),[3,6];case 5:throw I=Ve.sent(),R="fetch-client-network","AbortError"===I.name&&(R="fetch-timeout"),tl.create(R,{originalErrorMessage:I.message});case 6:if(N=w.status,z=w.headers.get("ETag")||void 0,200!==w.status)return[3,11];ae=void 0,Ve.label=7;case 7:return Ve.trys.push([7,9,,10]),[4,w.json()];case 8:return ae=Ve.sent(),[3,10];case 9:throw Ee=Ve.sent(),tl.create("fetch-client-parse",{originalErrorMessage:Ee.message});case 10:Q=ae.entries,Y=ae.state,Ve.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Y?N=500:"NO_CHANGE"===Y?N=304:("NO_TEMPLATE"===Y||"EMPTY_CONFIG"===Y)&&(Q={}),304!==N&&200!==N)throw tl.create("fetch-status",{httpStatus:N});return[2,{status:N,eTag:z,config:Q}]}})})},n}(),Gpe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}(),Qpe=["1","true","t","yes","y","on"],J2=function(){function n(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return n.prototype.asString=function(){return this._value},n.prototype.asBoolean=function(){return"static"!==this._source&&Qpe.indexOf(this._value.toLowerCase())>=0},n.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},n.prototype.getSource=function(){return this._source},n}(),Jpe=function(){function n(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return n.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=_s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=_s.LogLevel.SILENT;break;default:this._logger.logLevel=_s.LogLevel.ERROR}},Object.defineProperty(n.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),n.prototype.activate=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),r=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==r?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}})})},n.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},n.prototype.fetch=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i=this;return(0,k.__generator)(this,function(o){switch(o.label){case 0:e=new Gpe,setTimeout(function(){return(0,k.__awaiter)(i,void 0,void 0,function(){return(0,k.__generator)(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return t=o.sent(),r=function qpe(n,e){return n instanceof gt.FirebaseError&&-1!==n.code.indexOf(e)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),t;case 6:return[2]}})})},n.prototype.fetchAndActivate=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},n.prototype.getAll=function(){var e=this;return function eme(n,e){return void 0===n&&(n={}),void 0===e&&(e={}),Object.keys((0,k.__assign)((0,k.__assign)({},n),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,r){return t[r]=e.getValue(r),t},{})},n.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},n.prototype.getNumber=function(e){return this.getValue(e).asNumber()},n.prototype.getString=function(e){return this.getValue(e).asString()},n.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new J2("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new J2("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new J2("static"))},n}();function bE(n,e){var t=n.target.error||void 0;return tl.create(e,{originalErrorMessage:t&&t.message})}var Wf="app_namespace_store",ime=function(){function n(e,t,r,i){void 0===i&&(i=function rme(){return new Promise(function(n,e){var t=indexedDB.open("firebase_remote_config",1);t.onerror=function(r){e(bE(r,"storage-open"))},t.onsuccess=function(r){n(r.target.result)},t.onupgradeneeded=function(r){0===r.oldVersion&&r.target.result.createObjectStore(Wf,{keyPath:"compositeKey"})}})}()),this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}return n.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},n.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},n.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},n.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},n.prototype.getActiveConfig=function(){return this.get("active_config")},n.prototype.setActiveConfig=function(e){return this.set("active_config",e)},n.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},n.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},n.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},n.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},n.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},n.prototype.get=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,a){var c=t.transaction([Wf],"readonly").objectStore(Wf),p=r.createCompositeKey(e);try{var v=c.get(p);v.onerror=function(b){a(bE(b,"storage-get"))},v.onsuccess=function(b){var w=b.target.result;o(w?w.value:void 0)}}catch(b){a(tl.create("storage-get",{originalErrorMessage:b&&b.message}))}})]}})})},n.prototype.set=function(e,t){return(0,k.__awaiter)(this,void 0,void 0,function(){var r,i=this;return(0,k.__generator)(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,l){var p=r.transaction([Wf],"readwrite").objectStore(Wf),v=i.createCompositeKey(e);try{var b=p.put({compositeKey:v,value:t});b.onerror=function(w){l(bE(w,"storage-set"))},b.onsuccess=function(){a()}}catch(w){l(tl.create("storage-set",{originalErrorMessage:w&&w.message}))}})]}})})},n.prototype.delete=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,k.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,a){var c=t.transaction([Wf],"readwrite").objectStore(Wf),p=r.createCompositeKey(e);try{var v=c.delete(p);v.onerror=function(b){a(bE(b,"storage-delete"))},v.onsuccess=function(){o()}}catch(b){a(tl.create("storage-delete",{originalErrorMessage:b&&b.message}))}})]}})})},n.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},n}(),ome=function(){function n(e){this.storage=e}return n.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},n.prototype.getActiveConfig=function(){return this.activeConfig},n.prototype.loadFromStorage=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,t,r,i,o,a;return(0,k.__generator)(this,function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return(i=l.sent())&&(this.lastFetchStatus=i),[4,t];case 2:return(o=l.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return(a=l.sent())&&(this.activeConfig=a),[2]}})})},n.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},n.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},n}();function sme(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(tl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var lme=function(){function n(e,t){this.client=e,this.storage=t}return n.prototype.fetch=function(e){return(0,k.__awaiter)(this,void 0,void 0,function(){var t;return(0,k.__generator)(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},n.prototype.attemptFetch=function(e,t){var r=t.throttleEndTimeMillis,i=t.backoffCount;return(0,k.__awaiter)(this,void 0,void 0,function(){var o,a,l;return(0,k.__generator)(this,function(c){switch(c.label){case 0:return[4,sme(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(!function ame(n){if(!(n instanceof gt.FirebaseError&&n.customData))return!1;var e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a=c.sent()))throw a;return l={throttleEndTimeMillis:Date.now()+(0,gt.calculateBackoffMillis)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}})})},n}(),M7="@firebase/remote-config";function Lr(n){return null!=n&&"false"!=`${n}`}function nl(n,e=0){return R7(n)?Number(n):e}function R7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function wE(n){return Array.isArray(n)?n:[n]}function Ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function qc(n){return n instanceof Wn?n.nativeElement:n}function ex(n){return n&&"function"==typeof n.connect}!function cme(n){n.INTERNAL.registerComponent(new Bc.Component("remoteConfig",function e(t,r){var i=r.instanceIdentifier,o=t.getProvider("app").getImmediate(),a=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw tl.create("registration-window");var l=o.options,c=l.projectId,p=l.apiKey,v=l.appId;if(!c)throw tl.create("registration-project-id");if(!p)throw tl.create("registration-api-key");if(!v)throw tl.create("registration-app-id");var b=new ime(v,o.name,i=i||"firebase"),w=new ome(b),I=new _s.Logger(M7);I.logLevel=_s.LogLevel.ERROR;var R=new Wpe(a,n.SDK_VERSION,i,c,p,v),N=new lme(R,b),z=new Hpe(N,b,w,I),Q=new Jpe(o,z,w,b,I);return Q.ensureInitialized(),Q},"PUBLIC").setMultipleInstances(!0)),n.registerVersion(M7,"0.1.43")}(it.default),_t(106),it.default.registerVersion("firebase","8.10.1","app"),it.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),it.default.registerVersion("firebase","8.10.1");class P7{applyChanges(e,t,r,i,o){e.forEachOperation((a,l,c)=>{let p,v;if(null==a.previousIndex){const b=r(a,l,c);p=t.createEmbeddedView(b.templateRef,b.context,b.index),v=1}else null==c?(t.remove(l),v=3):(p=t.get(l),t.move(p,c),v=2);o&&o({context:null==p?void 0:p.context,operation:v,record:a})})}detach(){}}class mme{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ie,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const fb=new We("_ViewRepeater");function Dr(n){return Et((e,t)=>{qt(n).subscribe(Bt(t,()=>t.complete(),Ue)),!t.closed&&e.subscribe(t)})}const vme=new We("cdk-dir-doc",{providedIn:"root",factory:function _me(){return Wh(Mn)}}),yme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tx,Hg=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Rn,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function bme(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?yme.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(oe(vme,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();try{tx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){tx=!1}let zg,Oo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function cte(n){return n===x5}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(oe(Ww))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N7=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function F7(){if(zg)return zg;if("object"!=typeof document||!document)return zg=new Set(N7),zg;let n=document.createElement("input");return zg=new Set(N7.filter(e=>(n.setAttribute("type",e),n.type===e))),zg}let mb,Gf,nx;function gb(n){return function wme(){if(null==mb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mb=!0}))}finally{mb=mb||!1}return mb}()?n:!!n.capture}function Cme(){if(null==Gf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Gf=!1,Gf;if("scrollBehavior"in document.documentElement.style)Gf=!0;else{const n=Element.prototype.scrollTo;Gf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Gf}function L7(n){if(function Eme(){if(null==nx){const n="undefined"!=typeof document?document.head:null;nx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return nx}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Kf(n){return n.composedPath?n.composedPath()[0]:n.target}function rx(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Sme=["addListener","removeListener"],Tme=["addEventListener","removeEventListener"],Dme=["on","off"];function EE(n,e,t,r){if(ze(t)&&(r=t,t=void 0),r)return EE(n,e,t).pipe(hI(r));const[i,o]=function kme(n){return ze(n.addEventListener)&&ze(n.removeEventListener)}(n)?Tme.map(a=>l=>n[a](e,l,t)):function Ame(n){return ze(n.addListener)&&ze(n.removeListener)}(n)?Sme.map(V7(n,e)):function Ime(n){return ze(n.on)&&ze(n.off)}(n)?Dme.map(V7(n,e)):[];if(!i&&li(n))return Cr(a=>EE(a,e,t))(qt(n));if(!i)throw new TypeError("Invalid event target");return new Ye(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return i(l),()=>o(l)})}function V7(n,e){return t=>r=>n[t](e,r)}class Mme extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const SE={setInterval(n,e,...t){const{delegate:r}=SE;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=SE;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class ix extends Mme{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return SE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;SE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=vb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Tt(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=vb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=vb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},B7={now:()=>(B7.delegate||Date).now(),delegate:void 0};class _b{constructor(e,t=_b.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}_b.now=B7.now;class ox extends _b{constructor(e,t=_b.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class Rme extends ox{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xme extends ix{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=vb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(vb.cancelAnimationFrame(t),e._scheduled=void 0)}});let sx,Ome=1;const TE={};function U7(n){return n in TE&&(delete TE[n],!0)}const Nme={setImmediate(n){const e=Ome++;return TE[e]=!0,sx||(sx=Promise.resolve()),sx.then(()=>U7(e)&&n()),e},clearImmediate(n){U7(n)}},{setImmediate:Fme,clearImmediate:Lme}=Nme,DE={setImmediate(...n){const{delegate:e}=DE;return((null==e?void 0:e.setImmediate)||Fme)(...n)},clearImmediate(n){const{delegate:e}=DE;return((null==e?void 0:e.clearImmediate)||Lme)(n)},delegate:void 0},ax=(new class Bme extends ox{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Vme extends ix{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=DE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(DE.clearImmediate(t),e._scheduled=void 0)}}),new ox(ix)),jme=ax;function j7(n,e=ax){return function Hme(n){return Et((e,t)=>{let r=!1,i=null,o=null,a=!1;const l=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const p=i;i=null,t.next(p)}a&&t.complete()},c=()=>{o=null,a&&t.complete()};e.subscribe(Bt(t,p=>{r=!0,i=p,o||qt(n(p)).subscribe(o=Bt(t,l,c))},()=>{a=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function qme(n=0,e,t=jme){let r=-1;return null!=e&&(cl(e)?t=e:r=e),new Ye(i=>{let o=function zme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e))}let H7=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ie,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ye(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(j7(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Wa(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=qc(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>EE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(oe(bn),oe(Oo),oe(Mn,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yb=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ie,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(j7(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(oe(Oo),oe(bn),oe(Mn,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})(),lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[pb,AE],pb,AE]}),n})();const Gme=[[["caption"]],[["colgroup"],["col"]]],Kme=["caption","colgroup, col"];function ux(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Lr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const qg=new We("CDK_TABLE");let $g=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(H(so))},n.\u0275dir=Le({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Wg=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(H(so))},n.\u0275dir=Le({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),IE=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(H(so))},n.\u0275dir=Le({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Zme{}const Jme=ux(Zme);let $c=(()=>{class n extends Jme{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Lr(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(H(qg,8))},n.\u0275dir=Le({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(Gr(i,$g,5),Gr(i,Wg,5),Gr(i,IE,5)),2&t){let o;Lt(o=Vt())&&(r.cell=o.first),Lt(o=Vt())&&(r.headerCell=o.first),Lt(o=Vt())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[vn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),dt]}),n})();class cx{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let dx=(()=>{class n extends cx{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(H($c),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[dt]}),n})(),hx=(()=>{class n extends cx{constructor(t,r){var i;if(super(t,r),1===(null===(i=t._table)||void 0===i?void 0:i._elementRef.nativeElement.nodeType)){const o=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(H($c),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[dt]}),n})();class q7{constructor(){this.tasks=[],this.endTasks=[]}}const fx=new We("_COALESCED_STYLE_SCHEDULER");let $7=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ie}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new q7,this._getScheduleObservable().pipe(Dr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new q7;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?It(Promise.resolve(void 0)):this._ngZone.onStable.pipe(pr(1))}}return n.\u0275fac=function(t){return new(t||n)(oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),px=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof bb?t.headerCell.template:this instanceof wb?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(H(so),H(Sc))},n.\u0275dir=Le({type:n,features:[Nr]}),n})();class ege extends px{}const tge=ux(ege);let bb=(()=>{class n extends tge{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(H(so),H(Sc),H(qg,8))},n.\u0275dir=Le({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[dt,Nr]}),n})();class nge extends px{}const rge=ux(nge);let wb=(()=>{class n extends rge{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(H(so),H(Sc),H(qg,8))},n.\u0275dir=Le({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[dt,Nr]}),n})(),kE=(()=>{class n extends px{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(H(so),H(Sc),H(qg,8))},n.\u0275dir=Le({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[dt]}),n})(),Wc=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(H(ao))},n.\u0275dir=Le({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Eu(0,0)},directives:[Wc],encapsulation:2}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Eu(0,0)},directives:[Wc],encapsulation:2}),n})(),ME=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(H(so))},n.\u0275dir=Le({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const W7=["top","bottom","left","right"];class ige{constructor(e,t,r,i,o=!0,a=!0,l){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(w=>w)&&!r.some(w=>w))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],a=o.children.length,l=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(l,t),p=this._getStickyEndColumnPositions(l,r),v=t.lastIndexOf(!0),b=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const w="rtl"===this.direction,I=w?"right":"left",R=w?"left":"right";for(const N of e)for(let z=0;z<a;z++){const Q=N.children[z];t[z]&&this._addStickyStyle(Q,I,c[z],z===v),r[z]&&this._addStickyStyle(Q,R,p[z],z===b)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:l.slice(0,v+1).map((N,z)=>t[z]?N:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===b?[]:l.slice(b).map((N,z)=>r[z+b]?N:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,o="bottom"===r?t.slice().reverse():t,a=[],l=[],c=[];for(let v=0,b=0;v<i.length;v++){if(!o[v])continue;a[v]=b;const w=i[v];c[v]=this._isNativeHtmlTable?Array.from(w.children):[w];const I=w.getBoundingClientRect().height;b+=I,l[v]=I}const p=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var v,b;for(let w=0;w<i.length;w++){if(!o[w])continue;const I=a[w],R=w===p;for(const N of c[w])this._addStickyStyle(N,r,I,R)}"top"===r?null===(v=this._positionListener)||void 0===v||v.stickyHeaderRowsUpdated({sizes:l,offsets:a,elements:c}):null===(b=this._positionListener)||void 0===b||b.stickyFooterRowsUpdated({sizes:l,offsets:a,elements:c})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);W7.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of W7)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}}const _x=new We("CDK_SPL");let xE=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","rowOutlet",""]]}),n})(),RE=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),PE=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),OE=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(H(ao),H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),NE=(()=>{class n{constructor(t,r,i,o,a,l,c,p,v,b,w,I){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=a,this._platform=c,this._viewRepeater=p,this._coalescedStyleScheduler=v,this._viewportRuler=b,this._stickyPositioningListener=w,this._ngZone=I,this._onDestroy=new Ie,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Rn,this.viewChange=new Ko({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Lr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Lr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Dr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ex(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,a)=>this._getEmbeddedViewArgs(i.item,a),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&bn.isInAngularZone()?this._ngZone.onStable.pipe(pr(1),Dr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let l=0;l<r.length;l++)this._renderRows[l].rowDef===o&&a.push(r[l]);this._addStickyColumnStyles(a,o)}),i.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const a=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<a.length;l++){let c=a[l];const p=this._cachedRenderRowsMap.get(c.data);p.has(c.rowDef)?p.get(c.rowDef).push(c):p.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(a=>{const l=i&&i.has(a)?i.get(a):[];if(l.length){const c=l.shift();return c.dataIndex=r,c}return{data:t,rowDef:a,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),FE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=FE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=FE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=FE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(a,l)=>a||!!l.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],ex(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;ex(this.dataSource)?t=this.dataSource.connect(this):function gme(n){return!!n&&(n instanceof Ye||ze(n.lift)&&ze(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Gt(this.dataSource)),this._renderChangeSubscription=t.pipe(Dr(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(l=>this._columnDefsByName.get(l)),o=i.map(l=>l.sticky),a=i.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(a=>a.when&&a.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const a=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),a}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))Wc.mostRecentCellOutlet&&Wc.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const a=t.get(r).context;a.count=i,a.first=0===r,a.last=r===i-1,a.even=r%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[r].dataIndex,a.renderIndex=r):a.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const a of i.outlets)o.appendChild(a.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ige(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Gt()).pipe(Dr(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(t.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(H(Sc),H(ha),H(Wn),dc("role"),H(Hg,8),H(Mn),H(Oo),H(fb),H(fx),H(yb),H(_x,12),H(bn,8))},n.\u0275cmp=Ft({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(Gr(i,ME,5),Gr(i,$c,5),Gr(i,kE,5),Gr(i,bb,5),Gr(i,wb,5)),2&t){let o;Lt(o=Vt())&&(r._noDataRow=o.first),Lt(o=Vt())&&(r._contentColumnDefs=o),Lt(o=Vt())&&(r._contentRowDefs=o),Lt(o=Vt())&&(r._contentHeaderRowDefs=o),Lt(o=Vt())&&(r._contentFooterRowDefs=o)}},viewQuery:function(t,r){if(1&t&&(hr(xE,7),hr(RE,7),hr(PE,7),hr(OE,7)),2&t){let i;Lt(i=Vt())&&(r._rowOutlet=i.first),Lt(i=Vt())&&(r._headerRowOutlet=i.first),Lt(i=Vt())&&(r._footerRowOutlet=i.first),Lt(i=Vt())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&Ei("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[vn([{provide:qg,useExisting:n},{provide:fb,useClass:P7},{provide:fx,useClass:$7},{provide:_x,useValue:null}])],ngContentSelectors:Kme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(Sd(Gme),oo(0),oo(1,1),Eu(2,0)(3,1)(4,2)(5,3))},directives:[RE,xE,OE,PE],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function FE(n,e){return n.concat(Array.from(e))}let sge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[lx]]}),n})();function Gg(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function wx(n,e=ax){return Et((t,r)=>{let i=null,o=null,a=null;const l=()=>{if(i){i.unsubscribe(),i=null;const p=o;o=null,r.next(p)}};function c(){const p=a+n,v=e.now();if(v<p)return i=this.schedule(void 0,p-v),void r.add(i);l()}t.subscribe(Bt(r,p=>{o=p,a=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{l(),r.complete()},void 0,()=>{o=i=null}))})}function J7(n){return Wa((e,t)=>n<=t)}function eH(n,e=ve){return n=null!=n?n:_ge,Et((t,r)=>{let i,o=!0;t.subscribe(Bt(r,a=>{const l=e(a);(o||!n(i,l))&&(o=!1,i=l,r.next(a))}))})}function _ge(n,e){return n===e}let tH=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=qc(t);return new Ye(i=>{const a=this._observeElement(r).subscribe(i);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ie,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(oe(tH))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bge=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Rn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Lr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=nl(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(wx(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(H(yge),H(Wn),H(bn))},n.\u0275dir=Le({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[tH]}),n})();function BE(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const iH="cdk-describedby-message",UE="cdk-describedby-host";let oH=0,sH=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+oH++,this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const o=Cx(r,i);"string"!=typeof r?(aH(r),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){var o;if(!r||!this._isElementNode(t))return;const a=Cx(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const l=this._messageRegistry.get(a);l&&0===l.referenceCount&&this._deleteMessageElement(a)}0===(null===(o=this._messagesContainer)||void 0===o?void 0:o.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const r=this._document.querySelectorAll(`[${UE}="${this._id}"]`);for(let i=0;i<r.length;i++)this._removeCdkDescribedByReferenceIds(r[i]),r[i].removeAttribute(UE);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");aH(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Cx(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){var r,i;null===(i=null===(r=this._messageRegistry.get(t))||void 0===r?void 0:r.messageElement)||void 0===i||i.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=BE(t,"aria-describedby").filter(i=>0!=i.indexOf(iH));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function wge(n,e,t){const r=BE(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(UE,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function Cge(n,e,t){const i=BE(n,e).filter(o=>o!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(UE)}_isElementDescribedByMessage(t,r){const i=BE(t,"aria-describedby"),o=this._messageRegistry.get(r),a=o&&o.messageElement.id;return!!a&&-1!=i.indexOf(a)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=t.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(Oo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cx(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function aH(n){n.id||(n.id=`${iH}-${oH++}`)}class Sge extends class Ege{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ie,this._typeaheadSubscription=Tt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ie,this.change=new Ie,e instanceof L_&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Us(t=>this._pressedLetters.push(t)),wx(e),Wa(()=>this._pressedLetters.length>0),ye(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,a=r[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Gg(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof L_?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function uH(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function cH(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Mge=new We("cdk-input-modality-detector-options"),xge={ignoreKeys:[18,17,224,91,16]},Kg=gb({passive:!0,capture:!0});let Rge=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ko(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,c;(null===(c=null===(l=this._options)||void 0===l?void 0:l.ignoreKeys)||void 0===c?void 0:c.some(p=>p===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Kf(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uH(a)?"keyboard":"mouse"),this._mostRecentTarget=Kf(a))},this._onTouchstart=a=>{cH(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Kf(a))},this._options=Object.assign(Object.assign({},xge),o),this.modalityDetected=this._modality.pipe(J7(1)),this.modalityChanged=this.modalityDetected.pipe(eH()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Kg),i.addEventListener("mousedown",this._onMousedown,Kg),i.addEventListener("touchstart",this._onTouchstart,Kg)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kg),document.removeEventListener("mousedown",this._onMousedown,Kg),document.removeEventListener("touchstart",this._onTouchstart,Kg))}}return n.\u0275fac=function(t){return new(t||n)(oe(Oo),oe(bn),oe(Mn),oe(Mge,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pge=new We("liveAnnouncerElement",{providedIn:"root",factory:function Oge(){return null}}),Nge=new We("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Fge=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,a;return 1===r.length&&"number"==typeof r[0]?a=r[0]:[o,a]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==a&&i&&(a=i.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(oe(Pge,8),oe(bn),oe(Mn),oe(Nge,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lge=new We("cdk-focus-monitor-default-options"),jE=gb({passive:!0,capture:!0});let Ex=(()=>{class n{constructor(t,r,i,o,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ie,this._rootNodeFocusAndBlurListener=l=>{const c=Kf(l),p="focus"===l.type?this._onFocus:this._onBlur;for(let v=c;v;v=v.parentElement)p.call(this,l,v)},this._document=o,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(t,r=!1){const i=qc(t);if(!this._platform.isBrowser||1!==i.nodeType)return Gt(null);const o=L7(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const l={checkChildren:r,subject:new Ie,rootNode:o};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const r=qc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=qc(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Kf(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,jE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,jE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(oe(bn),oe(Oo),oe(Rge),oe(Mn,8),oe(Lge,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hH="cdk-high-contrast-black-on-white",fH="cdk-high-contrast-white-on-black",Sx="cdk-high-contrast-active";let pH=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Sx),t.remove(hH),t.remove(fH),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Sx),t.add(hH)):2===r&&(t.add(Sx),t.add(fH))}}}return n.\u0275fac=function(t){return new(t||n)(oe(Oo),oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vge=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(oe(pH))},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[nH]]}),n})();const Hn=!1;function mH(n){return new st(3e3,Hn)}function _ve(){return"undefined"!=typeof window&&void 0!==window.document}function Tx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function eh(n){switch(n.length){case 0:return new ay;case 1:return n[0];default:return new E8(n)}}function gH(n,e,t,r,i={},o={}){const a=[],l=[];let c=-1,p=null;if(r.forEach(v=>{const b=v.offset,w=b==c,I=w&&p||{};Object.keys(v).forEach(R=>{let N=R,z=v[R];if("offset"!==R)switch(N=e.normalizePropertyName(N,a),z){case"!":z=i[R];break;case xc:z=o[R];break;default:z=e.normalizeStyleValue(R,N,z,a)}I[N]=z}),w||l.push(I),p=I,c=b}),a.length)throw function ave(n){return new st(3502,Hn)}();return l}function Dx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ax(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ax(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ax(t,"destroy",n)))}}function Ax(n,e,t){const r=t.totalTime,o=Ix(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),a=n._data;return null!=a&&(o._data=a),o}function Ix(n,e,t,r,i="",o=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function ba(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function vH(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let kx=(n,e)=>!1,_H=(n,e,t)=>[],yH=null;function Mx(n){const e=n.parentNode||n.host;return e===yH?null:e}(Tx()||"undefined"!=typeof Element)&&(_ve()?(yH=(()=>document.documentElement)(),kx=(n,e)=>{for(;e;){if(e===n)return!0;e=Mx(e)}return!1}):kx=(n,e)=>n.contains(e),_H=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yf=null,bH=!1;function wH(n){Yf||(Yf=function bve(){return"undefined"!=typeof document?document.body:null}()||{},bH=!!Yf.style&&"WebkitAppearance"in Yf.style);let e=!0;return Yf.style&&!function yve(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yf.style,!e&&bH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yf.style)),e}const CH=kx,EH=_H;let SH=(()=>{class n{validateStyleProperty(t){return wH(t)}matchesElement(t,r){return!1}containsElement(t,r){return CH(t,r)}getParentElement(t){return Mx(t)}query(t,r,i){return EH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,a,l=[],c){return new ay(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),xx=(()=>{class n{}return n.NOOP=new SH,n})();const Rx="ng-enter",zE="ng-leave",qE="ng-trigger",$E=".ng-trigger",DH="ng-animating",Px=".ng-animating";function Qf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ox(parseFloat(e[1]),e[2])}function Ox(n,e){return"s"===e?1e3*n:n}function WE(n,e,t){return n.hasOwnProperty("duration")?n:function Eve(n,e,t){let i,o=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(mH()),{duration:0,delay:0,easing:""};i=Ox(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(o=Ox(parseFloat(c),l[4]));const p=l[5];p&&(a=p)}else i=n;if(!t){let l=!1,c=e.length;i<0&&(e.push(function Bge(){return new st(3100,Hn)}()),l=!0),o<0&&(e.push(function Uge(){return new st(3101,Hn)}()),l=!0),l&&e.splice(c,0,mH())}return{duration:i,delay:o,easing:a}}(n,e,t)}function Yg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function th(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Yg(n,t);return t}function IH(n,e,t){return t?e+":"+t+";":""}function kH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=IH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=IH(0,Dve(t),n.style[t]));n.setAttribute("style",e)}function Vu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Fx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Tx()&&kH(n))}function Xf(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Fx(t);n.style[r]=""}),Tx()&&kH(n))}function Cb(n){return Array.isArray(n)?1==n.length?n[0]:y8(n):n}const Nx=new RegExp("{{\\s*(.+?)\\s*}}","g");function MH(n){let e=[];if("string"==typeof n){let t;for(;t=Nx.exec(n);)e.push(t[1]);Nx.lastIndex=0}return e}function GE(n,e,t){const r=n.toString(),i=r.replace(Nx,(o,a)=>{let l=e[a];return e.hasOwnProperty(a)||(t.push(function Hge(n){return new st(3003,Hn)}()),l=""),l.toString()});return i==r?n:i}function KE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Tve=/-+([a-z0-9])/g;function Fx(n){return n.replace(Tve,(...e)=>e[1].toUpperCase())}function Dve(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function zge(n){return new st(3004,Hn)}()}}function xH(n,e){return window.getComputedStyle(n)[e]}function Rve(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Pve(n,e,t){if(":"==n[0]){const c=function Ove(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function rve(n){return new st(3016,Hn)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nve(n){return new st(3015,Hn)}()),e;const i=r[1],o=r[2],a=r[3];e.push(RH(i,a));"<"==o[0]&&!("*"==i&&"*"==a)&&e.push(RH(a,i))}(r,t,e)):t.push(n),t}const ZE=new Set(["true","1"]),JE=new Set(["false","0"]);function RH(n,e){const t=ZE.has(n)||JE.has(n),r=ZE.has(e)||JE.has(e);return(i,o)=>{let a="*"==n||n==i,l="*"==e||e==o;return!a&&t&&"boolean"==typeof i&&(a=i?ZE.has(n):JE.has(n)),!l&&r&&"boolean"==typeof o&&(l=o?ZE.has(e):JE.has(e)),a&&l}}const Nve=new RegExp("s*:selfs*,?","g");function Lx(n,e,t,r){return new Fve(n).build(e,t,r)}class Fve{constructor(e){this._driver=e}build(e,t,r){const i=new Bve(t);this._resetContextStyleTimingState(i);const o=wa(this,Cb(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function $ge(){return new st(3006,Hn)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const c=l,p=c.name;p.toString().split(/\s*,\s*/).forEach(v=>{c.name=v,o.push(this.visitState(c,t))}),c.name=p}else if(1==l.type){const c=this.visitTransition(l,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push(function Wge(){return new st(3007,Hn)}())}),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=i||{};r.styles.forEach(l=>{if(eS(l)){const c=l;Object.keys(c).forEach(p=>{MH(c[p]).forEach(v=>{a.hasOwnProperty(v)||o.add(v)})})}}),o.size&&(KE(o.values()),t.errors.push(function Gge(n,e){return new st(3008,Hn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=wa(this,Cb(e.animation),t);return{type:1,matchers:Rve(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>wa(this,r,t)),options:Zf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(a=>{t.currentTime=r;const l=wa(this,a,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:o,options:Zf(e.options)}}visitAnimate(e,t){const r=function jve(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Vx(WE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Vx(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=WE(t,e);return Vx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:On({});if(5==o.type)i=this.visitKeyframes(o,t);else{let a=e.styles,l=!1;if(!a){l=!0;const p={};r.easing&&(p.easing=r.easing),a=On(p)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(a,t);c.isEmptyStep=l,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==xc?r.push(a):t.errors.push(function Kge(n){return new st(3002,Hn)}()):r.push(a)}):r.push(e.styles);let i=!1,o=null;return r.forEach(a=>{if(eS(a)){const l=a,c=l.easing;if(c&&(o=c,delete l.easing),!i)for(let p in l)if(l[p].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete a[l],void t.unsupportedCSSPropertiesFound.add(l);const c=t.collectedStyles[t.currentQuerySelector],p=c[l];let v=!0;p&&(o!=i&&o>=p.startTime&&i<=p.endTime&&(t.errors.push(function Yge(n,e,t,r,i){return new st(3010,Hn)}()),v=!1),o=p.startTime),v&&(c[l]={startTime:o,endTime:i}),t.options&&function Sve(n,e,t){const r=e.params||{},i=MH(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function jge(n){return new st(3001,Hn)}())})}(a[l],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Qge(){return new st(3011,Hn)}()),r;let o=0;const a=[];let l=!1,c=!1,p=0;const v=e.steps.map(Q=>{const Y=this._makeStyleAst(Q,t);let ae=null!=Y.offset?Y.offset:function Uve(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(eS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(eS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Y.styles),Ee=0;return null!=ae&&(o++,Ee=Y.offset=ae),c=c||Ee<0||Ee>1,l=l||Ee<p,p=Ee,a.push(Ee),Y});c&&t.errors.push(function Xge(){return new st(3012,Hn)}()),l&&t.errors.push(function Zge(){return new st(3200,Hn)}());const b=e.steps.length;let w=0;o>0&&o<b?t.errors.push(function Jge(){return new st(3202,Hn)}()):0==o&&(w=1/(b-1));const I=b-1,R=t.currentTime,N=t.currentAnimateTimings,z=N.duration;return v.forEach((Q,Y)=>{const ae=w>0?Y==I?1:w*Y:a[Y],Ee=ae*z;t.currentTime=R+N.delay+Ee,N.duration=Ee,this._validateStyleAst(Q,t),Q.offset=ae,r.styles.push(Q)}),r}visitReference(e,t){return{type:8,animation:wa(this,Cb(e.animation),t),options:Zf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,a]=function Lve(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Nve,"")),n=n.replace(/@\*/g,$E).replace(/@\w+/g,t=>$E+"-"+t.substr(1)).replace(/:animating/g,Px),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ba(t.collectedStyles,t.currentQuerySelector,{});const l=wa(this,Cb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:Zf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function eve(){return new st(3013,Hn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:WE(e.timings,t.errors,!0);return{type:12,animation:wa(this,Cb(e.animation),t),timings:r,options:null}}}class Bve{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eS(n){return!Array.isArray(n)&&"object"==typeof n}function Zf(n){return n?(n=Yg(n)).params&&(n.params=function Vve(n){return n?Yg(n):null}(n.params)):n={},n}function Vx(n,e,t){return{duration:n,delay:e,easing:t}}function Bx(n,e,t,r,i,o,a=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:l}}class tS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const qve=new RegExp(":enter","g"),Wve=new RegExp(":leave","g");function Ux(n,e,t,r,i,o={},a={},l,c,p=[]){return(new Gve).buildKeyframes(n,e,t,r,i,o,a,l,c,p)}class Gve{buildKeyframes(e,t,r,i,o,a,l,c,p,v=[]){p=p||new tS;const b=new jx(e,t,p,i,o,v,[]);b.options=c,b.currentTimeline.setStyles([a],null,b.errors,c),wa(this,r,b);const w=b.timelines.filter(I=>I.containsAnimation());if(Object.keys(l).length){let I;for(let R=w.length-1;R>=0;R--){const N=w[R];if(N.element===t){I=N;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([l],null,b.errors,c)}return w.length?w.map(I=>I.buildKeyframes()):[Bx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const a=null!=r.duration?Qf(r.duration):null,l=null!=r.delay?Qf(r.delay):null;return 0!==a&&e.forEach(c=>{const p=t.appendInstructionToTimeline(c,a,l);o=Math.max(o,p.duration+p.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),wa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nS);const a=Qf(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>wa(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Qf(e.options.delay):0;e.steps.forEach(a=>{const l=t.createSubContext(e.options);o&&l.delayNextStep(o),wa(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return WE(t.params?GE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(c=>{l.forwardTime((c.offset||0)*o),l.setStyles(c.styles,c.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Qf(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nS);let a=r;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let c=null;l.forEach((p,v)=>{t.currentQueryIndex=v;const b=t.createSubContext(e.options,p);o&&b.delayNextStep(o),p===t.element&&(c=b.currentTimeline),wa(this,e.animation,b),b.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(t.currentQueryTotal-1);let c=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=l-c;break;case"full":c=r.currentStaggerTime}const v=t.currentTimeline;c&&v.delayNextStep(c);const b=v.currentTime;wa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-b+(i.startTime-r.currentTimeline.startTime)}}const nS={};class jx{constructor(e,t,r,i,o,a,l,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new rS(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qf(r.duration)),null!=r.delay&&(i.delay=Qf(r.delay));const o=r.params;if(o){let a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!a.hasOwnProperty(l))&&(a[l]=GE(o[l],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new jx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=nS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new Kve(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,a){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(qve,"."+this._enterClassName)).replace(Wve,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),l.push(...p)}return!o&&0==l.length&&a.push(function tve(n){return new st(3014,Hn)}()),l}}class rS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||xc,this._currentKeyframe[t]=xc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},a=function Yve(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(o=>{t[o]=xc})):th(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const c=GE(a[l],o,r);this._pendingStyles[l]=c,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:xc),this._updateStyle(l,c)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,c)=>{const p=th(l,!0);Object.keys(p).forEach(v=>{const b=p[v];"!"==b?e.add(v):b==xc&&t.add(v)}),r||(p.offset=c/this.duration),i.push(p)});const o=e.size?KE(e.values()):[],a=t.size?KE(t.values()):[];if(r){const l=i[0],c=Yg(l);l.offset=0,c.offset=1,i=[l,c]}return Bx(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}class Kve extends rS{constructor(e,t,r,i,o,a,l=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],a=r+t,l=t/a,c=th(e[0],!1);c.offset=0,o.push(c);const p=th(e[0],!1);p.offset=NH(l),o.push(p);const v=e.length-1;for(let b=1;b<=v;b++){let w=th(e[b],!1);w.offset=NH((t+w.offset*r)/a),o.push(w)}r=a,t=0,i="",e=o}return Bx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function NH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hx{}class Qve extends Hx{normalizePropertyName(e,t){return Fx(e)}normalizeStyleValue(e,t,r,i){let o="";const a=r.toString().trim();if(Xve[t]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function qge(n,e){return new st(3005,Hn)}())}return a+o}}const Xve=(()=>function Zve(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FH(n,e,t,r,i,o,a,l,c,p,v,b,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:a,timelines:l,queriedElements:c,preStyleProps:p,postStyleProps:v,totalTime:b,errors:w}}const zx={};class LH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Jve(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],o=this._stateStyles[e],a=i?i.buildStyles(t,r):{};return o?o.buildStyles(t,r):a}build(e,t,r,i,o,a,l,c,p,v){const b=[],w=this.ast.options&&this.ast.options.params||zx,R=this.buildStyles(r,l&&l.params||zx,b),N=c&&c.params||zx,z=this.buildStyles(i,N,b),Q=new Set,Y=new Map,ae=new Map,Ee="void"===i,Ve={params:Object.assign(Object.assign({},w),N)},De=v?[]:Ux(e,t,this.ast.animation,o,a,R,z,Ve,p,b);let xt=0;if(De.forEach(nt=>{xt=Math.max(nt.duration+nt.delay,xt)}),b.length)return FH(t,this._triggerName,r,i,Ee,R,z,[],[],Y,ae,xt,b);De.forEach(nt=>{const Pi=nt.element,ne=ba(Y,Pi,{});nt.preStyleProps.forEach(Fo=>ne[Fo]=!0);const ol=ba(ae,Pi,{});nt.postStyleProps.forEach(Fo=>ol[Fo]=!0),Pi!==t&&Q.add(Pi)});const Er=KE(Q.values());return FH(t,this._triggerName,r,i,Ee,R,z,De,Er,Y,ae,xt)}}class e_e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Yg(this.defaultParams);return Object.keys(e).forEach(o=>{const a=e[o];null!=a&&(i[o]=a)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const a=o;Object.keys(a).forEach(l=>{let c=a[l];c.length>1&&(c=GE(c,i,t));const p=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,p,c,t),r[p]=c})}}),r}}class n_e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new e_e(i.style,i.options&&i.options.params||{},r)}),VH(this.states,"true","1"),VH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new LH(e,i,this.states))}),this.fallbackTransition=function r_e(n,e,t){return new LH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function VH(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const i_e=new tS;class o_e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=Lx(this._driver,t,r,[]);if(r.length)throw function lve(n){return new st(3503,Hn)}();this._animations[e]=o}_buildPlayer(e,t,r){const i=e.element,o=gH(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations[e];let a;const l=new Map;if(o?(a=Ux(this._driver,t,o,Rx,zE,{},{},r,i_e,i),a.forEach(v=>{const b=ba(l,v.element,{});v.postStyleProps.forEach(w=>b[w]=null)})):(i.push(function uve(){return new st(3300,Hn)}()),a=[]),i.length)throw function cve(n){return new st(3504,Hn)}();l.forEach((v,b)=>{Object.keys(v).forEach(w=>{v[w]=this._driver.computeStyle(b,w,xc)})});const p=eh(a.map(v=>{const b=l.get(v.element);return this._buildPlayer(v,{},b)}));return this._playersById[e]=p,p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function dve(n){return new st(3301,Hn)}();return t}listen(e,t,r,i){const o=Ix(t,"","","");return Dx(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const BH="ng-animate-queued",qx="ng-animate-disabled",c_e=[],UH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rl="__ng_removed";class $x{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function m_e(n){return null!=n?n:null}(r?e.value:e),r){const o=Yg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Eb="void",Wx=new $x(Eb);class h_e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,il(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function hve(n,e){return new st(3302,Hn)}();if(null==r||0==r.length)throw function fve(n){return new st(3303,Hn)}();if(!function g_e(n){return"start"==n||"done"==n}(r))throw function pve(n,e){return new st(3400,Hn)}();const o=ba(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};o.push(a);const l=ba(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(il(e,qE),il(e,qE+"-"+t),l[t]=Wx),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(a);c>=0&&o.splice(c,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function mve(n){return new st(3401,Hn)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),a=new Gx(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(il(e,qE),il(e,qE+"-"+t),this._engine.statesByElement.set(e,l={}));let c=l[t];const p=new $x(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&p.absorbOptions(c.options),l[t]=p,c||(c=Wx),p.value!==Eb&&c.value===p.value){if(!function y_e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,p.params)){const N=[],z=o.matchStyles(c.value,c.params,N),Q=o.matchStyles(p.value,p.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Xf(e,z),Vu(e,Q)})}return}const w=ba(this._engine.playersByElement,e,[]);w.forEach(N=>{N.namespaceId==this.id&&N.triggerName==t&&N.queued&&N.destroy()});let I=o.matchTransition(c.value,p.value,e,p.params),R=!1;if(!I){if(!i)return;I=o.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:c,toState:p,player:a,isFallbackTransition:R}),R||(il(e,BH),a.onStart(()=>{Qg(e,BH)})),a.onDone(()=>{let N=this.players.indexOf(a);N>=0&&this.players.splice(N,1);const z=this._engine.playersByElement.get(e);if(z){let Q=z.indexOf(a);Q>=0&&z.splice(Q,1)}}),this.players.push(a),w.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,$E,!0);r.forEach(i=>{if(i[rl])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),a=new Map;if(o){const l=[];if(Object.keys(o).forEach(c=>{if(a.set(c,o[c].value),this._triggers[c]){const p=this.trigger(e,c,Eb,i);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&eh(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const a=o.name;if(i.has(a))return;i.add(a);const c=this._triggers[a].fallbackTransition,p=r[a]||Wx,v=new $x(Eb),b=new Gx(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:c,fromState:p,toState:v,player:b,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[rl];(!o||o===UH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){il(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==r.triggerName){const c=Ix(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Dx(r.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class f_e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new h_e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,o=r.length-1;if(o>=0){let a=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(t);for(;l;){const c=i.get(l);if(c){const p=r.indexOf(c);r.splice(p+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}}else for(let l=o;l>=0;l--)if(this.driver.containsElement(r[l].hostElement,t)){r.splice(l+1,0,e),a=!0;break}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let o=0;o<i.length;o++){const a=r[i[o]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&t.add(l)}}}return t}trigger(e,t,r,i){if(iS(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iS(t))return;const o=t[rl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),il(e,qx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qg(e,qx))}removeNode(e,t,r,i){if(iS(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[rl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return iS(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,$E,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Px,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[rl];if(r&&r.setForRemoval){if(e[rl]=UH,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qx))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)il(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?eh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function gve(n){return new st(3402,Hn)}()}_flushAnimations(e,t){const r=new tS,i=[],o=new Map,a=[],l=new Map,c=new Map,p=new Map,v=new Set;this.disabledNodes.forEach(ot=>{v.add(ot);const bt=this.driver.query(ot,".ng-animate-queued",!0);for(let jt=0;jt<bt.length;jt++)v.add(bt[jt])});const b=this.bodyNode,w=Array.from(this.statesByElement.keys()),I=zH(w,this.collectedEnterElements),R=new Map;let N=0;I.forEach((ot,bt)=>{const jt=Rx+N++;R.set(bt,jt),ot.forEach(Zt=>il(Zt,jt))});const z=[],Q=new Set,Y=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const bt=this.collectedLeaveElements[ot],jt=bt[rl];jt&&jt.setForRemoval&&(z.push(bt),Q.add(bt),jt.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(Zt=>Q.add(Zt)):Y.add(bt))}const ae=new Map,Ee=zH(w,Array.from(Q));Ee.forEach((ot,bt)=>{const jt=zE+N++;ae.set(bt,jt),ot.forEach(Zt=>il(Zt,jt))}),e.push(()=>{I.forEach((ot,bt)=>{const jt=R.get(bt);ot.forEach(Zt=>Qg(Zt,jt))}),Ee.forEach((ot,bt)=>{const jt=ae.get(bt);ot.forEach(Zt=>Qg(Zt,jt))}),z.forEach(ot=>{this.processLeaveNode(ot)})});const Ve=[],De=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(jt=>{const Zt=jt.player,oi=jt.element;if(Ve.push(Zt),this.collectedEnterElements.length){const Ki=oi[rl];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(jt.triggerName)){const Uu=Ki.previousTriggersValues.get(jt.triggerName),ar=this.statesByElement.get(jt.element);ar&&ar[jt.triggerName]&&(ar[jt.triggerName].value=Uu)}return void Zt.destroy()}}const Lo=!b||!this.driver.containsElement(b,oi),Vo=ae.get(oi),zl=R.get(oi),Mr=this._buildInstruction(jt,r,zl,Vo,Lo);if(Mr.errors&&Mr.errors.length)return void De.push(Mr);if(Lo)return Zt.onStart(()=>Xf(oi,Mr.fromStyles)),Zt.onDestroy(()=>Vu(oi,Mr.toStyles)),void i.push(Zt);if(jt.isFallbackTransition)return Zt.onStart(()=>Xf(oi,Mr.fromStyles)),Zt.onDestroy(()=>Vu(oi,Mr.toStyles)),void i.push(Zt);const Ab=[];Mr.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||Ab.push(Ki)}),Mr.timelines=Ab,r.append(oi,Mr.timelines),a.push({instruction:Mr,player:Zt,element:oi}),Mr.queriedElements.forEach(Ki=>ba(l,Ki,[]).push(Zt)),Mr.preStyleProps.forEach((Ki,Uu)=>{const ar=Object.keys(Ki);if(ar.length){let Kc=c.get(Uu);Kc||c.set(Uu,Kc=new Set),ar.forEach(Ib=>Kc.add(Ib))}}),Mr.postStyleProps.forEach((Ki,Uu)=>{const ar=Object.keys(Ki);let Kc=p.get(Uu);Kc||p.set(Uu,Kc=new Set),ar.forEach(Ib=>Kc.add(Ib))})});if(De.length){const ot=[];De.forEach(bt=>{ot.push(function vve(n,e){return new st(3505,Hn)}())}),Ve.forEach(bt=>bt.destroy()),this.reportError(ot)}const xt=new Map,Er=new Map;a.forEach(ot=>{const bt=ot.element;r.has(bt)&&(Er.set(bt,bt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,xt))}),i.forEach(ot=>{const bt=ot.element;this._getPreviousPlayers(bt,!1,ot.namespaceId,ot.triggerName,null).forEach(Zt=>{ba(xt,bt,[]).push(Zt),Zt.destroy()})});const nt=z.filter(ot=>$H(ot,c,p)),Pi=new Map;HH(Pi,this.driver,Y,p,xc).forEach(ot=>{$H(ot,c,p)&&nt.push(ot)});const ol=new Map;I.forEach((ot,bt)=>{HH(ol,this.driver,new Set(ot),c,"!")}),nt.forEach(ot=>{const bt=Pi.get(ot),jt=ol.get(ot);Pi.set(ot,Object.assign(Object.assign({},bt),jt))});const Fo=[],dh=[],Bu={};a.forEach(ot=>{const{element:bt,player:jt,instruction:Zt}=ot;if(r.has(bt)){if(v.has(bt))return jt.onDestroy(()=>Vu(bt,Zt.toStyles)),jt.disabled=!0,jt.overrideTotalTime(Zt.totalTime),void i.push(jt);let oi=Bu;if(Er.size>1){let Vo=bt;const zl=[];for(;Vo=Vo.parentNode;){const Mr=Er.get(Vo);if(Mr){oi=Mr;break}zl.push(Vo)}zl.forEach(Mr=>Er.set(Mr,oi))}const Lo=this._buildAnimation(jt.namespaceId,Zt,xt,o,ol,Pi);if(jt.setRealPlayer(Lo),oi===Bu)Fo.push(jt);else{const Vo=this.playersByElement.get(oi);Vo&&Vo.length&&(jt.parentPlayer=eh(Vo)),i.push(jt)}}else Xf(bt,Zt.fromStyles),jt.onDestroy(()=>Vu(bt,Zt.toStyles)),dh.push(jt),v.has(bt)&&i.push(jt)}),dh.forEach(ot=>{const bt=o.get(ot.element);if(bt&&bt.length){const jt=eh(bt);ot.setRealPlayer(jt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<z.length;ot++){const bt=z[ot],jt=bt[rl];if(Qg(bt,zE),jt&&jt.hasAnimation)continue;let Zt=[];if(l.size){let Lo=l.get(bt);Lo&&Lo.length&&Zt.push(...Lo);let Vo=this.driver.query(bt,Px,!0);for(let zl=0;zl<Vo.length;zl++){let Mr=l.get(Vo[zl]);Mr&&Mr.length&&Zt.push(...Mr)}}const oi=Zt.filter(Lo=>!Lo.destroyed);oi.length?v_e(this,bt,oi):this.processLeaveNode(bt)}return z.length=0,Fo.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const bt=this.players.indexOf(ot);this.players.splice(bt,1)}),ot.play()}),Fo}elementContainsData(e,t){let r=!1;const i=t[rl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let a=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(a=l)}else{const l=this.playersByElement.get(e);if(l){const c=!o||o==Eb;l.forEach(p=>{p.queued||!c&&p.triggerName!=i||a.push(p)})}}return(r||i)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(e,t,r){const o=t.element,a=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const p=c.element,v=p!==o,b=ba(r,p,[]);this._getPreviousPlayers(p,v,a,l,t.toState).forEach(I=>{const R=I.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),I.destroy(),b.push(I)})}Xf(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,a){const l=t.triggerName,c=t.element,p=[],v=new Set,b=new Set,w=t.timelines.map(R=>{const N=R.element;v.add(N);const z=N[rl];if(z&&z.removedBeforeQueried)return new ay(R.duration,R.delay);const Q=N!==c,Y=function __e(n){const e=[];return qH(n,e),e}((r.get(N)||c_e).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===N),ae=o.get(N),Ee=a.get(N),Ve=gH(0,this._normalizer,0,R.keyframes,ae,Ee),De=this._buildPlayer(R,Ve,Y);if(R.subTimeline&&i&&b.add(N),Q){const xt=new Gx(e,l,N);xt.setRealPlayer(De),p.push(xt)}return De});p.forEach(R=>{ba(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function p_e(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,R.element,R))}),v.forEach(R=>il(R,DH));const I=eh(w);return I.onDestroy(()=>{v.forEach(R=>Qg(R,DH)),Vu(c,t.toStyles)}),b.forEach(R=>{ba(i,R,[]).push(I)}),I}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ay(e.duration,e.delay)}}class Gx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ay,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Dx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ba(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iS(n){return n&&1===n.nodeType}function jH(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function HH(n,e,t,r,i){const o=[];t.forEach(c=>o.push(jH(c)));const a=[];r.forEach((c,p)=>{const v={};c.forEach(b=>{const w=v[b]=e.computeStyle(p,b,i);(!w||0==w.length)&&(p[rl]=d_e,a.push(p))}),n.set(p,v)});let l=0;return t.forEach(c=>jH(c,o[l++])),a}function zH(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),o=new Map;function a(l){if(!l)return 1;let c=o.get(l);if(c)return c;const p=l.parentNode;return c=t.has(p)?p:i.has(p)?1:a(p),o.set(l,c),c}return e.forEach(l=>{const c=a(l);1!==c&&t.get(c).push(l)}),t}function il(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Qg(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function v_e(n,e,t){eh(t).onDone(()=>n.processLeaveNode(e))}function qH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof E8?qH(r.players,e):e.push(r)}}function $H(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class oS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new f_e(e,t,r),this._timelineEngine=new o_e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const a=e+"-"+i;let l=this._triggerCache[a];if(!l){const c=[],v=Lx(this._driver,o,c,[]);if(c.length)throw function sve(n,e){return new st(3404,Hn)}();l=function t_e(n,e,t){return new n_e(n,e,t)}(i,v,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,a]=vH(r);this._timelineEngine.command(o,t,a,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[a,l]=vH(r);return this._timelineEngine.listen(a,t,l,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let w_e=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Vu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vu(this._element,this._initialStyles),this._endStyles&&(Vu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xf(this._element,this._endStyles),this._endStyles=null),Vu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kx(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];C_e(i)&&(e=e||{},e[i]=n[i])}return e}function C_e(n){return"display"===n||"position"===n}class WH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:xH(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E_e{validateStyleProperty(e){return wH(e)}matchesElement(e,t){return!1}containsElement(e,t){return CH(e,t)}getParentElement(e){return Mx(e)}query(e,t,r){return EH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,a=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const p={},v=a.filter(w=>w instanceof WH);(function Ave(n,e){return 0===n||0===e})(r,i)&&v.forEach(w=>{let I=w.currentSnapshot;Object.keys(I).forEach(R=>p[R]=I[R])}),t=function Ive(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let o=e[0],a=[];if(r.forEach(l=>{o.hasOwnProperty(l)||a.push(l),o[l]=t[l]}),a.length)for(var i=1;i<e.length;i++){let l=e[i];a.forEach(function(c){l[c]=xH(n,c)})}}return e}(e,t=t.map(w=>th(w,!1)),p);const b=function b_e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Kx(e[0]),e.length>1&&(r=Kx(e[e.length-1]))):e&&(t=Kx(e)),t||r?new w_e(n,t,r):null}(e,t);return new WH(e,t,c,b)}}let S_e=(()=>{class n extends _8{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:eo.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?y8(t):t;return GH(this._renderer,null,r,"register",[i]),new T_e(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(oe(P_),oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class T_e extends class Tie{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new D_e(this._id,e,t||{},this._renderer)}}class D_e{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return GH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function GH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const KH="@.disabled";let A_e=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const l=null==a?void 0:a.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let v=this._rendererCache.get(o);return v||(v=new YH("",o,this.engine),this._rendererCache.set(o,v)),v}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const c=v=>{Array.isArray(v)?v.forEach(c):this.engine.registerTrigger(a,l,t,v.name,v)};return r.data.animation.forEach(c),new I_e(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(oe(P_),oe(oS),oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class YH{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class I_e extends YH{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function k_e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),a="";return"@"!=o.charAt(0)&&([o,a]=function M_e(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r)}}let x_e=(()=>{class n extends oS{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(xx),oe(Hx))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Gc=new We("AnimationModuleType"),QH=[{provide:_8,useClass:S_e},{provide:Hx,useFactory:function R_e(){return new Qve}},{provide:oS,useClass:x_e},{provide:P_,useFactory:function P_e(n,e,t){return new A_e(n,e,t)},deps:[h1,oS,bn]}],XH=[{provide:xx,useFactory:()=>new E_e},{provide:Gc,useValue:"BrowserAnimations"},...QH],O_e=[{provide:xx,useClass:SH},{provide:Gc,useValue:"NoopAnimations"},...QH];let N_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?O_e:XH}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:XH,imports:[q5]}),n})();function F_e(n,e){if(1&n&&le(0,"mat-pseudo-checkbox",4),2&n){const t=de();te("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function L_e(n,e){if(1&n&&(T(0,"span",5),x(1),A()),2&n){const t=de();j(1),Ke("(",t.group.label,")")}}const V_e=["*"];let B_e=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),U_e=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const H_e=new We("mat-sanity-checks",{providedIn:"root",factory:function j_e(){return!0}});let Gi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!rx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(oe(pH),oe(H_e,8),oe(Mn))},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[pb],pb]}),n})();function Sb(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Lr(e)}}}function Yx(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function JH(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Lr(e)}}}function z_e(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?nl(t):this.defaultTabIndex}}}function ez(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ie,this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}function tz(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ye(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let Qx=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $_e{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nz={enterDuration:225,exitDuration:150},Xx=gb({passive:!0}),rz=["mousedown","touchstart"],iz=["mouseup","mouseleave","touchend","touchcancel"];class G_e{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},nz),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function Y_e(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),l=e-i.left,c=t-i.top,p=o.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=l-a+"px",v.style.top=c-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=r.color&&(v.style.backgroundColor=r.color),v.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(v),function K_e(n){window.getComputedStyle(n).getPropertyValue("opacity")}(v),v.style.transform="scale(1)";const b=new $_e(this,v,r);return b.state=0,this._activeRipples.add(b),r.persistent||(this._mostRecentTransientRipple=b),this._runTimeoutOutsideZone(()=>{const w=b===this._mostRecentTransientRipple;b.state=1,!r.persistent&&(!w||!this._isPointerDown)&&b.fadeOut()},p),b}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},nz),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=qc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(rz))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(iz),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=uH(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!cH(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Xx)})})}_removeTriggerEvents(){this._triggerElement&&(rz.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xx)}),this._pointerUpEventsRegistered&&iz.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xx)}))}}const Q_e=new We("mat-ripple-global-options");let Zx=(()=>{class n{constructor(t,r,i,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new G_e(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(bn),H(Oo),H(Q_e,8),H(Gc,8))},n.\u0275dir=Le({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Ei("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),oz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[Gi],Gi]}),n})(),X_e=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(H(Gc,8))},n.\u0275cmp=Ft({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&Ei("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Z_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[Gi]]}),n})();const sz=new We("MAT_OPTION_PARENT_COMPONENT"),az=new We("MatOptgroup");let J_e=0;class eye{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let tye=(()=>{class n{constructor(t,r,i,o){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+J_e++,this.onSelectionChange=new Rn,this._stateChanges=new Ie}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Lr(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Gg(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new eye(this,t))}}return n.\u0275fac=function(t){Vm()},n.\u0275dir=Le({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),lz=(()=>{class n extends tye{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(ha),H(sz,8),H(az,8))},n.\u0275cmp=Ft({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&Te("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&t&&(Ow("id",r.id),ir("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),Ei("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[dt],ngContentSelectors:V_e,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(Sd(),J(0,F_e,1,2,"mat-pseudo-checkbox",0),T(1,"span",1),oo(2),A(),J(3,L_e,2,1,"span",2),le(4,"div",3)),2&t&&(te("ngIf",r.multiple),j(3),te("ngIf",r.group&&r.group._inert),j(1),te("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[X_e,ri,Zx],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function uz(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let a=0;a<n+1;a++)r[a].group&&r[a].group===i[o]&&o++;return o}return 0}let cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[oz,Ac,Gi,Z_e]]}),n})();const rye=[[["caption"]],[["colgroup"],["col"]]],iye=["caption","colgroup, col"];let Jf=(()=>{class n extends NE{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275cmp=Ft({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&Ei("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[vn([{provide:fb,useClass:P7},{provide:NE,useExisting:n},{provide:qg,useExisting:n},{provide:fx,useClass:$7},{provide:_x,useValue:null}]),dt],ngContentSelectors:iye,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(Sd(rye),oo(0),oo(1,1),Eu(2,0)(3,1)(4,2)(5,3))},directives:[RE,xE,OE,PE],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),nh=(()=>{class n extends $g{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","matCellDef",""]],features:[vn([{provide:$g,useExisting:n}]),dt]}),n})(),rh=(()=>{class n extends Wg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","matHeaderCellDef",""]],features:[vn([{provide:Wg,useExisting:n}]),dt]}),n})(),ih=(()=>{class n extends $c{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[vn([{provide:$c,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),dt]}),n})(),oh=(()=>{class n extends dx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[dt]}),n})(),sh=(()=>{class n extends hx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[dt]}),n})(),ep=(()=>{class n extends bb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[vn([{provide:bb,useExisting:n}]),dt]}),n})(),tp=(()=>{class n extends kE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[vn([{provide:kE,useExisting:n}]),dt]}),n})(),np=(()=>{class n extends mx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275cmp=Ft({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[vn([{provide:mx,useExisting:n}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Eu(0,0)},directives:[Wc],encapsulation:2}),n})(),rp=(()=>{class n extends vx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275cmp=Ft({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[vn([{provide:vx,useExisting:n}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Eu(0,0)},directives:[Wc],encapsulation:2}),n})(),ip=(()=>{class n extends ME{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275dir=Le({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[vn([{provide:ME,useExisting:n}]),dt]}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[sge,Gi],Gi]}),n})();class Xg extends class pye extends class pme{}{constructor(e=[]){super(),this._renderData=new Ko([]),this._filter=new Ko(""),this._internalPageChanges=new Ie,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,r)=>{const i=t[r];if(R7(i)){const o=Number(i);return o<9007199254740991?o:i}return i},this.sortData=(t,r)=>{const i=r.active,o=r.direction;return i&&""!=o?t.sort((a,l)=>{let c=this.sortingDataAccessor(a,i),p=this.sortingDataAccessor(l,i);const v=typeof c,b=typeof p;v!==b&&("number"===v&&(c+=""),"number"===b&&(p+=""));let w=0;return null!=c&&null!=p?c>p?w=1:c<p&&(w=-1):null!=c?w=1:null!=p&&(w=-1),w*("asc"==o?1:-1)}):t},this.filterPredicate=(t,r)=>{const i=Object.keys(t).reduce((a,l)=>a+t[l]+"\u25ec","").toLowerCase(),o=r.trim().toLowerCase();return-1!=i.indexOf(o)},this._data=new Ko(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){var e;const t=this._sort?nr(this._sort.sortChange,this._sort.initialized):Gt(null),r=this._paginator?nr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Gt(null),o=W_([this._data,this._filter]).pipe(ye(([c])=>this._filterData(c))),a=W_([o,t]).pipe(ye(([c])=>this._orderData(c))),l=W_([a,r]).pipe(ye(([c])=>this._pageData(c)));null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=l.subscribe(c=>this._renderData.next(c))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var e;null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=null}}{}const mye=["mat-button",""],gye=["*"],_ye=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yye=Yx(Sb(JH(class{constructor(n){this._elementRef=n}})));let bye=(()=>{class n extends yye{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of _ye)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(Ex),H(Gc,8))},n.\u0275cmp=Ft({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&hr(Zx,5),2&t){let i;Lt(i=Vt())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(ir("disabled",r.disabled||null),Ei("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[dt],attrs:mye,ngContentSelectors:gye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Sd(),T(0,"span",0),oo(1),A(),le(2,"span",1)(3,"span",2)),2&t&&(j(2),Ei("mat-button-ripple-round",r.isRoundButton||r.isIconButton),te("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Zx],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),wye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[oz,Gi],Gi]}),n})();class Jx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class hz extends Jx{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class fz extends Jx{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Cye extends Jx{constructor(e){super(),this.element=e instanceof Wn?e.nativeElement:e}}class Sye extends class Eye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof hz?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Cye?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const l=a.element,c=this._document.createComment("dom-portal");l.parentNode.insertBefore(c,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(l,c)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ji.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Tye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();const pz=Cme();class Aye{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ri(-this._previousScrollPosition.left),e.style.top=Ri(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),pz&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pz&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Iye{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mz{enable(){}disable(){}attach(){}}function eR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function gz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kye{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();eR(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mye=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new mz,this.close=a=>new Iye(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Aye(this._viewportRuler,this._document),this.reposition=a=>new kye(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(oe(H7),oe(yb),oe(bn),oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vz{constructor(e){if(this.scrollStrategy=new mz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class xye{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Rye{constructor(e,t,r,i,o,a,l,c,p){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=c,this._outsideClickDispatcher=p,this._backdropElement=null,this._backdropClick=new Ie,this._attachments=new Ie,this._detachments=new Ie,this._locationChanges=Tt.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Ie,this._outsidePointerEvents=new Ie,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ri(this._config.width),e.height=Ri(this._config.height),e.minWidth=Ri(this._config.minWidth),e.minHeight=Ri(this._config.minHeight),e.maxWidth=Ri(this._config.maxWidth),e.maxHeight=Ri(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=wE(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Dr(nr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let _z=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||rx()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),rx()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(Oo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yz="cdk-overlay-connected-position-bounding-box",Pye=/([A-Za-z%]+)$/;class Oye{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie,this._resizeSubscription=Tt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(yz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let l of this._preferredPositions){let c=this._getOriginPoint(e,i,l),p=this._getOverlayPoint(c,t,l),v=this._getOverlayFit(p,t,r,l);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,c);this._canFitWithFlexibleDimensions(v,p,r)?o.push({position:l,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,l)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:p,originPoint:c,position:l,overlayRect:t})}if(o.length){let l=null,c=-1;for(const p of o){const v=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);v>c&&(c=v,l=p)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&op(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;i="start"==r.originX?a:l}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=wz(t);let{x:a,y:l}=e,c=this._getOffset(i,"x"),p=this._getOffset(i,"y");c&&(a+=c),p&&(l+=p);let w=0-l,I=l+o.height-r.height,R=this._subtractOverflows(o.width,0-a,a+o.width-r.width),N=this._subtractOverflows(o.height,w,I),z=R*N;return{visibleArea:z,isCompletelyWithinViewport:o.width*o.height===z,fitsInViewportVertically:N===o.height,fitsInViewportHorizontally:R==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,a=bz(this._overlayRef.getConfig().minHeight),l=bz(this._overlayRef.getConfig().minWidth),p=e.fitsInViewportHorizontally||null!=l&&l<=o;return(e.fitsInViewportVertically||null!=a&&a<=i)&&p}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=wz(t),o=this._viewportRect,a=Math.max(e.x+i.width-o.width,0),l=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),p=Math.max(o.left-r.left-e.x,0);let v=0,b=0;return v=i.width<=o.width?p||-a:e.x<this._viewportMargin?o.left-r.left-e.x:0,b=i.height<=o.height?c||-l:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:v,y:b},{x:e.x+v,y:e.y+b}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new xye(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,a,l,v,b,w;if("top"===t.overlayY)a=e.y,o=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)l=r.height-e.y+2*this._viewportMargin,o=r.height-l+this._viewportMargin;else{const I=Math.min(r.bottom-e.y+r.top,e.y),R=this._lastBoundingBoxSize.height;o=2*I,a=e.y-I,o>R&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-R/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)w=r.width-e.x+this._viewportMargin,v=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)b=e.x,v=r.right-e.x;else{const I=Math.min(r.right-e.x+r.left,e.x),R=this._lastBoundingBoxSize.width;v=2*I,b=e.x-I,v>R&&!this._isInitialRender&&!this._growAfterOpen&&(b=e.x-R/2)}return{top:a,left:b,bottom:l,right:w,width:v,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Ri(r.height),i.top=Ri(r.top),i.bottom=Ri(r.bottom),i.width=Ri(r.width),i.left=Ri(r.left),i.right=Ri(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ri(o)),a&&(i.maxWidth=Ri(a))}this._lastBoundingBoxSize=r,op(this._boundingBox.style,i)}_resetBoundingBoxStyles(){op(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){op(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const v=this._viewportRuler.getViewportScrollPosition();op(r,this._getExactOverlayY(t,e,v)),op(r,this._getExactOverlayX(t,e,v))}else r.position="static";let l="",c=this._getOffset(t,"x"),p=this._getOffset(t,"y");c&&(l+=`translateX(${c}px) `),p&&(l+=`translateY(${p}px)`),r.transform=l.trim(),a.maxHeight&&(i?r.maxHeight=Ri(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Ri(a.maxWidth):o&&(r.maxWidth="")),op(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ri(o.y),i}_getExactOverlayX(e,t,r){let a,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ri(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gz(e,r),isOriginOutsideView:eR(e,r),isOverlayClipped:gz(t,r),isOverlayOutsideView:eR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&wE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Wn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function op(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Pye);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Cz="cdk-global-overlay-wrapper";class Nye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Cz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:l}=r,c=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==o&&"100vh"!==o||l&&"100%"!==l&&"100vh"!==l);e.position=this._cssPosition,e.marginLeft=c?"0":this._leftOffset,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,c?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Cz),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Fye=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Nye}flexibleConnectedTo(t){return new Oye(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(oe(yb),oe(Mn),oe(Oo),oe(_z))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ez=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lye=(()=>{class n extends Ez{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(bn,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vye=(()=>{class n extends Ez{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Kf(o)},this._clickListener=o=>{const a=Kf(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let p=c.length-1;p>-1;p--){const v=c[p];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(l))break;const b=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(o)):b.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(oe(Mn),oe(Oo),oe(bn,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bye=0,Zg=(()=>{class n{constructor(t,r,i,o,a,l,c,p,v,b,w){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=p,this._directionality=v,this._location=b,this._outsideClickDispatcher=w}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new vz(t);return a.direction=a.direction||this._directionality.value,new Rye(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Bye++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Wm)),new Sye(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(oe(Mye),oe(_z),oe(rf),oe(Fye),oe(Lye),oe(ji),oe(bn),oe(Mn),oe(Hg),oe(j_),oe(Vye))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Uye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Sz=new We("cdk-connected-overlay-scroll-strategy");let Tz=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(H(Wn))},n.\u0275dir=Le({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Dz=(()=>{class n{constructor(t,r,i,o,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Tt.EMPTY,this._attachSubscription=Tt.EMPTY,this._detachSubscription=Tt.EMPTY,this._positionSubscription=Tt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Rn,this.positionChange=new Rn,this.attach=new Rn,this.detach=new Rn,this.overlayKeydown=new Rn,this.overlayOutsideClick=new Rn,this._templatePortal=new fz(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Lr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Lr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Lr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Lr(t)}get push(){return this._push}set push(t){this._push=Lr(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Uye);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Gg(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new vz({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Tz?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Dye(n,e=!1){return Et((t,r)=>{let i=0;t.subscribe(Bt(r,o=>{const a=n(o,i++);(a||e)&&r.next(o),!a&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(H(Zg),H(so),H(ao),H(Sz),H(Hg,8))},n.\u0275dir=Le({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Nr]}),n})();const Hye={provide:Sz,deps:[Zg],useFactory:function jye(n){return()=>n.scrollStrategies.reposition()}};let Az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[Zg,Hye],imports:[[pb,Tye,lx],lx]}),n})();const zye=["connectionContainer"],qye=["inputContainer"],$ye=["label"];function Wye(n,e){1&n&&(nn(0),T(1,"div",14),le(2,"div",15)(3,"div",16)(4,"div",17),A(),T(5,"div",18),le(6,"div",15)(7,"div",16)(8,"div",17),A(),rn())}function Gye(n,e){if(1&n){const t=er();T(0,"div",19),Te("cdkObserveContent",function(){return ft(t),de().updateOutlineGap()}),oo(1,1),A()}2&n&&te("cdkObserveContentDisabled","outline"!=de().appearance)}function Kye(n,e){if(1&n&&(nn(0),oo(1,2),T(2,"span"),x(3),A(),rn()),2&n){const t=de(2);j(3),mt(t._control.placeholder)}}function Yye(n,e){1&n&&oo(0,3,["*ngSwitchCase","true"])}function Qye(n,e){1&n&&(T(0,"span",23),x(1," *"),A())}function Xye(n,e){if(1&n){const t=er();T(0,"label",20,21),Te("cdkObserveContent",function(){return ft(t),de().updateOutlineGap()}),J(2,Kye,4,1,"ng-container",12),J(3,Yye,1,0,"ng-content",12),J(4,Qye,2,0,"span",22),A()}if(2&n){const t=de();Ei("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),te("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ir("for",t._control.id)("aria-owns",t._control.id),j(2),te("ngSwitchCase",!1),j(1),te("ngSwitchCase",!0),j(1),te("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Zye(n,e){1&n&&(T(0,"div",24),oo(1,4),A())}function Jye(n,e){if(1&n&&(T(0,"div",25),le(1,"span",26),A()),2&n){const t=de();j(1),Ei("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ebe(n,e){1&n&&(T(0,"div"),oo(1,5),A()),2&n&&te("@transitionMessages",de()._subscriptAnimationState)}function tbe(n,e){if(1&n&&(T(0,"div",30),x(1),A()),2&n){const t=de(2);te("id",t._hintLabelId),j(1),mt(t.hintLabel)}}function nbe(n,e){if(1&n&&(T(0,"div",27),J(1,tbe,2,2,"div",28),oo(2,6),le(3,"div",29),oo(4,7),A()),2&n){const t=de();te("@transitionMessages",t._subscriptAnimationState),j(1),te("ngIf",t.hintLabel)}}const rbe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ibe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],obe=new We("MatError"),sbe={transitionMessages:Nl("transitionMessages",[vi("enter",On({opacity:1,transform:"translateY(0%)"})),lo("void => enter",[On({opacity:0,transform:"translateY(-5px)"}),Qo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let aS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n}),n})();const abe=new We("MatHint");let ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["mat-label"]]}),n})(),lbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Le({type:n,selectors:[["mat-placeholder"]]}),n})();const ube=new We("MatPrefix"),cbe=new We("MatSuffix");let Iz=0;const hbe=Yx(class{constructor(n){this._elementRef=n}},"primary"),fbe=new We("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tR=new We("MatFormField");let sp=(()=>{class n extends hbe{constructor(t,r,i,o,a,l,c){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ie,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Iz++,this._labelId="mat-form-field-label-"+Iz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Lr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(cf(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Dr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),nr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cf(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cf(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Dr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,EE(this._label.nativeElement,"transitionend").pipe(pr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const v=r.querySelectorAll(`${i}, ${o}`);for(let b=0;b<v.length;b++)v[b].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const c=r.querySelectorAll(i),p=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const v=r.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(v),w=t.children,I=this._getStartEnd(w[0].getBoundingClientRect());let R=0;for(let N=0;N<w.length;N++)R+=w[N].offsetWidth;a=Math.abs(I-b)-5,l=R>0?.75*R+10:0}for(let v=0;v<c.length;v++)c[v].style.width=`${a}px`;for(let v=0;v<p.length;v++)p[v].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(ha),H(Hg,8),H(fbe,8),H(Oo),H(bn),H(Gc,8))},n.\u0275cmp=Ft({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Gr(i,aS,5),Gr(i,aS,7),Gr(i,ah,5),Gr(i,ah,7),Gr(i,lbe,5),Gr(i,obe,5),Gr(i,abe,5),Gr(i,ube,5),Gr(i,cbe,5)),2&t){let o;Lt(o=Vt())&&(r._controlNonStatic=o.first),Lt(o=Vt())&&(r._controlStatic=o.first),Lt(o=Vt())&&(r._labelChildNonStatic=o.first),Lt(o=Vt())&&(r._labelChildStatic=o.first),Lt(o=Vt())&&(r._placeholderChild=o.first),Lt(o=Vt())&&(r._errorChildren=o),Lt(o=Vt())&&(r._hintChildren=o),Lt(o=Vt())&&(r._prefixChildren=o),Lt(o=Vt())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(hr(zye,7),hr(qye,5),hr($ye,5)),2&t){let i;Lt(i=Vt())&&(r._connectionContainerRef=i.first),Lt(i=Vt())&&(r._inputContainerRef=i.first),Lt(i=Vt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Ei("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[vn([{provide:tR,useExisting:n}]),dt],ngContentSelectors:ibe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Sd(rbe),T(0,"div",0)(1,"div",1,2),Te("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),J(3,Wye,9,0,"ng-container",3),J(4,Gye,2,1,"div",4),T(5,"div",5,6),oo(7),T(8,"span",7),J(9,Xye,5,16,"label",8),A()(),J(10,Zye,2,0,"div",9),A(),J(11,Jye,2,4,"div",10),T(12,"div",11),J(13,ebe,2,1,"div",12),J(14,nbe,5,2,"div",13),A()()),2&t&&(j(3),te("ngIf","outline"==r.appearance),j(1),te("ngIf",r._prefixChildren.length),j(5),te("ngIf",r._hasFloatingLabel()),j(1),te("ngIf",r._suffixChildren.length),j(1),te("ngIf","outline"!=r.appearance),j(1),te("ngSwitch",r._getDisplayedMessages()),j(1),te("ngSwitchCase","error"),j(1),te("ngSwitchCase","hint"))},directives:[ri,bge,Km,a1],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sbe.transitionMessages]},changeDetection:0}),n})(),nR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[Ac,Gi,nH],Gi]}),n})();const pbe=["trigger"],mbe=["panel"];function gbe(n,e){if(1&n&&(T(0,"span",8),x(1),A()),2&n){const t=de();j(1),mt(t.placeholder)}}function vbe(n,e){if(1&n&&(T(0,"span",12),x(1),A()),2&n){const t=de(2);j(1),mt(t.triggerValue)}}function _be(n,e){1&n&&oo(0,0,["*ngSwitchCase","true"])}function ybe(n,e){1&n&&(T(0,"span",9),J(1,vbe,2,1,"span",10),J(2,_be,1,0,"ng-content",11),A()),2&n&&(te("ngSwitch",!!de().customTrigger),j(2),te("ngSwitchCase",!0))}function bbe(n,e){if(1&n){const t=er();T(0,"div",13)(1,"div",14,15),Te("@transformPanel.done",function(i){return ft(t),de()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return ft(t),de()._handleKeydown(i)}),oo(3,1),A()()}if(2&n){const t=de();te("@transformPanelWrap",void 0),j(1),function bL(n,e,t){xl(ds,Tu,km(xe(),n,e,t),!0)}("mat-select-panel ",t._getPanelTheme(),""),Go("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),te("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),ir("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const wbe=[[["mat-select-trigger"]],"*"],Cbe=["mat-select-trigger","*"],Mz={transformPanelWrap:Nl("transformPanelWrap",[lo("* => void",w8("@transformPanel",[b8()],{optional:!0}))]),transformPanel:Nl("transformPanel",[vi("void",On({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),vi("showing",On({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),vi("showing-multiple",On({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),lo("void => *",Qo("120ms cubic-bezier(0, 0, 0.2, 1)")),lo("* => void",Qo("100ms 25ms linear",On({opacity:0})))])};let xz=0;const Pz=new We("mat-select-scroll-strategy"),Dbe=new We("MAT_SELECT_CONFIG"),Abe={provide:Pz,deps:[Zg],useFactory:function Tbe(n){return()=>n.scrollStrategies.reposition()}};class Ibe{constructor(e,t){this.source=e,this.value=t}}const kbe=JH(z_e(Sb(ez(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),Mbe=new We("MatSelectTrigger");let xbe=(()=>{class n extends kbe{constructor(t,r,i,o,a,l,c,p,v,b,w,I,R,N){var z,Q,Y;super(a,o,c,p,b),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=l,this._parentFormField=v,this._liveAnnouncer=R,this._defaultOptions=N,this._panelOpen=!1,this._compareWith=(ae,Ee)=>ae===Ee,this._uid="mat-select-"+xz++,this._triggerAriaLabelledBy=null,this._destroy=new Ie,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+xz++,this._panelDoneAnimatingStream=new Ie,this._overlayPanelClass=(null===(z=this._defaultOptions)||void 0===z?void 0:z.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Y=null===(Q=this._defaultOptions)||void 0===Q?void 0:Q.disableOptionCentering)&&void 0!==Y&&Y,this.ariaLabel="",this.optionSelectionChanges=fI(()=>{const ae=this.options;return ae?ae.changes.pipe(cf(ae),Ic(()=>nr(...ae.map(Ee=>Ee.onSelectionChange)))):this._ngZone.onStable.pipe(pr(1),Ic(()=>this.optionSelectionChanges))}),this.openedChange=new Rn,this._openedStream=this.openedChange.pipe(Wa(ae=>ae),ye(()=>{})),this._closedStream=this.openedChange.pipe(Wa(ae=>!ae),ye(()=>{})),this.selectionChange=new Rn,this.valueChange=new Rn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==N?void 0:N.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=N.typeaheadDebounceInterval),this._scrollStrategyFactory=I,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Nn.required))&&void 0!==o&&o}set required(t){this._required=Lr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Lr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Lr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=nl(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new mme(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(eH(),Dr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Dr(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(cf(null),Dr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,o=13===r||32===r,a=this._keyManager;if(!a.isTyping()&&o&&!Gg(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(t);const c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,o=40===i||38===i,a=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(a||13!==i&&32!==i||!r.activeItem||Gg(t))if(!a&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{const l=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==l&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(pr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(o){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new Sge(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Dr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Dr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=nr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dr(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),nr(...this.options.map(r=>r._stateChanges)).pipe(Dr(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(H(yb),H(ha),H(bn),H(Qx),H(Wn),H(Hg,8),H(hy,8),H(vs,8),H(tR,8),H(xu,10),dc("tabindex"),H(Pz),H(Fge),H(Dbe,8))},n.\u0275dir=Le({type:n,viewQuery:function(t,r){if(1&t&&(hr(pbe,5),hr(mbe,5),hr(Dz,5)),2&t){let i;Lt(i=Vt())&&(r.trigger=i.first),Lt(i=Vt())&&(r.panel=i.first),Lt(i=Vt())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[dt,Nr]}),n})(),Rbe=(()=>{class n extends xbe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const o=this._getItemHeight();return Math.min(Math.max(0,o*t-r+o/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Dr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=uz(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function nye(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Ibe(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),o=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let p=this._selectionModel.selected[0]||this.options.first;a=p&&p.group?32:16}i||(a*=-1);const l=0-(t.left+a-(i?o:0)),c=t.right+a-r.width+(i?0:o);l>0?a+=l+8:c>0&&(a-=c+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const o=this._getItemHeight(),a=(o-this._triggerRect.height)/2,l=Math.floor(256/o);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?t*o:this._scrollTop===i?(t-(this._getItemCount()-l))*o+(o-(this._getItemCount()*o-256)%o):r-o/2,Math.round(-1*c-a))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,a=i.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),p=Math.min(this._getItemCount()*r,256)-l-this._triggerRect.height;p>a?this._adjustPanelUp(p,a):l>o?this._adjustPanelDown(l,o,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const o=Math.round(t-r);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),a=r*t-i;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=uz(l,this.options,this.optionGroups);const c=i/2;this._scrollTop=this._calculateOverlayScroll(l,c,a),this._offsetY=this._calculateOverlayOffsetY(l,c,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}(),n.\u0275cmp=Ft({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(Gr(i,Mbe,5),Gr(i,lz,5),Gr(i,az,5)),2&t){let o;Lt(o=Vt())&&(r.customTrigger=o.first),Lt(o=Vt())&&(r.options=o),Lt(o=Vt())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&Te("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(ir("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),Ei("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[vn([{provide:aS,useExisting:n},{provide:sz,useExisting:n}]),dt],ngContentSelectors:Cbe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(Sd(wbe),T(0,"div",0,1),Te("click",function(){return r.toggle()}),T(3,"div",2),J(4,gbe,2,1,"span",3),J(5,ybe,3,2,"span",4),A(),T(6,"div",5),le(7,"div",6),A()(),J(8,bbe,4,14,"ng-template",7),Te("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=Cu(1);ir("aria-owns",r.panelOpen?r.id+"-panel":null),j(3),te("ngSwitch",r.empty),ir("id",r._valueId),j(1),te("ngSwitchCase",!0),j(1),te("ngSwitchCase",!1),j(3),te("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[Tz,Km,a1,D5,Dz,s1],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[Mz.transformPanelWrap,Mz.transformPanel]},changeDetection:0}),n})(),Pbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[Abe],imports:[[Ac,Az,cz,Gi],AE,nR,cz,Gi]}),n})();const Oz=new Set;let ev,Obe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Fbe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nbe(n){if(!Oz.has(n))try{ev||(ev=document.createElement("style"),ev.setAttribute("type","text/css"),document.head.appendChild(ev)),ev.sheet&&(ev.sheet.insertRule(`@media ${n} {body{ }}`,0),Oz.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Oo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fbe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Lbe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Nz(wE(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=W_(Nz(wE(t)).map(a=>this._registerQuery(a).observable));return o=m1(o.pipe(pr(1)),o.pipe(J7(1),wx(0))),o.pipe(ye(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:p})=>{l.matches=l.matches||c,l.breakpoints[p]=c}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Ye(a=>{const l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(cf(r),ye(({matches:a})=>({query:t,matches:a})),Dr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(oe(Obe),oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Bbe=["tooltip"],Fz="tooltip-panel",Lz=gb({passive:!0}),Vz=new We("mat-tooltip-scroll-strategy"),zbe={provide:Vz,deps:[Zg],useFactory:function Hbe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},qbe=new We("mat-tooltip-default-options",{providedIn:"root",factory:function $be(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Wbe=(()=>{class n{constructor(t,r,i,o,a,l,c,p,v,b,w,I){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=p,this._dir=b,this._defaultOptions=w,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ie,this._scrollStrategy=v,this._document=I,w&&(w.position&&(this.position=w.position),w.touchGestures&&(this.touchGestures=w.touchGestures)),b.change.pipe(Dr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var r;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(r=this._tooltipInstance)||void 0===r||r.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Lr(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=nl(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=nl(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Dr(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,Lz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new hz(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(Dr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Dr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Fz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Dr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Dr(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Dr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Gg(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(t=this._defaultOptions)||void 0===t?void 0:t.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(Object.assign(Object.assign({},i.main),o.main)),this._addOffset(Object.assign(Object.assign({},i.fallback),o.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(pr(1),Dr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:o}=t;let a;if(a="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const c=`${this._cssClassPrefix}-${Fz}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{var i;const o=r.relatedTarget;(!o||!(null===(i=this._overlayRef)||void 0===i?void 0:i.overlayElement.contains(o)))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,Lz)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Vm()},n.\u0275dir=Le({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Gbe=(()=>{class n extends Wbe{constructor(t,r,i,o,a,l,c,p,v,b,w,I){super(t,r,i,o,a,l,c,p,v,b,w,I),this._tooltipComponent=Ybe}}return n.\u0275fac=function(t){return new(t||n)(H(Zg),H(Wn),H(H7),H(ao),H(bn),H(Oo),H(sH),H(Ex),H(Vz),H(Hg,8),H(qbe,8),H(Mn))},n.\u0275dir=Le({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[dt]}),n})(),Kbe=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ie,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(r);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(H(ha),H(Gc,8))},n.\u0275dir=Le({type:n}),n})(),Ybe=(()=>{class n extends Kbe{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(H(ha),H(Lbe),H(Gc,8))},n.\u0275cmp=Ft({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&hr(Bbe,7),2&t){let i;Lt(i=Vt())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&Te("mouseleave",function(o){return r._handleMouseLeave(o)}),2&t&&Go("zoom",r.isVisible()?1:null)},features:[dt],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(T(0,"div",0,1),Te("animationend",function(o){return r._handleAnimationEnd(o)}),af(2,"async"),x(3),A()),2&t){let i;Ei("mat-tooltip-handset",null==(i=g3(2,4,r._isHandset))?null:i.matches),te("ngClass",r.tooltipClass),j(3),mt(r.message)}},directives:[s1],pipes:[I5],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),Qbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[zbe],imports:[[Vge,Ac,Az,Gi],Gi,AE]}),n})();function Xbe(n,e){if(1&n&&(T(0,"mat-option",19),x(1),A()),2&n){const t=e.$implicit;te("value",t),j(1),Ke(" ",t," ")}}function Zbe(n,e){if(1&n){const t=er();T(0,"mat-form-field",16)(1,"mat-select",17),Te("selectionChange",function(i){return ft(t),de(2)._changePageSize(i.value)}),J(2,Xbe,2,2,"mat-option",18),A()()}if(2&n){const t=de(2);te("appearance",t._formFieldAppearance)("color",t.color),j(1),te("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),j(1),te("ngForOf",t._displayedPageSizeOptions)}}function Jbe(n,e){if(1&n&&(T(0,"div",20),x(1),A()),2&n){const t=de(2);j(1),mt(t.pageSize)}}function e0e(n,e){if(1&n&&(T(0,"div",12)(1,"div",13),x(2),A(),J(3,Zbe,3,6,"mat-form-field",14),J(4,Jbe,2,1,"div",15),A()),2&n){const t=de();j(2),Ke(" ",t._intl.itemsPerPageLabel," "),j(1),te("ngIf",t._displayedPageSizeOptions.length>1),j(1),te("ngIf",t._displayedPageSizeOptions.length<=1)}}function t0e(n,e){if(1&n){const t=er();T(0,"button",21),Te("click",function(){return ft(t),de().firstPage()}),Fs(),T(1,"svg",7),le(2,"path",22),A()()}if(2&n){const t=de();te("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),ir("aria-label",t._intl.firstPageLabel)}}function n0e(n,e){if(1&n){const t=er();Fs(),Kv(),T(0,"button",23),Te("click",function(){return ft(t),de().lastPage()}),Fs(),T(1,"svg",7),le(2,"path",24),A()()}if(2&n){const t=de();te("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),ir("aria-label",t._intl.lastPageLabel)}}let uS=(()=>{class n{constructor(){this.changes=new Ie,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,r,i)=>{if(0==i||0==r)return`0 of ${i}`;const o=t*r;return`${o+1} \u2013 ${o<(i=Math.max(i,0))?Math.min(o+r,i):o+r} of ${i}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i0e={provide:uS,deps:[[new hs,new Va,uS]],useFactory:function r0e(n){return n||new uS}},s0e=new We("MAT_PAGINATOR_DEFAULT_OPTIONS"),a0e=Sb(tz(class{}));let l0e=(()=>{class n extends a0e{constructor(t,r,i){if(super(),this._intl=t,this._changeDetectorRef=r,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new Rn,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){const{pageSize:o,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:c}=i;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=l&&(this._hidePageSize=l),null!=c&&(this._showFirstLastButtons=c)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(nl(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=nl(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(nl(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(r=>nl(r)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=Lr(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=Lr(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const i=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,r)=>t-r),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(t){Vm()},n.\u0275dir=Le({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[dt]}),n})(),Ca=(()=>{class n extends l0e{constructor(t,r,i){super(t,r,i),i&&null!=i.formFieldAppearance&&(this._formFieldAppearance=i.formFieldAppearance)}}return n.\u0275fac=function(t){return new(t||n)(H(uS),H(ha),H(s0e,8))},n.\u0275cmp=Ft({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[dt],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1),J(2,e0e,5,3,"div",2),T(3,"div",3)(4,"div",4),x(5),A(),J(6,t0e,3,5,"button",5),T(7,"button",6),Te("click",function(){return r.previousPage()}),Fs(),T(8,"svg",7),le(9,"path",8),A()(),Kv(),T(10,"button",9),Te("click",function(){return r.nextPage()}),Fs(),T(11,"svg",7),le(12,"path",10),A()(),J(13,n0e,3,5,"button",11),A()()()),2&t&&(j(2),te("ngIf",!r.hidePageSize),j(3),Ke(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),j(1),te("ngIf",r.showFirstLastButtons),j(1),te("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),ir("aria-label",r._intl.previousPageLabel),j(3),te("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),ir("aria-label",r._intl.nextPageLabel),j(3),te("ngIf",r.showFirstLastButtons))},directives:[sp,Rbe,lz,bye,ri,$a,Gbe],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[i0e],imports:[[Ac,wye,Pbe,Qbe,Gi]]}),n})();const u0e=["mat-sort-header",""];function c0e(n,e){if(1&n){const t=er();T(0,"div",3),Te("@arrowPosition.start",function(){return ft(t),de()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return ft(t),de()._disableViewStateAnimation=!1}),le(1,"div",4),T(2,"div",5),le(3,"div",6)(4,"div",7)(5,"div",8),A()()}if(2&n){const t=de();te("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),j(2),te("@indicator",t._getArrowDirectionState()),j(1),te("@leftPointer",t._getArrowDirectionState()),j(1),te("@rightPointer",t._getArrowDirectionState())}}const d0e=["*"],lh=U_e.ENTERING+" "+B_e.STANDARD_CURVE,tv={indicator:Nl("indicator",[vi("active-asc, asc",On({transform:"translateY(0px)"})),vi("active-desc, desc",On({transform:"translateY(10px)"})),lo("active-asc <=> active-desc",Qo(lh))]),leftPointer:Nl("leftPointer",[vi("active-asc, asc",On({transform:"rotate(-45deg)"})),vi("active-desc, desc",On({transform:"rotate(45deg)"})),lo("active-asc <=> active-desc",Qo(lh))]),rightPointer:Nl("rightPointer",[vi("active-asc, asc",On({transform:"rotate(45deg)"})),vi("active-desc, desc",On({transform:"rotate(-45deg)"})),lo("active-asc <=> active-desc",Qo(lh))]),arrowOpacity:Nl("arrowOpacity",[vi("desc-to-active, asc-to-active, active",On({opacity:1})),vi("desc-to-hint, asc-to-hint, hint",On({opacity:.54})),vi("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",On({opacity:0})),lo("* => asc, * => desc, * => active, * => hint, * => void",Qo("0ms")),lo("* <=> *",Qo(lh))]),arrowPosition:Nl("arrowPosition",[lo("* => desc-to-hint, * => desc-to-active",Qo(lh,sy([On({transform:"translateY(-25%)"}),On({transform:"translateY(0)"})]))),lo("* => hint-to-desc, * => active-to-desc",Qo(lh,sy([On({transform:"translateY(0)"}),On({transform:"translateY(25%)"})]))),lo("* => asc-to-hint, * => asc-to-active",Qo(lh,sy([On({transform:"translateY(25%)"}),On({transform:"translateY(0)"})]))),lo("* => hint-to-asc, * => active-to-asc",Qo(lh,sy([On({transform:"translateY(0)"}),On({transform:"translateY(-25%)"})]))),vi("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",On({transform:"translateY(0)"})),vi("hint-to-desc, active-to-desc, desc",On({transform:"translateY(-25%)"})),vi("hint-to-asc, active-to-asc, asc",On({transform:"translateY(25%)"}))]),allowChildren:Nl("allowChildren",[lo("* <=> *",[w8("@*",b8(),{optional:!0})])])};let cS=(()=>{class n{constructor(){this.changes=new Ie}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f0e={provide:cS,deps:[[new hs,new Va,cS]],useFactory:function h0e(n){return n||new cS}},p0e=new We("MAT_SORT_DEFAULT_OPTIONS"),m0e=tz(Sb(class{}));let Ws=(()=>{class n extends m0e{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new Ie,this.start="asc",this._direction="",this.sortChange=new Rn}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Lr(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var r,i,o;if(!t)return"";const a=null!==(i=null!==(r=null==t?void 0:t.disableClear)&&void 0!==r?r:this.disableClear)&&void 0!==i?i:!!(null===(o=this._defaultOptions)||void 0===o?void 0:o.disableClear);let l=function g0e(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,a),c=l.indexOf(this.direction)+1;return c>=l.length&&(c=0),l[c]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(H(p0e,8))},n.\u0275dir=Le({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[dt,Nr]}),n})();const v0e=Sb(class{});let nv=(()=>{class n extends v0e{constructor(t,r,i,o,a,l,c){super(),this._intl=t,this._changeDetectorRef=r,this._sort=i,this._columnDef=o,this._focusMonitor=a,this._elementRef=l,this._ariaDescriber=c,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Lr(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){var r,i;this._sortButton&&(null===(r=this._ariaDescriber)||void 0===r||r.removeDescription(this._sortButton,this._sortActionDescription),null===(i=this._ariaDescriber)||void 0===i||i.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=nr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(H(cS),H(ha),H(Ws,8),H("MAT_SORT_HEADER_COLUMN_DEF",8),H(Ex),H(Wn),H(sH,8))},n.\u0275cmp=Ft({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&Te("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(ir("aria-sort",r._getAriaSortAttribute()),Ei("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[dt],attrs:u0e,ngContentSelectors:d0e,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(Sd(),T(0,"div",0)(1,"div",1),oo(2),A(),J(3,c0e,6,6,"div",2),A()),2&t&&(Ei("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"==r.arrowPosition),ir("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),j(3),te("ngIf",r._renderArrow()))},directives:[ri],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[tv.indicator,tv.leftPointer,tv.rightPointer,tv.arrowOpacity,tv.arrowPosition,tv.allowChildren]},changeDetection:0}),n})(),Uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[f0e],imports:[[Ac,Gi]]}),n})(),jz=(()=>{class n{constructor(){}get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hz=(()=>{class n{constructor(t){this.http=t}getTowns(t){return this.http.get(`${we.UrlWebsite}/lkTown/company/active?id=`+we.Token).pipe(ye(r=>r))}getAllTowns(t){return this.http.get(`${we.UrlWebsite}/lkTown/company/get-all?id=`+we.Token).pipe(ye(r=>r))}PostTown(t){return this.http.post(`${we.UrlWebsite}/lkTown/save-lk-town`,t).pipe(ye(r=>r))}DeleteTown(t){return this.http.put(`${we.UrlWebsite}/lkTown/delete-lk-town?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zz=(()=>{class n{constructor(t){this.http=t}getUniversities(t){return this.http.get(`${we.UrlWebsite}/lkUniversity/company/active?id=`+we.Token).pipe(ye(r=>r))}getAllUniversities(t){return this.http.get(`${we.UrlWebsite}/lkUniversity/company/get-all?id=`+we.Token).pipe(ye(r=>r))}PostUniversity(t){return this.http.post(`${we.UrlWebsite}/lkUniversity/save-lk-university`,t).pipe(ye(r=>r))}DeleteUniversity(t){return this.http.put(`${we.UrlWebsite}/lkUniversity/delete-lk-university?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{constructor(){}searshItem(t,r){let i;return t.forEach(o=>{o.id==r&&(i=o)}),i}findIndex(t,r){return t.findIndex(o=>o.id==r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qz=gb({passive:!0});let _0e=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Qn;const r=qc(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new Ie,a="cdk-text-field-autofilled",l=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,qz),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",l,qz)}}),o}stopMonitoring(t){const r=qc(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Oo),oe(bn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({}),n})();const y0e=new We("MAT_INPUT_VALUE_ACCESSOR"),b0e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let w0e=0;const C0e=ez(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let rv=(()=>{class n extends C0e{constructor(t,r,i,o,a,l,c,p,v,b){super(l,o,a,i),this._elementRef=t,this._platform=r,this._autofillMonitor=p,this._formField=b,this._uid="mat-input-"+w0e++,this.focused=!1,this.stateChanges=new Ie,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>F7().has(R)),this._iOSKeyupListener=R=>{const N=R.target;!N.value&&0===N.selectionStart&&0===N.selectionEnd&&(N.setSelectionRange(1,1),N.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,I=w.nodeName.toLowerCase();this._inputValueAccessor=c||w,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&v.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Lr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Nn.required))&&void 0!==o&&o}set required(t){this._required=Lr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&F7().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Lr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=i,i?o.setAttribute("placeholder",i):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){b0e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(H(Wn),H(Oo),H(xu,10),H(hy,8),H(vs,8),H(Qx),H(y0e,10),H(_0e),H(bn),H(tR,8))},n.\u0275dir=Le({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&Te("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(Ow("disabled",r.disabled)("required",r.required),ir("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Ei("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[vn([{provide:aS,useExisting:n}]),dt,Nr]}),n})(),E0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({providers:[Qx],imports:[[$z,nR,Gi],$z,nR]}),n})();var S0e=it.default.initializeApp,T0e=it.default.firestore,D0e=it.default.analytics,Wz=it.default.auth;function A0e(n,e){1&n&&(T(0,"th",57),x(1," ID "),A())}function I0e(n,e){if(1&n&&(T(0,"td",58)(1,"strong"),x(2),A()()),2&n){const t=e.index;j(2),mt(t+1)}}function k0e(n,e){1&n&&(T(0,"th",57),x(1," Name"),A())}function M0e(n,e){if(1&n&&(T(0,"td",58),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.stdName," ")}}function x0e(n,e){1&n&&(T(0,"th",57),x(1," Phone"),A())}function R0e(n,e){if(1&n&&(T(0,"td",58),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.stdPhone," ")}}function P0e(n,e){1&n&&(T(0,"th",57),x(1," University "),A())}function O0e(n,e){if(1&n&&(T(0,"td",58),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.university.universityName," ")}}function N0e(n,e){1&n&&(T(0,"th",57),x(1," End Subscriped Date "),A())}function F0e(n,e){1&n&&(T(0,"span",62),x(1," Not Activated yet"),A())}function L0e(n,e){if(1&n&&(T(0,"span",63),x(1),af(2,"date"),A()),2&n){const t=de().$implicit;j(1),Ke(" ",jw(2,1,t.endSubscriptionDate,"longDate"),"")}}function V0e(n,e){1&n&&(T(0,"span",64),x(1," SUBSCRIPTION EXPIRED"),A())}function B0e(n,e){if(1&n&&(T(0,"td",58),J(1,F0e,2,0,"span",59),J(2,L0e,3,4,"span",60),J(3,V0e,2,0,"span",61),A()),2&n){const t=e.$implicit;j(1),te("ngIf",null==t.endSubscriptionDate||null==t.isSubscribed||0==t.endSubscriptionDate),j(1),te("ngIf",null!=t.endSubscriptionDate&&1==t.isSubscribed),j(1),te("ngIf",null!=t.endSubscriptionDate&&0==t.isSubscribed)}}function U0e(n,e){1&n&&(T(0,"th",65),x(1," Action "),A())}function j0e(n,e){if(1&n){const t=er();T(0,"td",58)(1,"div",66)(2,"button",67),le(3,"i",68),A(),T(4,"div",69)(5,"a",70),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(6,"Edit"),A(),T(7,"a",71),Te("click",function(){const o=ft(t).$implicit;return de().onRenew(o.id)}),x(8," renew Subscription"),A(),T(9,"a",72),Te("click",function(){const o=ft(t).$implicit;return de().DeleteStudent(o.id)}),x(10,"Delete"),A()()()()}}function H0e(n,e){1&n&&le(0,"tr",73)}function z0e(n,e){1&n&&le(0,"tr",74)}function q0e(n,e){if(1&n&&(T(0,"tr",75)(1,"td",76),x(2),A()()),2&n){de();const t=Cu(12);j(2),Ke('No data matching the filter "',t.value,'"')}}function $0e(n,e){if(1&n){const t=er();T(0,"div",77)(1,"button",78),Te("click",function(){return ft(t),de().SendOTP()}),x(2,"Send OTP"),A()()}}function W0e(n,e){1&n&&(T(0,"div",79)(1,"label",39),x(2,"OTP"),A(),le(3,"input",80),A())}function G0e(n,e){if(1&n){const t=er();T(0,"div",77)(1,"button",81),Te("click",function(){return ft(t),de().TestOTP()}),x(2,"Test OTP"),A()()}}function K0e(n,e){if(1&n&&(T(0,"option",82),x(1),A()),2&n){const t=e.$implicit;Bm("value",t.id),j(1),Ke(" ",t.universityName," ")}}function Y0e(n,e){if(1&n&&(T(0,"option",82),x(1),A()),2&n){const t=e.$implicit;Bm("value",t.id),j(1),Ke(" ",t.townName," ")}}const Q0e=function(){return[5,10,25,100]};let dS;dS=it.default.apps.length?it.default.app():S0e(we.firebase),D0e(dS);const X0e=T0e(dS);let Z0e=(()=>{class n{constructor(t,r,i,o,a,l){this.StudentApi=t,this.FirebaseService=r,this.TownsApi=i,this.toastr=o,this.UniversityApi=a,this.hepler=l,this.theDateNow=new Date,this.ShowAddbutton=!0,this.showOTPbutton=!0,this.displayedColumns=["id","stdName","stdPhone","universityName","endSubscriptionDate","Action"],this.formValues=new js({stdName:new Xt("",[Nn.required]),OTP:new Xt,stdPhone:new Xt("",[Nn.required]),university:new Xt("",[Nn.required]),town:new Xt("",[Nn.required]),endSubscriptionDate:new Xt(null,[Nn.required])}),this.formValuesRenew=new js({endSubscriptionDate:new Xt(null,[Nn.required])})}ngOnInit(){this.getStudents(),this.getTwons(),this.getUniversities(),this.windowRef=this.FirebaseService.windowRef,setTimeout(()=>{this.windowRef.recaptchaVerifier=new it.default.auth.RecaptchaVerifier("sign-in-button",{size:"invisible"})},2e3)}isRecaptchaValid(){return this.windowRef.recaptchaVerifier.getResponse(this.windowRef.recaptchaWidgetId).length>0}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}SearchAndPagination(){this.dataSource=new Xg(this.students),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getStudents(){this.StudentApi.getStudents().subscribe(t=>{this.students=t,this.SearchAndPagination()},t=>{this.toastr.warning(t.statusText?t.statusText:t.status?t.status:t.error?t.error:"Internal Server Error")})}getTwons(){this.TownsApi.getTowns(Number(we.Token)).subscribe(t=>{this.Towns=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.status?t.status:t.error?t.error:"Internal Server Error")})}getUniversities(){this.UniversityApi.getUniversities(Number(we.Token)).subscribe(t=>{this.Universities=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.status?t.status:t.error?t.error:"Internal Server Error")})}AddStudentButton(){this.ShowAddbutton=!0,this.showOTPbutton=!0,this.formValues.reset()}get stdName(){return this.formValues.get("stdName")}get OTP(){return this.formValues.get("OTP")}get stdPhone(){return this.formValues.get("stdPhone")}get university(){return this.formValues.get("university")}get town(){return this.formValues.get("town")}get endSubscriptionDate(){return this.formValues.get("endSubscriptionDate")}validation(t){return!("VALID"!=this.formValues.status||!function r(o){return null!=o&&o.length>0}(this.codeUser||t.stdUid))}getDetails(){var t,r,i,o,a,l,c,p,v,b,w;let I=new Date(this.endSubscriptionDate.value),R=new Bs("en-US");this.StudentModule.id=this.StudentModule.id?this.StudentModule.id:null,this.StudentModule.stdName=null===(t=this.stdName)||void 0===t?void 0:t.value,this.StudentModule.stdUid=this.StudentModule.stdUid?this.StudentModule.stdUid:this.codeUser,this.StudentModule.stdPhone="+"!=(null===(r=this.stdPhone)||void 0===r?void 0:r.value[0])&&"2"!=(null===(i=this.stdPhone)||void 0===i?void 0:i.value[1])?"+2"+(null===(o=this.stdPhone)||void 0===o?void 0:o.value):null===(a=this.stdPhone)||void 0===a?void 0:a.value;let N=this.hepler.searshItem(this.Towns,null===(l=this.town)||void 0===l?void 0:l.value);this.StudentModule.town=(null===(c=this.town)||void 0===c?void 0:c.value)?{id:null===(p=this.town)||void 0===p?void 0:p.value,townName:N.townName}:null;let z=this.hepler.searshItem(this.Universities,null===(v=this.university)||void 0===v?void 0:v.value);this.StudentModule.university=(null===(b=this.university)||void 0===b?void 0:b.value)?{id:null===(w=this.university)||void 0===w?void 0:w.value,universityName:z.universityName}:null,this.StudentModule.company={id:we.Token},this.StudentModule.endSubscriptionDate=this.endSubscriptionDate.value?R.transform(I.setDate(I.getDate()+30),"yyyy-MM-dd"):null,this.StudentModule.isSubscribed=!0,this.StudentModule.isActive=!0}SaveStudent(){null!=this.codeUser?(this.StudentModule=new qI,this.getDetails(),this.validation(this.StudentModule)?this.StudentApi.PostStudents(this.StudentModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.StudentModule.id=t.id,this.students.push(this.StudentModule),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")):this.toastr.info("Please finished Phone Validation correctly")}onEdit(t){this.showOTPbutton=!1,this.ShowAddbutton=!1,this.StudentModule=new qI,this.StudentModule.id=Number(t.id),this.formValues.controls.stdName.setValue(t.stdName),this.formValues.controls.stdPhone.setValue(t.stdPhone),this.PhoneRow=t.stdPhone,this.StudentModule.stdUid=t.stdUid,this.formValues.controls.town.setValue(t.town.id),this.formValues.controls.university.setValue(t.university.id);let r=new Date(t.endSubscriptionDate),i=new Bs("en-US");this.formValues.controls.endSubscriptionDate.setValue(null!=t.endSubscriptionDate?i.transform(r.setDate(r.getDate()-30),"yyyy-MM-dd"):null)}UpdateStudent(){this.getDetails(),this.validation(this.StudentModule)?this.StudentApi.UpdateStudents(this.StudentModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.students.splice(this.hepler.findIndex(this.students,this.StudentModule.id),1),this.students.push(this.StudentModule),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly"),console.log(this.students)}DeleteStudent(t){this.StudentApi.DeleteStudent(t).subscribe(r=>{this.toastr.success("Delete Successfully"),this.students.splice(this.hepler.findIndex(this.students,t),1),this.SearchAndPagination()},r=>{this.toastr.warning(r.statusText)})}SendOTP(){let t=this.windowRef.recaptchaVerifier;null!=this.stdPhone.value?Wz().signInWithPhoneNumber("+20"+this.stdPhone.value,t).then(r=>{this.windowRef.confirmationResult=r,this.toastr.success("Send SMS To Your Number Successfully")}).catch(r=>{this.toastr.success(r)}):this.toastr.info("Please fill in the Phone correctly"),this.codeUser=null}TestOTP(){null!=this.OTP.value?this.windowRef.confirmationResult.confirm(this.OTP.value).then(r=>{X0e.collection("Users").doc(r.user.uid).set({role:"Student",UID:r.user.uid}),this.codeUser=r.user.uid,this.toastr.success("confirmation Result Successfully")}).catch(r=>{console.log(r)}):this.toastr.info("Please fill in the code correctly"),Wz().signOut().then(t=>{console.log(t)}).catch(t=>{this.toastr.info(t)})}OTPButtonShow(){this.showOTPbutton=!0}onRenew(t){this.StudentModule=new qI,this.StudentModule.id=Number(t)}get endSubscriptionDateRenew(){return this.formValuesRenew.get("endSubscriptionDate")}getRenewDetails(){let t=new Date(this.endSubscriptionDateRenew.value),r=new Bs("en-US");this.DataRenew.std={id:this.StudentModule.id?this.StudentModule.id:null,endSubscriptionDate:this.endSubscriptionDateRenew.value?r.transform(t.setDate(t.getDate()+30),"yyyy-MM-dd"):null,isSubscribed:!0,isActive:!0},this.StudentModule.id=this.DataRenew.std.id,this.StudentModule.SubscriptionDate=this.DataRenew.std.endSubscriptionDate}RenewStudent(){this.DataRenew=new noe,this.getRenewDetails(),"VALID"==this.formValuesRenew.status?this.StudentApi.RenewStudents(this.DataRenew).subscribe(t=>{this.toastr.success("Renew Student Successfully");let r=document.getElementById("close-button-Renew");null==r||r.click();let i=this.hepler.findIndex(this.students,this.StudentModule.id);this.students[i].endSubscriptionDate=this.DataRenew.std.endSubscriptionDate,this.students[i].isSubscribed=this.DataRenew.std.isSubscribed,this.students[i].isActive=this.DataRenew.std.isActive,this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}}return n.\u0275fac=function(t){return new(t||n)(H(jI),H(jz),H(Hz),H(So),H(zz),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-students"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:102,vars:17,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],["appearance","standard",2,"width","257px"],["type","search","matInput","","placeholder","Search",1,"form-control","p-1",3,"keyup"],["input",""],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",2,"width","100px",3,"click"],[1,"card-body","table-responsive","text-nowrap"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","stdName"],["matColumnDef","stdPhone"],["matColumnDef","universityName"],["matColumnDef","endSubscriptionDate"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col","mb-3"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","value","Yasser Abd Elghany","placeholder","Enter Name","formControlName","stdName",1,"form-control"],[1,"row","g-2"],[1,"col-md-7","mb-3"],["for","emailExLarge",1,"form-label"],["type","tel","value","+02","formControlName","stdPhone","id","emailExLarge","placeholder","phone",1,"form-control",3,"readonly"],["class","col-md-1","style","display: flex;\n                            align-items: center;    margin-top: 17px;\n                            justify-content: center;",4,"ngIf"],["class","col-md-3 mb-3",4,"ngIf"],["class","col-md-1","style","display: flex;\n              align-items: center;    margin-top: 17px;\n              justify-content: center;",4,"ngIf"],[1,"form-label"],["formControlName","university",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","town",1,"form-select"],["for","dobExLarge",1,"form-label"],["type","date","formControlName","endSubscriptionDate","id","dobExLarge","placeholder","DD / MM / YY",1,"form-control",3,"readonly"],[1,"modal-footer"],["type","button","id","close-button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],["id","exLargeModal2","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-title"],["type","date","formControlName","endSubscriptionDate","placeholder","DD / MM / YY",1,"form-control"],["type","button","id","close-button-Renew","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge bg-label-warning me-1",4,"ngIf"],["class","badge bg-label-success me-1",4,"ngIf"],["class","badge bg-label-danger me-11",4,"ngIf"],[1,"badge","bg-label-warning","me-1"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-11"],["mat-header-cell",""],[1,"dropdown"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"dropdown-item",3,"click"],["data-bs-target","#exLargeModal2","data-bs-toggle","modal","href","javascript:void(0);",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"col-md-1",2,"display","flex","align-items","center","margin-top","17px","justify-content","center"],["id","sign-in-button","type","button",1,"btn","btn-dark","btn-sm",3,"click"],[1,"col-md-3","mb-3"],["type","text","formControlName","OTP","placeholder","OTP",1,"form-control"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[3,"value"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Students"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),x(10,"Search"),A(),T(11,"input",7,8),Te("keyup",function(o){return r.applyFilter(o)}),A()()(),T(13,"div",9)(14,"button",10),Te("click",function(){return r.AddStudentButton()}),x(15,"Add Student"),A()()(),T(16,"div",11)(17,"div")(18,"table",12),nn(19,13),J(20,A0e,2,0,"th",14),J(21,I0e,3,1,"td",15),rn(),nn(22,16),J(23,k0e,2,0,"th",14),J(24,M0e,2,1,"td",15),rn(),nn(25,17),J(26,x0e,2,0,"th",14),J(27,R0e,2,1,"td",15),rn(),nn(28,18),J(29,P0e,2,0,"th",14),J(30,O0e,2,1,"td",15),rn(),nn(31,19),J(32,N0e,2,0,"th",14),J(33,B0e,4,3,"td",15),rn(),nn(34,20),J(35,U0e,2,0,"th",21),J(36,j0e,11,0,"td",15),rn(),J(37,H0e,1,0,"tr",22),J(38,z0e,1,0,"tr",23),J(39,q0e,3,1,"tr",24),A(),le(40,"mat-paginator",25),A()()()()()(),T(41,"div",26)(42,"div",27)(43,"form",28),Te("ngSubmit",function(){return r.ShowAddbutton?r.SaveStudent():r.UpdateStudent()}),T(44,"div",29)(45,"div",30)(46,"h5",31),x(47),A(),le(48,"button",32),A(),T(49,"div",33)(50,"div",1)(51,"div",34)(52,"label",35),x(53,"Name"),A(),le(54,"input",36),A()(),T(55,"div",37)(56,"div",38)(57,"label",39),x(58,"phone"),A(),le(59,"input",40),A(),J(60,$0e,3,0,"div",41),J(61,W0e,4,0,"div",42),J(62,G0e,3,0,"div",43),A(),T(63,"div",37)(64,"div",34)(65,"label",44),x(66,"UNIVERSITY"),A(),T(67,"select",45),J(68,K0e,2,2,"option",46),A()(),T(69,"div",34)(70,"label",39),x(71,"Town"),A(),T(72,"select",47),J(73,Y0e,2,2,"option",46),A()(),T(74,"div",34)(75,"label",48),x(76,"Start SUBSCRIPED DATE"),A(),le(77,"input",49),A()()(),T(78,"div",50)(79,"button",51),x(80," Close "),A(),T(81,"button",52),x(82),A()()()()()(),T(83,"div",53)(84,"div",27)(85,"form",28),Te("ngSubmit",function(){return r.RenewStudent()}),T(86,"div",29)(87,"div",30)(88,"h5",54),x(89,"Renew Student"),A(),le(90,"button",32),A(),T(91,"div",33)(92,"div",37)(93,"div",34)(94,"label",48),x(95,"Start SUBSCRIPED DATE"),A(),le(96,"input",55),A()()(),T(97,"div",50)(98,"button",56),x(99," Close "),A(),T(100,"button",52),x(101,"Renew Student"),A()()()()()()),2&t&&(j(18),te("dataSource",r.dataSource),j(19),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSize",5)("pageSizeOptions",Dd(16,Q0e)),j(3),te("formGroup",r.formValues),j(4),mt(r.ShowAddbutton?"ADD Student":"Edit Student"),j(12),te("readonly",0==r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(6),te("ngForOf",r.Universities),j(5),te("ngForOf",r.Towns),j(4),te("readonly",0==r.ShowAddbutton),j(5),mt(r.ShowAddbutton?"ADD Student":"Edit Student"),j(3),te("formGroup",r.formValuesRenew))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,ri,ep,np,tp,rp,ip,Ca,Ll,Fl,vs,fa,Ka,Ya,Pd,$a,vf,_f],pipes:[Bs],styles:[".rc-anchor[_ngcontent-%COMP%], .grecaptcha-badge[_ngcontent-%COMP%]{display:none!important}"]}),n})();class Gz{}let Kz=(()=>{class n{constructor(t){this.http=t}getAppointments(){return this.http.get(`${we.UrlWebsite}/appointment/company/get-all?id=`+we.Token).pipe(ye(t=>t))}getAppointmentById(t){return this.http.get(`${we.UrlWebsite}/appointment/get-by-id?id=`+t).pipe(ye(r=>r))}PostAppointments(t){return this.http.post(`${we.UrlWebsite}/appointment/save-appointment`,t).pipe(ye(r=>r))}UpdateAppointments(t){return this.http.put(`${we.UrlWebsite}/appointment/update-appointment`,t).pipe(ye(r=>r))}DeleteAppointment(t){return this.http.put(`${we.UrlWebsite}/appointment/delete-appointment?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J0e(n,e){1&n&&(T(0,"th",44),x(1," ID "),A())}function ewe(n,e){if(1&n&&(T(0,"td",45)(1,"strong"),x(2),A()()),2&n){const t=e.index;j(2),mt(t+1)}}function twe(n,e){1&n&&(T(0,"th",44),x(1," START TIME "),A())}function nwe(n,e){if(1&n&&(T(0,"td",45),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.appointmentStartTime," ")}}function rwe(n,e){1&n&&(T(0,"th",44),x(1," TYPE "),A())}function iwe(n,e){1&n&&(T(0,"span",48),x(1," go Trip "),A())}function owe(n,e){1&n&&(T(0,"span",49),x(1," Away Trip "),A())}function swe(n,e){if(1&n&&(T(0,"td",45),J(1,iwe,2,0,"span",46),J(2,owe,2,0,"span",47),A()),2&n){const t=e.$implicit;j(1),te("ngIf","AM"==t.appointmentType),j(1),te("ngIf","PM"==t.appointmentType)}}function awe(n,e){1&n&&(T(0,"th",44),x(1," STATUS "),A())}function lwe(n,e){1&n&&(T(0,"span",49),x(1," Active "),A())}function uwe(n,e){1&n&&(T(0,"span",51),x(1," Not Active "),A())}function cwe(n,e){if(1&n&&(T(0,"td",45),J(1,lwe,2,0,"span",47),J(2,uwe,2,0,"span",50),A()),2&n){const t=e.$implicit;j(1),te("ngIf",1==t.isActive),j(1),te("ngIf",1!=t.isActive)}}function dwe(n,e){1&n&&(T(0,"th",52),x(1," Action "),A())}function hwe(n,e){if(1&n){const t=er();T(0,"td",45)(1,"div",53)(2,"button",54),le(3,"i",55),A(),T(4,"div",56)(5,"a",57),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(6,"Edit"),A(),T(7,"a",58),Te("click",function(){const o=ft(t).$implicit;return de().DeleteAppointment(o.id)}),x(8,"Delete"),A()()()()}}function fwe(n,e){1&n&&le(0,"tr",59)}function pwe(n,e){1&n&&le(0,"tr",60)}function mwe(n,e){if(1&n&&(T(0,"tr",61)(1,"td",62),x(2),A()()),2&n){de();const t=Cu(12);j(2),Ke('No data matching the filter "',t.value,'"')}}function gwe(n,e){if(1&n&&(T(0,"div",63),le(1,"input",64),T(2,"label",65),x(3,"Active"),A()()),2&n){const t=de();j(1),te("checked",1==t.isActiveButton)}}const vwe=function(){return[5,10,25,100]};let _we=(()=>{class n{constructor(t,r,i,o){this.AppointmentApi=t,this.toastr=r,this.datePipe=i,this.hepler=o,this.displayedColumns=["id","appointmentStartTime","appointmentType","isActive","Action"],this.Appointments=[],this.theDateNow=new Date,this.ShowAddbutton=!0,this.formValues=new js({appointmentType:new Xt("",[Nn.required]),appointmentStartTime:new Xt("",[Nn.required]),isActive:new Xt("")}),this.isActiveButton=!0}ngOnInit(){this.getAppointments()}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}SearchAndPagination(){this.dataSource=new Xg(this.Appointments),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getAppointments(){this.AppointmentApi.getAppointments().subscribe(t=>{this.Appointments=t,this.SearchAndPagination()},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}AddAppointmentButton(){this.ShowAddbutton=!0,this.formValues.reset()}get appointmentType(){return this.formValues.get("appointmentType")}get appointmentStartTime(){return this.formValues.get("appointmentStartTime")}get isActive(){return this.formValues.get("isActive")}validation(){return"VALID"==this.formValues.status}getDetails(){var t,r,i;this.AppointmentModule.id=this.AppointmentModule.id?this.AppointmentModule.id:null,1==this.ShowAddbutton?this.AppointmentModule.appointmentStartTime=this.appointmentStartTime.value+":00":(console.log(this.appointmentStartTime.value,this.AppointmentModule.appointmentStartTime),this.AppointmentModule.appointmentStartTime=this.AppointmentModule.appointmentStartTime==this.appointmentStartTime.value?this.AppointmentModule.appointmentStartTime:this.appointmentStartTime.value+":00"),this.AppointmentModule.appointmentType=null===(t=this.appointmentType)||void 0===t?void 0:t.value,this.AppointmentModule.isActive=1==this.ShowAddbutton||null!=(null===(r=this.isActive)||void 0===r?void 0:r.value)&&0!=(null===(i=this.isActive)||void 0===i?void 0:i.value),this.AppointmentModule.company={id:we.Token}}SaveAppointment(){this.AppointmentModule=new Gz,console.log(this.AppointmentModule),this.validation()?(this.getDetails(),this.AppointmentApi.PostAppointments(this.AppointmentModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.AppointmentModule.id=t.id,this.Appointments.push(this.AppointmentModule),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")})):this.toastr.info("Please fill in the data correctly")}onEdit(t){this.ShowAddbutton=!1,this.AppointmentModule=new Gz,this.AppointmentModule.id=Number(t.id),this.formValues.controls.appointmentStartTime.setValue(t.appointmentStartTime),this.AppointmentModule.appointmentStartTime=t.appointmentStartTime,this.formValues.controls.appointmentType.setValue(t.appointmentType),this.formValues.controls.isActive.setValue(t.isActive),this.isActiveButton=t.isActive}UpdateAppointment(){this.getDetails(),this.validation()?this.AppointmentApi.UpdateAppointments(this.AppointmentModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.Appointments.splice(this.hepler.findIndex(this.Appointments,this.AppointmentModule.id),1),this.Appointments.push(this.AppointmentModule),this.SearchAndPagination()},t=>{this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}DeleteAppointment(t){this.AppointmentApi.DeleteAppointment(t).subscribe(r=>{this.toastr.success("Delete Successfully"),this.Appointments.splice(this.hepler.findIndex(this.Appointments,t),1),this.SearchAndPagination()},r=>{this.toastr.warning(r.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(Kz),H(So),H(Bs),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-appointments"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:66,vars:10,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],["appearance","standard",2,"width","257px"],["type","search","matInput","","placeholder","Search",1,"form-control","p-1",3,"keyup"],["input",""],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentStartTime"],["matColumnDef","appointmentType"],["matColumnDef","isActive"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","time","id","nameExLarge","formControlName","appointmentStartTime",1,"form-control"],["formControlName","appointmentType",1,"form-select"],["value","AM"],["value","PM"],["class","form-check form-switch mb-2",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge  bg-label-primary me-1",4,"ngIf"],["class","badge  bg-label-success me-1",4,"ngIf"],[1,"badge","bg-label-primary","me-1"],[1,"badge","bg-label-success","me-1"],["class","badge bg-label-danger me-11",4,"ngIf"],[1,"badge","bg-label-danger","me-11"],["mat-header-cell",""],[1,"dropdown"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"form-check","form-switch","mb-2"],["type","checkbox","id","flexSwitchCheckDefault","formControlName","isActive",1,"form-check-input",3,"checked"],["for","flexSwitchCheckDefault",1,"form-check-label"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Appointments"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),x(10,"Search"),A(),T(11,"input",7,8),Te("keyup",function(o){return r.applyFilter(o)}),A()()(),T(13,"div",9)(14,"button",10),Te("click",function(){return r.AddAppointmentButton()}),x(15,"Add Appointment"),A()()(),T(16,"div",11)(17,"div")(18,"table",12),nn(19,13),J(20,J0e,2,0,"th",14),J(21,ewe,3,1,"td",15),rn(),nn(22,16),J(23,twe,2,0,"th",14),J(24,nwe,2,1,"td",15),rn(),nn(25,17),J(26,rwe,2,0,"th",14),J(27,swe,3,2,"td",15),rn(),nn(28,18),J(29,awe,2,0,"th",14),J(30,cwe,3,2,"td",15),rn(),nn(31,19),J(32,dwe,2,0,"th",20),J(33,hwe,9,0,"td",15),rn(),J(34,fwe,1,0,"tr",21),J(35,pwe,1,0,"tr",22),J(36,mwe,3,1,"tr",23),A(),le(37,"mat-paginator",24),A()()()()()(),T(38,"div",25)(39,"div",26)(40,"form",27),Te("ngSubmit",function(){return r.ShowAddbutton?r.SaveAppointment():r.UpdateAppointment()}),T(41,"div",28)(42,"div",29)(43,"h5",30),x(44),A(),le(45,"button",31),A(),T(46,"div",32)(47,"div",33)(48,"div",34)(49,"label",35),x(50,"START TIME\t"),A(),le(51,"input",36),A(),T(52,"div",34)(53,"label",35),x(54,"TYPE"),A(),T(55,"select",37)(56,"option",38),x(57,"go Trip"),A(),T(58,"option",39),x(59,"Away Trip"),A()()()(),J(60,gwe,4,1,"div",40),A(),T(61,"div",41)(62,"button",42),x(63," Close "),A(),T(64,"button",43),x(65),A()()()()()()),2&t&&(j(18),te("dataSource",r.dataSource),j(16),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSize",5)("pageSizeOptions",Dd(9,vwe)),j(3),te("formGroup",r.formValues),j(4),Ke("",r.ShowAddbutton?"ADD Appointment":"Edit Appointment"," "),j(16),te("ngIf",0==r.ShowAddbutton),j(5),mt(r.ShowAddbutton?"ADD Appointment":"Edit Appointment"))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,ri,ep,np,tp,rp,ip,Ca,Ll,Fl,vs,fa,Ka,Ya,Pd,vf,_f,P1],styles:[""]}),n})();class Yz{}let ywe=(()=>{class n{constructor(t){this.http=t}getBuses(){return this.http.get(`${we.UrlWebsite}/bus/company/active?id=`+we.Token).pipe(ye(t=>t))}getCountBuses(){return this.http.get(`${we.UrlWebsite}/bus/get-count/company/active?id=`+we.Token).pipe(ye(t=>t))}PostBus(t){return this.http.post(`${we.UrlWebsite}/bus/save-bus`,t).pipe(ye(r=>r))}UpdateBus(t){return this.http.put(`${we.UrlWebsite}/bus/update-bus`,t).pipe(ye(r=>r))}DeleteBus(t){return this.http.put(`${we.UrlWebsite}/bus/delete-bus?id=`+t,!0).pipe(ye(r=>r,r=>r))}AvailableBuses(){return this.http.get(`${we.UrlWebsite}/bus/company/available?id=`+we.Token).pipe(ye(t=>t,t=>t))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var bwe=it.default.initializeApp,wwe=it.default.firestore,Cwe=it.default.analytics,Qz=it.default.auth;function Ewe(n,e){1&n&&(T(0,"th",49),x(1," ID "),A())}function Swe(n,e){if(1&n&&(T(0,"td",50)(1,"strong"),x(2),A()()),2&n){const t=e.index;j(2),mt(t+1)}}function Twe(n,e){1&n&&(T(0,"th",49),x(1," Model "),A())}function Dwe(n,e){if(1&n&&(T(0,"td",50),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.model," ")}}function Awe(n,e){1&n&&(T(0,"th",49),x(1," Phone "),A())}function Iwe(n,e){if(1&n&&(T(0,"td",50),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.phone," ")}}function kwe(n,e){1&n&&(T(0,"th",49),x(1," Capacity "),A())}function Mwe(n,e){if(1&n&&(T(0,"td",50),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.capacity," ")}}function xwe(n,e){1&n&&(T(0,"th",51),x(1," Action "),A())}function Rwe(n,e){if(1&n){const t=er();T(0,"td",50)(1,"div",52)(2,"button",53),le(3,"i",54),A(),T(4,"div",55)(5,"a",56),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(6,"Edit"),A(),T(7,"a",57),x(8,"Bus Fees"),A(),T(9,"a",58),Te("click",function(){const o=ft(t).$implicit;return de().DeleteBus(o.id)}),x(10,"Delete"),A()()()()}if(2&n){const t=e.$implicit;j(7),Rw("routerLink","../Fees/bus/",t.id,"")}}function Pwe(n,e){1&n&&le(0,"tr",59)}function Owe(n,e){1&n&&le(0,"tr",60)}function Nwe(n,e){if(1&n&&(T(0,"tr",61)(1,"td",62),x(2),A()()),2&n){de();const t=Cu(12);j(2),Ke('No data matching the filter "',t.value,'"')}}function Fwe(n,e){if(1&n){const t=er();T(0,"div",63)(1,"button",64),Te("click",function(){return ft(t),de().SendOTP()}),x(2,"Send OTP"),A()()}}function Lwe(n,e){1&n&&(T(0,"div",65)(1,"label",35),x(2,"OTP"),A(),le(3,"input",66),A())}function Vwe(n,e){if(1&n){const t=er();T(0,"div",63)(1,"button",67),Te("click",function(){return ft(t),de().TestOTP()}),x(2,"Test OTP"),A()()}}const Bwe=function(){return[5,10,25,100]};let hS;hS=it.default.apps.length?it.default.app():bwe(we.firebase),Cwe(hS);const Uwe=wwe(hS);let jwe=(()=>{class n{constructor(t,r,i,o){this.BusApi=t,this.toastr=r,this.FirebaseService=i,this.hepler=o,this.theDateNow=new Date,this.ShowAddbutton=!0,this.showOTPbutton=!0,this.displayedColumns=["id","model","phone","capacity","Action"],this.formValues=new js({busUid:new Xt(""),OTP:new Xt,phone:new Xt("",[Nn.required]),model:new Xt("",[Nn.required]),capacity:new Xt("",[Nn.required]),busLicenceNumber:new Xt(null,[Nn.required]),busLicenceExpirationDate:new Xt(null,[Nn.required])})}ngOnInit(){this.getbus(),this.windowRef=this.FirebaseService.windowRef,setTimeout(()=>{this.windowRef.recaptchaVerifier=new it.default.auth.RecaptchaVerifier("sign-in-button",{size:"invisible"})},2e3)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}SearchAndPagination(){this.dataSource=new Xg(this.buses),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}isRecaptchaValid(){return this.windowRef.recaptchaVerifier.getResponse(this.windowRef.recaptchaWidgetId).length>0}getbus(){this.BusApi.getBuses().subscribe(t=>{this.buses=t,this.SearchAndPagination()},t=>{this.toastr.warning(t.statusText?t.statusText:t.status?t.status:t.error?t.error:"Internal Server Error")})}AddBusButton(){this.ShowAddbutton=!0,this.showOTPbutton=!0,this.formValues.reset()}get busUid(){return this.formValues.get("busUid")}get OTP(){return this.formValues.get("OTP")}get phone(){return this.formValues.get("phone")}get model(){return this.formValues.get("model")}get capacity(){return this.formValues.get("capacity")}get busLicenceExpirationDate(){return this.formValues.get("busLicenceExpirationDate")}get busLicenceNumber(){return this.formValues.get("busLicenceNumber")}validation(t){return!("VALID"!=this.formValues.status||!function r(i){return null!=i&&i.length>0}(this.codeUser||t.busUid))}getDetails(){var t,r,i,o,a,l,c,p;new Bs("en-US"),this.BusModule.id=this.BusModule.id?this.BusModule.id:null,this.BusModule.model=null===(t=this.model)||void 0===t?void 0:t.value,this.BusModule.capacity=null===(r=this.capacity)||void 0===r?void 0:r.value,this.BusModule.busLicenceNumber=null===(i=this.busLicenceNumber)||void 0===i?void 0:i.value,this.BusModule.busLicenceExpirationDate=null===(o=this.busLicenceExpirationDate)||void 0===o?void 0:o.value,this.BusModule.busUid=this.BusModule.busUid?this.BusModule.busUid:this.codeUser,this.BusModule.phone="+"!=(null===(a=this.phone)||void 0===a?void 0:a.value[0])&&"2"!=(null===(l=this.phone)||void 0===l?void 0:l.value[1])?"+2"+(null===(c=this.phone)||void 0===c?void 0:c.value):null===(p=this.phone)||void 0===p?void 0:p.value,this.BusModule.company={id:we.Token},this.BusModule.isActive=!0,this.BusModule.active=!0}SaveBus(){this.BusModule=new Yz,console.log(this.BusModule),this.getDetails(),null!=this.codeUser?this.validation(this.BusModule)?this.BusApi.PostBus(this.BusModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.BusModule.id=t.id,this.buses.push(this.BusModule),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly"):this.toastr.info("Please finished Phone Validation correctly")}onEdit(t){this.showOTPbutton=!1,this.ShowAddbutton=!1,this.BusModule=new Yz,this.BusModule.id=Number(t.id),this.formValues.controls.phone.setValue(t.phone),this.formValues.controls.model.setValue(t.model),this.BusModule.busUid=t.busUid,this.formValues.controls.capacity.setValue(t.capacity),this.formValues.controls.busLicenceNumber.setValue(t.busLicenceNumber),this.formValues.controls.busLicenceExpirationDate.setValue(t.busLicenceExpirationDate)}UpdateBus(){this.getDetails(),this.validation(this.BusModule)?this.BusApi.UpdateBus(this.BusModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.buses.splice(this.hepler.findIndex(this.buses,this.BusModule.id),1),this.buses.push(this.BusModule),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}DeleteBus(t){this.BusApi.DeleteBus(t).subscribe(r=>{this.toastr.success("Delete Successfully"),this.buses.splice(this.hepler.findIndex(this.buses,t),1),this.SearchAndPagination()},r=>{this.toastr.warning(r.statusText)})}SendOTP(){let t=this.windowRef.recaptchaVerifier;null!=this.phone.value?Qz().signInWithPhoneNumber("+20"+this.phone.value,t).then(r=>{this.windowRef.confirmationResult=r,this.toastr.success("Send SMS To Your Number Successfully")}).catch(r=>{this.toastr.success(r)}):this.toastr.info("Please fill in the Phone correctly"),this.codeUser=null}TestOTP(){null!=this.OTP.value?this.windowRef.confirmationResult.confirm(this.OTP.value).then(r=>{this.codeUser=r.user.uid,this.toastr.success("confirmation Result Successfully"),Uwe.collection("Users").doc(r.user.uid).set({role:"Bus",UID:this.codeUser})}).catch(r=>{console.log(r)}):this.toastr.info("Please fill in the code correctly"),Qz().signOut().then(t=>{}).catch(t=>{this.toastr.info(t)})}OTPButtonShow(){this.showOTPbutton=!0}}return n.\u0275fac=function(t){return new(t||n)(H(ywe),H(So),H(jz),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-buses"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:79,vars:13,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],["appearance","standard",2,"width","257px"],["type","search","matInput","","placeholder","Search",1,"form-control","p-1",3,"keyup"],["input",""],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","phone"],["matColumnDef","capacity"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","emailExLarge",1,"form-label"],["type","text","formControlName","model","placeholder","MODEL",1,"form-control"],["type","text","formControlName","capacity","placeholder","CAPACITY",1,"form-control"],[1,"row","g-2"],[1,"col-md-7","mb-3"],["type","tel","value","+02","formControlName","phone","id","emailExLarge","placeholder","phone",1,"form-control",3,"readonly"],["class","col-md-1","style","display: flex;\n                            align-items: center;    margin-top: 17px;\n                            justify-content: center;",4,"ngIf"],["class","col-md-3 mb-3",4,"ngIf"],["class","col-md-1","style","display: flex;\n              align-items: center;    margin-top: 17px;\n              justify-content: center;",4,"ngIf"],["type","text","formControlName","busLicenceNumber","placeholder","Licence number",1,"form-control"],["type","date","formControlName","busLicenceExpirationDate","placeholder","Licence Expiration",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"dropdown"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"routerLink"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"col-md-1",2,"display","flex","align-items","center","margin-top","17px","justify-content","center"],["id","sign-in-button","type","button",1,"btn","btn-dark","btn-sm",3,"click"],[1,"col-md-3","mb-3"],["type","text","formControlName","OTP","placeholder","OTP",1,"form-control"],["type","button",1,"btn","btn-success","btn-sm",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Buses"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),x(10,"Search"),A(),T(11,"input",7,8),Te("keyup",function(o){return r.applyFilter(o)}),A()()(),T(13,"div",9)(14,"button",10),Te("click",function(){return r.AddBusButton()}),x(15,"Add Bus"),A()()(),T(16,"div",11)(17,"div")(18,"table",12),nn(19,13),J(20,Ewe,2,0,"th",14),J(21,Swe,3,1,"td",15),rn(),nn(22,16),J(23,Twe,2,0,"th",14),J(24,Dwe,2,1,"td",15),rn(),nn(25,17),J(26,Awe,2,0,"th",14),J(27,Iwe,2,1,"td",15),rn(),nn(28,18),J(29,kwe,2,0,"th",14),J(30,Mwe,2,1,"td",15),rn(),nn(31,19),J(32,xwe,2,0,"th",20),J(33,Rwe,11,1,"td",15),rn(),J(34,Pwe,1,0,"tr",21),J(35,Owe,1,0,"tr",22),J(36,Nwe,3,1,"tr",23),A(),le(37,"mat-paginator",24),A()()()()()(),T(38,"div",25)(39,"div",26)(40,"form",27),Te("ngSubmit",function(){return r.ShowAddbutton?r.SaveBus():r.UpdateBus()}),T(41,"div",28)(42,"div",29)(43,"h5",30),x(44),A(),le(45,"button",31),A(),T(46,"div",32)(47,"div",33)(48,"div",34)(49,"label",35),x(50,"MODEL"),A(),le(51,"input",36),A(),T(52,"div",34)(53,"label",35),x(54,"CAPACITY"),A(),le(55,"input",37),A()(),T(56,"div",38)(57,"div",39)(58,"label",35),x(59,"phone"),A(),le(60,"input",40),A(),J(61,Fwe,3,0,"div",41),J(62,Lwe,4,0,"div",42),J(63,Vwe,3,0,"div",43),A(),le(64,"hr"),T(65,"div",33)(66,"div",34)(67,"label",35),x(68,"Licence number"),A(),le(69,"input",44),A(),T(70,"div",34)(71,"label",35),x(72,"Licence Expiration"),A(),le(73,"input",45),A()()(),T(74,"div",46)(75,"button",47),x(76," Close "),A(),T(77,"button",48),x(78),A()()()()()()),2&t&&(j(18),te("dataSource",r.dataSource),j(16),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSize",5)("pageSizeOptions",Dd(12,Bwe)),j(3),te("formGroup",r.formValues),j(4),Ke(" ",r.ShowAddbutton?"ADD Bus":"Edit Bus",""),j(16),te("readonly",0==r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(1),te("ngIf",r.ShowAddbutton),j(15),mt(r.ShowAddbutton?"ADD Bus":"Edit Bus"))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,iy,ep,np,tp,rp,ip,Ca,Ll,Fl,vs,fa,Ka,Ya,ri],styles:[""]}),n})();class Hwe{}let Xz=(()=>{class n{constructor(t){this.http=t}getcompanyById(t){return this.http.get(`${we.UrlWebsite}/company/get-by-id?id=`+t).pipe(ye(r=>r))}getAll(){return this.http.get(`${we.UrlWebsite}/company`).pipe(ye(t=>t))}PostCompany(t){return this.http.post(`${we.UrlWebsite}/company/save-company`,t).pipe(ye(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var zwe=it.default.initializeApp,qwe=it.default.firestore,$we=it.default.analytics;function Wwe(n,e){if(1&n){const t=er();T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),af(6,"slice"),A(),T(7,"td")(8,"span",29),x(9),af(10,"date"),A()(),T(11,"td")(12,"button",30),Te("click",function(){const o=ft(t).$implicit;return de(2).onEdit(o)}),x(13,"reply"),A()()()}if(2&n){const t=e.$implicit,r=e.index,i=de(2);j(3),mt(r+1),j(2),Ke(" ",t.message.length>70?bA(6,3,t.message,0,70)+"...":t.message," "),j(4),Ke(" ",jw(10,7,i.Date(t.msgTimestamp.seconds),"yyyy/MM/dd")," ")}}function Gwe(n,e){if(1&n&&(T(0,"div",18)(1,"div",19)(2,"h2"),x(3,"Open Tickets"),A(),T(4,"div",20)(5,"div",21)(6,"div",22),le(7,"div",23),A(),T(8,"div",24)(9,"table",25)(10,"thead",26)(11,"tr")(12,"th"),x(13,"#id"),A(),T(14,"th"),x(15,"Complaint"),A(),T(16,"th"),x(17,"Time"),A(),T(18,"th"),x(19,"Actions"),A()()(),T(20,"tbody",27),J(21,Wwe,14,10,"tr",28),A()()()()()()()),2&n){const t=de();j(21),te("ngForOf",t.Complaints)}}function Kwe(n,e){if(1&n){const t=er();T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),af(6,"slice"),A(),T(7,"td")(8,"span",29),x(9),af(10,"date"),A()(),T(11,"td")(12,"button",30),Te("click",function(){const o=ft(t).$implicit;return de(2).onEdit(o)}),x(13,"show"),A()()()}if(2&n){const t=e.$implicit,r=e.index,i=de(2);j(3),mt(r+1),j(2),Ke(" ",t.message.length>70?bA(6,3,t.message,0,70)+"...":t.message," "),j(4),Ke(" ",jw(10,7,i.Date(t.msgTimestamp.seconds),"yyyy/MM/dd")," ")}}function Ywe(n,e){if(1&n&&(T(0,"div",18)(1,"div",19)(2,"h2"),x(3,"Closed Tickets"),A(),T(4,"div",20)(5,"div",21)(6,"div",22),le(7,"div",23),A(),T(8,"div",24)(9,"table",25)(10,"thead",26)(11,"tr")(12,"th"),x(13,"#id"),A(),T(14,"th"),x(15,"Complaint"),A(),T(16,"th"),x(17,"Time"),A(),T(18,"th"),x(19,"Actions"),A()()(),T(20,"tbody",27),J(21,Kwe,14,10,"tr",28),A()()()()()()()),2&n){const t=de();j(21),te("ngForOf",t.ComplaintsFinished)}}function Qwe(n,e){1&n&&le(0,"textarea",31)}function Xwe(n,e){if(1&n&&(T(0,"span"),x(1),A()),2&n){const t=de();j(1),mt(null==t.ComplaintInterface?null:t.ComplaintInterface.response)}}function Zwe(n,e){1&n&&(T(0,"button",32),x(1,"Save changes"),A())}function Jwe(n,e){1&n&&(T(0,"div",18)(1,"div",33)(2,"h2",34),x(3,"No complaints"),A(),T(4,"div",35),le(5,"img",36),A()()())}let fS;fS=it.default.apps.length?it.default.app():zwe(we.firebase),$we(fS);const Zz=qwe(fS);let e1e=(()=>{class n{constructor(t,r,i){this.ApiCompany=t,this.ApiStudent=r,this.toastr=i,this.Complaints=[],this.ComplaintsFinished=[],this.formValues=new js({response:new Xt("",[Nn.required])})}ngOnInit(){this.getCompanyAndComplaints()}ngOnDestroy(){}getComplaints(){this.fb=Zz.collection("company").doc(this.Company.companyName).collection("complaint").orderBy("msgTimestamp","desc").onSnapshot({includeMetadataChanges:!0},t=>{this.ComplaintsFinished=[],this.Complaints=[],t.forEach(r=>{null!=r.data().response&&r.data().response?this.ComplaintsFinished.push(r.data()):this.Complaints.push(r.data())}),console.log(this.ComplaintsFinished),console.log(this.Complaints)})}getCompanyAndComplaints(){this.ApiCompany.getcompanyById(we.Token).subscribe(t=>{this.Company=t,this.getComplaints()},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getCompany(){this.ApiCompany.getcompanyById(we.Token).subscribe(t=>{this.Company=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}SendReplyComplaint(t){this.washingtonRef=Zz.collection("company").doc(this.Company.companyName).collection("complaint").doc(t.complaintID),this.washingtonRef.update({response:t.response}).then(()=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click()}).catch(r=>{this.toastr.error("Error updating document:",r)})}getStudent(t){this.ApiStudent.getStudentByUID(t).subscribe(r=>{this.ComplaintInterface.user=r},r=>{this.toastr.warning(r.statusText?r.statusText:r.error?r.error:"Internal Server Error")})}Date(t){return new Date(1e3*t).toLocaleDateString("en-us")}onEdit(t){this.formValues.reset(),this.ComplaintInterface=new Hwe,this.ComplaintInterface.complaintID=t.complaintID,this.ComplaintInterface.message=t.message,this.ComplaintInterface.response=t.response,this.getStudent(t.userID),console.log(this.ComplaintInterface)}get response(){return this.formValues.get("response")}getDetails(){var t;new Bs("en-US"),this.ComplaintInterface.response=null===(t=this.response)||void 0===t?void 0:t.value}SaveComplaint(){this.getDetails(),console.log(this.ComplaintInterface),"VALID"==this.formValues.status?this.SendReplyComplaint(this.ComplaintInterface):this.toastr.info("Please fill in the data correctly")}}return n.\u0275fac=function(t){return new(t||n)(H(Xz),H(jI),H(So))},n.\u0275cmp=Ft({type:n,selectors:[["app-complaints"]],decls:38,vars:11,consts:[["class","container-xxl flex-grow-1 ",4,"ngIf"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],[1,""],[1,"form-label"],["formControlName","response","rows","10","cols","3","class","form-control",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["id","close-button","type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],[1,"badge","bg-label-success","me-1"],["data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-outline-secondary",3,"click"],["formControlName","response","rows","10","cols","3",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"misc-wrapper"],[1,"mb-2","mx-2"],[1,"mt-3"],["src","../assets/img/illustrations/Loading-rafiki.png","alt","page-misc-error-light","width","500","data-app-dark-img","illustrations/page-misc-error-dark.png","data-app-light-img","illustrations/page-misc-error-light.png",1,"img-fluid"]],template:function(t,r){1&t&&(J(0,Gwe,22,1,"div",0),le(1,"br")(2,"br"),J(3,Ywe,22,1,"div",0),T(4,"div",1)(5,"div",2)(6,"form",3),Te("ngSubmit",function(){return r.SaveComplaint()}),T(7,"div",4)(8,"div",5)(9,"h5",6),x(10,"Send Complaint"),A(),le(11,"button",7),A(),T(12,"div",8)(13,"div",9)(14,"div",10)(15,"h5",11),x(16),A()(),T(17,"div",10)(18,"h5",11),x(19),A()()(),T(20,"div",9)(21,"div",10)(22,"label",12),x(23,"Complaint: "),A(),T(24,"p",11),x(25),A()()(),le(26,"hr"),T(27,"div",9)(28,"div",10)(29,"label",12),x(30),A(),J(31,Qwe,1,0,"textarea",13),J(32,Xwe,2,1,"span",14),A()()(),T(33,"div",15)(34,"button",16),x(35," Close "),A(),J(36,Zwe,2,0,"button",17),A()()()()(),J(37,Jwe,6,0,"div",0)),2&t&&(te("ngIf",r.Complaints.length>0),j(3),te("ngIf",r.ComplaintsFinished.length>0),j(3),te("formGroup",r.formValues),j(10),Ke("Name : ",null==r.ComplaintInterface||null==r.ComplaintInterface.user?null:r.ComplaintInterface.user.stdName,""),j(3),Ke("Phone : ",null==r.ComplaintInterface||null==r.ComplaintInterface.user?null:r.ComplaintInterface.user.stdPhone,""),j(6),mt(null==r.ComplaintInterface?null:r.ComplaintInterface.message),j(5),Ke(" ",null!=r.ComplaintInterface&&r.ComplaintInterface.response?"Reply : ":" send reply",""),j(1),te("ngIf",!(null!=r.ComplaintInterface&&r.ComplaintInterface.response)),j(1),te("ngIf",null==r.ComplaintInterface?null:r.ComplaintInterface.response),j(4),te("ngIf",!(null!=r.ComplaintInterface&&r.ComplaintInterface.response)),j(1),te("ngIf",0==r.Complaints.length&&0==r.ComplaintsFinished.length))},directives:[ri,$a,Ll,Fl,vs,fa,Ka,Ya],pipes:[M5,Bs],styles:[""]}),n})();class rR{}class iR{}class Jz{}function t1e(n,e){if(1&n){const t=er();T(0,"tr")(1,"td"),x(2),A(),T(3,"td"),x(4),A(),T(5,"td"),x(6),A(),T(7,"td"),x(8),A(),T(9,"td"),x(10),A(),T(11,"td")(12,"div",38)(13,"button",39),le(14,"i",40),A(),T(15,"div",41)(16,"a",42),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(17,"Edit"),A(),T(18,"a",43),Te("click",function(){const o=ft(t).$implicit;return de().DeleteEmployee(o)}),x(19,"Delete"),A()()()()()}if(2&n){const t=e.$implicit;j(2),mt(t.emp.empName),j(2),Ke(" ",t.emp.empPhone," "),j(2),Ke(" ",t.emp.empNationalId,""),j(2),Ke(" ",t.emp.empSalary,""),j(2),Ke(" ",t.emp.empLk.lkName,"")}}function n1e(n,e){if(1&n){const t=er();T(0,"tr")(1,"td"),x(2),A(),T(3,"td"),x(4),A(),T(5,"td"),x(6),A(),T(7,"td"),x(8),A(),T(9,"td"),x(10),A(),T(11,"td")(12,"div",38)(13,"button",44),le(14,"i",40),A(),T(15,"div",45)(16,"a",42),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(17,"Edit"),A(),T(18,"a",43),Te("click",function(){const o=ft(t).$implicit;return de().DeleteEmployee(o)}),x(19,"Delete"),A()()()()()}if(2&n){const t=e.$implicit;j(2),mt(t.emp.empName),j(2),Ke(" ",t.emp.empPhone," "),j(2),Ke(" ",t.emp.empNationalId,""),j(2),Ke(" ",t.emp.empSalary,""),j(2),Ke(" ",t.emp.empLk.lkName,"")}}function r1e(n,e){if(1&n){const t=er();T(0,"tr")(1,"td"),x(2),A(),T(3,"td"),x(4),A(),T(5,"td"),x(6),A(),T(7,"td"),x(8),A(),T(9,"td"),x(10),A(),T(11,"td")(12,"div",38)(13,"button",46),le(14,"i",40),A(),T(15,"div",47)(16,"a",42),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(17,"Edit"),A(),T(18,"a",43),Te("click",function(){const o=ft(t).$implicit;return de().DeleteEmployee(o)}),x(19,"Delete"),A()()()()()}if(2&n){const t=e.$implicit;j(2),mt(t.empName),j(2),Ke(" ",t.empPhone," "),j(2),Ke(" ",t.empNationalId,""),j(2),Ke(" ",t.empSalary,""),j(2),Ke(" ",t.empLk.lkName,"")}}function i1e(n,e){if(1&n&&(T(0,"option",50),x(1),A()),2&n){const t=e.$implicit;Bm("value",t.id),j(1),Ke(" ",t.lkName," ")}}function o1e(n,e){if(1&n){const t=er();T(0,"select",48),Te("change",function(){return ft(t),de().changeempLk()}),J(1,i1e,2,2,"option",49),A()}if(2&n){const t=de();j(1),te("ngForOf",t.LK_Employees)}}function s1e(n,e){1&n&&le(0,"input",53),2&n&&(Bm("value",de().$implicit.lkName),te("readOnly",!0))}function a1e(n,e){if(1&n&&(T(0,"span"),J(1,s1e,1,2,"input",52),A()),2&n){const t=e.$implicit,r=de(2);j(1),te("ngIf",t.id==r.empLk.value)}}function l1e(n,e){if(1&n&&(nn(0),le(1,"input",51),J(2,a1e,2,1,"span",12),rn()),2&n){const t=de();j(1),te("hidden",!0),j(1),te("ngForOf",t.LK_Employees)}}function u1e(n,e){1&n&&(T(0,"div",21)(1,"div",22)(2,"label",25),x(3,"UserName"),A(),le(4,"input",54),A(),T(5,"div",22)(6,"label",25),x(7,"Password"),A(),le(8,"input",55),A()())}function c1e(n,e){1&n&&(T(0,"div",21)(1,"div",22)(2,"label",25),x(3,"Licence number"),A(),le(4,"input",56),A(),T(5,"div",22)(6,"label",25),x(7,"Licence Expiration"),A(),le(8,"input",57),A()())}let d1e=(()=>{class n{constructor(t,r,i,o){this.api=t,this.toastr=r,this.datePipe=i,this.hepler=o,this.ShowAddbutton=!0,this.data=[],this.displayedColumns=["id","appointmentStartTime","appointmentType","isActive","Action"],this.formValues=new js({empCode:new Xt("",[Nn.required]),empName:new Xt("",[Nn.required]),empPhone:new Xt("",[Nn.required]),empNationalId:new Xt("",[Nn.required]),empSalary:new Xt("",[Nn.required]),empLk:new Xt("",[Nn.required]),empStartDate:new Xt("",[Nn.required]),driverLicenceNumber:new Xt(""),driverLicenceExpirationDate:new Xt(""),username:new Xt(""),password:new Xt("")})}ngOnInit(){this.getSuperVisors(),this.getAdmins(),this.getDrivers(),this.getLK_Employees(),console.log(this.data)}getSuperVisors(){this.api.getSupervisors().subscribe(t=>{this.SuperVisors=t,this.data.SuperVisors=t,console.log(this.data)},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getAdmins(){this.api.getAdmins().subscribe(t=>{this.Admins=t,this.data.Admins=t,console.log(this.data)},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getDrivers(){this.api.getDrivers().subscribe(t=>{this.Drivers=t,this.data.Drivers=t,console.log(this.data)},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getLK_Employees(){this.api.getLK_Employees().subscribe(t=>{this.LK_Employees=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}AddButton(){this.ShowAddbutton=!0,this.valueempLk=null,this.formValues.reset()}get empCode(){return this.formValues.get("empCode")}get empPhone(){return this.formValues.get("empPhone")}get empName(){return this.formValues.get("empName")}get empLk(){return this.formValues.get("empLk")}get empNationalId(){return this.formValues.get("empNationalId")}get empSalary(){return this.formValues.get("empSalary")}get empStartDate(){return this.formValues.get("empStartDate")}get driverLicenceNumber(){return this.formValues.get("driverLicenceNumber")}get driverLicenceExpirationDate(){return this.formValues.get("driverLicenceExpirationDate")}get username(){return this.formValues.get("username")}get password(){return this.formValues.get("password")}validation(){return"VALID"==this.formValues.status}getEmpDetails(){var t,r;this.EmployeeModule.id=this.EmployeeModule.id?this.EmployeeModule.id:null,this.EmployeeModule.empCode=null!=this.EmployeeModule.empCode?this.EmployeeModule.empCode:this.empCode.value,this.EmployeeModule.empPhone=null!=this.EmployeeModule.empPhone?this.EmployeeModule.empPhone:this.empPhone.value,this.EmployeeModule.empName=null!=this.EmployeeModule.empName?this.EmployeeModule.empName:this.empName.value,this.EmployeeModule.empNationalId=null!=this.EmployeeModule.empNationalId?this.EmployeeModule.empNationalId:this.empNationalId.value,this.EmployeeModule.empSalary=null!=this.EmployeeModule.empSalary?this.EmployeeModule.empSalary:this.empSalary.value,this.EmployeeModule.empStartDate=null!=this.EmployeeModule.empStartDate?this.EmployeeModule.empStartDate:this.empStartDate.value;let i=this.hepler.searshItem(this.LK_Employees,null===(t=this.empLk)||void 0===t?void 0:t.value);this.EmployeeModule.empLk={id:null===(r=this.empLk)||void 0===r?void 0:r.value,lkName:i.lkName},this.EmployeeModule.company={id:we.Token}}getAdminDetails(){var t,r;this.AdminModule.id=this.AdminModule.id?this.AdminModule.id:null,this.AdminModule.emp=this.EmployeeModule,this.AdminModule.username=null===(t=this.username)||void 0===t?void 0:t.value,this.AdminModule.password=null===(r=this.password)||void 0===r?void 0:r.value}getDriverDetails(){var t,r;this.DriverModule.id=this.DriverModule.id?this.DriverModule.id:null,this.DriverModule.emp=this.EmployeeModule,this.DriverModule.driverLicenceNumber=null===(t=this.driverLicenceNumber)||void 0===t?void 0:t.value,this.DriverModule.driverLicenceExpirationDate=null===(r=this.driverLicenceExpirationDate)||void 0===r?void 0:r.value}SaveEmployee(){this.EmployeeModule=new rR,this.validation()?(this.getEmpDetails(),1==this.empLk.value?(this.AdminModule=new iR,this.getAdminDetails(),this.PostAdmin()):2==this.empLk.value?this.PostSupervisor():3==this.empLk.value?(this.DriverModule=new Jz,this.getDriverDetails(),this.PostDriver()):this.toastr.info("Please fill in the data correctly")):this.toastr.info("Please fill in the data correctly")}PostSupervisor(){this.api.PostSuperVisor(this.EmployeeModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.EmployeeModule.id=t.id,this.SuperVisors.push(this.EmployeeModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")})}PostAdmin(){null!=this.username.value&&null!=this.password.value||this.username.value>0&&this.password.value>0?this.api.PostAdmin(this.AdminModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.AdminModule.id=t.id,this.Admins.push(this.AdminModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")}):this.toastr.info("Please fill All data")}PostDriver(){null!=this.driverLicenceNumber.value&&null!=this.driverLicenceExpirationDate.value?this.api.PostDriverInfo(this.DriverModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.DriverModule.id=t.id,this.Drivers.push(this.DriverModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")}):this.toastr.info("Please fill All data")}onEdit(t){this.ShowAddbutton=!1,this.EmployeeModule=new rR,t.empLk&&2==t.empLk.id?(this.valueempLk=2,this.EmployeeModule.id=Number(t.id),this.formValues.controls.empCode.setValue(t.empCode),this.formValues.controls.empName.setValue(t.empName),this.formValues.controls.empPhone.setValue(t.empPhone),this.formValues.controls.empNationalId.setValue(t.empNationalId),this.formValues.controls.empLk.setValue(t.empLk.id),this.formValues.controls.empStartDate.setValue(t.empStartDate),this.formValues.controls.empSalary.setValue(t.empSalary)):(this.EmployeeModule.id=Number(t.emp.id),this.formValues.controls.empCode.setValue(t.emp.empCode),this.formValues.controls.empName.setValue(t.emp.empName),this.formValues.controls.empPhone.setValue(t.emp.empPhone),this.formValues.controls.empNationalId.setValue(t.emp.empNationalId),this.formValues.controls.empLk.setValue(t.emp.empLk.id),this.formValues.controls.empStartDate.setValue(t.emp.empStartDate),this.formValues.controls.empSalary.setValue(t.emp.empSalary),t.emp.empLk&&3==t.emp.empLk.id?(this.DriverModule=new Jz,this.DriverModule.id=Number(t.id),this.formValues.controls.driverLicenceNumber.setValue(t.driverLicenceNumber),this.formValues.controls.driverLicenceExpirationDate.setValue(t.driverLicenceExpirationDate),this.valueempLk=3):t.emp.empLk&&1==t.emp.empLk.id&&(this.AdminModule=new iR,this.AdminModule.id=Number(t.id),this.formValues.controls.username.setValue(t.username),this.formValues.controls.password.setValue(t.password),this.valueempLk=1))}UpdateEmployee(){this.getEmpDetails(),this.validation()?1==this.empLk.value?(this.getAdminDetails(),this.UpdateAdmin()):2==this.empLk.value?this.UpdateSupervisor():3==this.empLk.value?(this.getDriverDetails(),this.UpdateDriver()):this.toastr.info("Please fill in the data correctly"):this.toastr.info("Please fill in the data correctly")}UpdateSupervisor(){this.api.UpdateSuperVisor(this.EmployeeModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.SuperVisors.splice(this.hepler.findIndex(this.SuperVisors,this.EmployeeModule.id),1),this.EmployeeModule.id=t.id,this.SuperVisors.push(this.EmployeeModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")})}UpdateAdmin(){null!=this.username.value&&null!=this.password.value||this.username.value>0&&this.password.value>0?this.api.UpdateAdmin(this.AdminModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.Admins.splice(this.hepler.findIndex(this.Admins,this.AdminModule.id),1),this.AdminModule.id=t.id,this.Admins.push(this.AdminModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")}):this.toastr.info("Please fill All data")}UpdateDriver(){null!=this.driverLicenceNumber.value&&null!=this.driverLicenceExpirationDate.value?this.api.UpdateDriverInfo(this.DriverModule).subscribe(t=>{this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.Drivers.splice(this.hepler.findIndex(this.Drivers,this.DriverModule.id),1),this.DriverModule.id=t.id,this.Drivers.push(this.DriverModule)},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")}):this.toastr.info("Please fill All data")}changeempLk(){this.valueempLk=Number(this.empLk.value)}DeleteEmployee(t){this.api.DeleteAppointment(t.empLk&&2==t.empLk.id?t.id:t.emp.id).subscribe(r=>{this.toastr.success("Delete Successfully"),t.empLk&&2==t.empLk.id?this.SuperVisors.splice(this.hepler.findIndex(this.Admins,t.id),1):3==t.emp.empLk.id?this.Drivers.splice(this.hepler.findIndex(this.Admins,t.id),1):1==t.emp.empLk.id?this.Admins.splice(this.hepler.findIndex(this.Admins,t.id),1):this.toastr.warning("sorry Can't Delete")},r=>{this.toastr.warning(r.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(x1),H(So),H(Bs),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-employees"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:80,vars:9,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","placeholder","Enter Name","formControlName","empName",1,"form-control"],["for","emailExLarge",1,"form-label"],["type","text","formControlName","empCode","placeholder","code",1,"form-control"],["type","tel","formControlName","empPhone","id","emailExLarge","placeholder","phone",1,"form-control"],[1,"form-label"],["class","form-select","formControlName","empLk",3,"change",4,"ngIf"],[4,"ngIf"],["type","text","formControlName","empNationalId","placeholder","NationalId",1,"form-control"],["type","text","name","SALARY","formControlName","empSalary","placeholder","SALARY",1,"form-control"],["type","date","placeholder","empStartDate","formControlName","empStartDate",1,"form-control"],["class","row g-2 mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["type","button","id","orederStatistics1","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],["aria-labelledby","orederStatistics1",1,"dropdown-menu","dropdown-menu-end"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["formControlName","empLk",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","empLk",1,"form-control",3,"hidden"],["class","form-control","type","text",3,"readOnly","value",4,"ngIf"],["type","text",1,"form-control",3,"readOnly","value"],["type","text","formControlName","username","placeholder","UserName",1,"form-control"],["type","text","placeholder","password","formControlName","password",1,"form-control"],["type","text","value","6113","placeholder","Licence number","formControlName","driverLicenceNumber",1,"form-control"],["type","date","placeholder","Licence Expiration","formControlName","driverLicenceExpirationDate",1,"form-control"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Employees"),A(),T(4,"div",2)(5,"div",3)(6,"div",4),le(7,"div",5),T(8,"div",6)(9,"button",7),Te("click",function(){return r.AddButton()}),x(10,"Add Employee"),A()()(),T(11,"div",8)(12,"table",9)(13,"thead",10)(14,"tr")(15,"th"),x(16,"Name"),A(),T(17,"th"),x(18,"Phone"),A(),T(19,"th"),x(20,"NID"),A(),T(21,"th"),x(22,"Salary"),A(),T(23,"th"),x(24,"Type"),A(),T(25,"th"),x(26,"Actions"),A()()(),T(27,"tbody",11),J(28,t1e,20,5,"tr",12),J(29,n1e,20,5,"tr",12),J(30,r1e,20,5,"tr",12),A()()()()()()(),T(31,"div",13)(32,"div",14)(33,"form",15),Te("ngSubmit",function(){return r.ShowAddbutton?r.SaveEmployee():r.UpdateEmployee()}),T(34,"div",16)(35,"div",17)(36,"h5",18),x(37),A(),le(38,"button",19),A(),T(39,"div",20)(40,"div",21)(41,"div",22)(42,"label",23),x(43,"Name"),A(),le(44,"input",24),A(),T(45,"div",22)(46,"label",25),x(47,"code"),A(),le(48,"input",26),A()(),T(49,"div",21)(50,"div",22)(51,"label",25),x(52,"phone"),A(),le(53,"input",27),A(),T(54,"div",22)(55,"label",28),x(56,"TYPE"),A(),J(57,o1e,2,1,"select",29),J(58,l1e,3,2,"ng-container",30),A()(),T(59,"div",21)(60,"div",22)(61,"label",25),x(62,"NationalId"),A(),le(63,"input",31),A(),T(64,"div",22)(65,"label",25),x(66,"SALARY"),A(),le(67,"input",32),A(),T(68,"div",22)(69,"label",25),x(70,"Start Date To Work"),A(),le(71,"input",33),A()(),le(72,"hr"),J(73,u1e,9,0,"div",34),J(74,c1e,9,0,"div",34),T(75,"div",35)(76,"button",36),x(77," Close "),A(),T(78,"button",37),x(79,"Save changes"),A()()()()()()()),2&t&&(j(28),te("ngForOf",r.Drivers),j(1),te("ngForOf",r.Admins),j(1),te("ngForOf",r.SuperVisors),j(3),te("formGroup",r.formValues),j(4),mt(r.ShowAddbutton?"ADD Employee":"Edit Employee"),j(20),te("ngIf",1==r.ShowAddbutton),j(1),te("ngIf",0==r.ShowAddbutton),j(15),te("ngIf",1==r.valueempLk),j(1),te("ngIf",3==r.valueempLk))},directives:[$a,Ll,Fl,vs,fa,Ka,Ya,ri,Pd,vf,_f],styles:[""]}),n})();var h1e=function n(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(i=r;0!=i--;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!n(e[a],t[a]))return!1}return!0}return e!=e&&t!=t};const eq="__googleMapsScriptId";var ap=(()=>(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"}(ap||(ap={})),ap))();class lp{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:i,id:o=eq,language:a,libraries:l=[],mapIds:c,nonce:p,region:v,retries:b=3,url:w="https://maps.googleapis.com/maps/api/js",version:I}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=i,this.id=o||eq,this.language=a,this.libraries=l,this.mapIds=c,this.nonce=p,this.region=v,this.retries=b,this.url=w,this.version=I,lp.instance){if(!h1e(this.options,lp.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(lp.instance.options)}`);return lp.instance}lp.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ap.FAILURE:this.done?ap.SUCCESS:this.loading?ap.LOADING:ap.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}class tq{}let f1e=(()=>{class n{constructor(t){this.http=t}getMapPoints(){return this.http.get(`${we.UrlWebsite}/mapPoint/company/active?id=`+we.Token).pipe(ye(t=>t))}PostMapPoint(t){return this.http.post(`${we.UrlWebsite}/mapPoint/save-mapPoint`,t).pipe(ye(r=>r))}UpdateMapPoint(t){return this.http.put(`${we.UrlWebsite}/mapPoint/update-mapPoint`,t).pipe(ye(r=>r))}DeleteMapPoint(t){return this.http.put(`${we.UrlWebsite}/mapPoint/delete-mapPoint?id=`+t,!0).pipe(ye(r=>r,r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p1e(n,e){1&n&&(T(0,"th",49),x(1," ID "),A())}function m1e(n,e){if(1&n&&(T(0,"td",50)(1,"strong"),x(2),A()()),2&n){const t=e.index;j(2),mt(t+1)}}function g1e(n,e){1&n&&(T(0,"th",49),x(1," Title "),A())}function v1e(n,e){if(1&n&&(T(0,"td",50),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.mapPointTitleAr," ")}}function _1e(n,e){1&n&&(T(0,"th",49),x(1," TYPE "),A())}function y1e(n,e){1&n&&(T(0,"span",53),x(1," Pick up "),A())}function b1e(n,e){1&n&&(T(0,"span",54),x(1," Drop off "),A())}function w1e(n,e){if(1&n&&(T(0,"td",50),J(1,y1e,2,0,"span",51),J(2,b1e,2,0,"span",52),A()),2&n){const t=e.$implicit;j(1),te("ngIf","P"==t.mapPointType),j(1),te("ngIf","D"==t.mapPointType)}}function C1e(n,e){1&n&&(T(0,"th",49),x(1," STATUS "),A())}function E1e(n,e){1&n&&(T(0,"span",54),x(1," Active "),A())}function S1e(n,e){1&n&&(T(0,"span",56),x(1," Not Active "),A())}function T1e(n,e){if(1&n&&(T(0,"td",50),J(1,E1e,2,0,"span",52),J(2,S1e,2,0,"span",55),A()),2&n){const t=e.$implicit;j(1),te("ngIf",1==t.isActive),j(1),te("ngIf",1!=t.isActive)}}function D1e(n,e){1&n&&(T(0,"th",57),x(1," Action "),A())}function A1e(n,e){if(1&n){const t=er();T(0,"td",50)(1,"div",58)(2,"button",59),le(3,"i",60),A(),T(4,"div",61)(5,"a",62),Te("click",function(){const o=ft(t).$implicit;return de().onEdit(o)}),x(6,"Edit"),A(),T(7,"a",63),Te("click",function(){const o=ft(t).$implicit;return de().DeleteMarker(o.id)}),x(8,"Delete"),A()()()()}}function I1e(n,e){1&n&&le(0,"tr",64)}function k1e(n,e){1&n&&le(0,"tr",65)}function M1e(n,e){if(1&n&&(T(0,"tr",66)(1,"td",67),x(2),A()()),2&n){de();const t=Cu(12);j(2),Ke('No data matching the filter "',t.value,'"')}}function x1e(n,e){if(1&n&&(T(0,"div",68),le(1,"input",69),T(2,"label",70),x(3,"Active"),A()()),2&n){const t=de();j(1),te("checked",1==t.isActiveButton)}}const R1e=function(){return[5,10,25,100]};let P1e=(()=>{class n{constructor(t,r,i){this.api=t,this.toastr=r,this.hepler=i,this.markers=[],this.markerMap=[],this.markersMap=[],this.ShowAddbutton=!0,this.displayedColumns=["id","mapPointTitleAr","mapPointType","isActive","Action"],this.formValues=new js({mapPointTitleAr:new Xt("",[Nn.required]),mapPointTitleEn:new Xt("",[Nn.required]),mapPointType:new Xt("",[Nn.required]),isActive:new Xt("")}),this.isActiveButton=!0,this.getMapPoints(),this.loader=new lp({apiKey:we.MapApiKay})}ngOnInit(){this.loader.load().then(()=>{this.map=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(31.265681001787627,30.809710233977192),zoom:9,styles:we.Mapstyles}),this.mapAll=new google.maps.Map(document.getElementById("mapAll"),{center:new google.maps.LatLng(31.265681001787627,30.809710233977192),zoom:9,styles:we.Mapstyles}),this.icon={url:"../assets/img/icons/Icons/bus-station-colored.svg",scaledSize:new google.maps.Size(30,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0),fillColor:"#EB671A",strokeColor:"#EB671A",fillOpacity:1,strokeWeight:1,scale:.075},google.maps.event.addListener(this.map,"click",t=>{for(let r=0;r<this.markerMap.length;r++)this.markerMap[r].setMap(null);this.markerMap[0]=this.addMarker(t.latLng,this.map),this.markerPoint=JSON.parse(JSON.stringify(this.markerMap[0].position.toJSON(),null,2)),console.log(this.markerPoint)})})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}SearchAndPagination(){this.dataSource=new Xg(this.markers),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getMapPoints(){this.api.getMapPoints().subscribe(t=>{this.markers=t,this.SearchAndPagination(),this.AddAllPoints(t)},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}AddAllPoints(t){this.loader.load().then(()=>{t.forEach(r=>{this.markerPoint=this.AllPoints(r),this.markersMap.push(this.markerPoint)})})}AllPoints(t){return new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),map:this.mapAll,icon:this.icon,title:t.mapPointTitleAr})}addMarker(t,r){return new google.maps.Marker({position:t,map:r,icon:this.icon})}get mapPointTitleAr(){return this.formValues.get("mapPointTitleAr")}get mapPointTitleEn(){return this.formValues.get("mapPointTitleEn")}get mapPointType(){return this.formValues.get("mapPointType")}get isActive(){return this.formValues.get("isActive")}validation(t){return"VALID"==this.formValues.status&&null!=this.markerPoint}getDetails(){var t,r,i;this.MapPointModule.id=this.MapPointModule.id?this.MapPointModule.id:null,this.MapPointModule.mapPointTitleAr=null!=this.MapPointModule.mapPointTitleAr?this.MapPointModule.mapPointTitleAr:this.mapPointTitleAr.value,this.MapPointModule.mapPointTitleEn=null!=this.MapPointModule.mapPointTitleEn?this.MapPointModule.mapPointTitleEn:this.mapPointTitleEn.value,null!=this.markerPoint&&(this.MapPointModule.longitude=this.markerPoint.lng),null!=this.markerPoint&&(this.MapPointModule.latitude=this.markerPoint.lat),this.MapPointModule.mapPointType=null===(t=this.mapPointType)||void 0===t?void 0:t.value,this.MapPointModule.isActive=1==this.ShowAddbutton||null!=(null===(r=this.isActive)||void 0===r?void 0:r.value)&&0!=(null===(i=this.isActive)||void 0===i?void 0:i.value),this.MapPointModule.company={id:we.Token}}onEdit(t){this.ShowAddbutton=!1,this.MapPointModule=new tq,this.MapPointModule.id=Number(t.id),this.formValues.controls.mapPointTitleAr.setValue(t.mapPointTitleAr),this.formValues.controls.mapPointTitleEn.setValue(t.mapPointTitleEn),this.formValues.controls.mapPointType.setValue(t.mapPointType),this.formValues.controls.isActive.setValue(t.isActive),this.MapPointModule.longitude=t.longitude,this.MapPointModule.latitude=t.latitude,this.isActiveButton=t.isActive,null!=this.markerMap[0]&&(this.markerMap[0].setMap(null),this.markerMap[0]=null),this.markerMap[0]=this.addMarker(new google.maps.LatLng(t.latitude,t.longitude),this.map),this.markerPoint=null}AddButton(){this.ShowAddbutton=!0,this.formValues.reset();for(let t=0;t<this.markerMap.length;t++)this.markerMap[t].setMap(null);this.markerPoint=null}SavePoint(){this.MapPointModule=new tq,this.validation(this.MapPointModule)?(this.getDetails(),console.log(this.MapPointModule),this.api.PostMapPoint(this.MapPointModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click();for(let i=0;i<this.markersMap.length;i++)this.markersMap[i].setMap(null);this.getMapPoints(),this.SearchAndPagination()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")})):this.toastr.info("Please fill in the data correctly")}UpdatePoint(){this.getDetails(),console.log(this.MapPointModule),"VALID"==this.formValues.status?this.api.UpdateMapPoint(this.MapPointModule).subscribe(t=>{for(let i=0;i<this.markersMap.length;i++)this.markersMap[i].setMap(null);this.getMapPoints(),this.toastr.success("Updated Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.SearchAndPagination()},t=>{this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}DeleteMarker(t){this.api.DeleteMapPoint(t).subscribe(r=>{for(let i=0;i<this.markersMap.length;i++)this.markersMap[i].setMap(null);this.getMapPoints(),this.SearchAndPagination(),this.toastr.success("Delete Successfully")},r=>{this.toastr.warning(r.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(f1e),H(So),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-locations"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:75,vars:9,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],["appearance","standard",2,"width","257px"],["type","search","matInput","","placeholder","Search",1,"form-control","p-1",3,"keyup"],["input",""],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mapPointTitleAr"],["matColumnDef","mapPointType"],["matColumnDef","isActive"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],[1,"col-md-12",2,"margin","20px 0"],["id","mapAll",2,"height","500px"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","value","point 1\t","placeholder","Enter Name","formControlName","mapPointTitleAr",1,"form-control"],["for","nameExLarge1",1,"form-label"],["type","text","id","nameExLarge1","value","point 1\t","placeholder","Enter Name","formControlName","mapPointTitleEn",1,"form-control"],["formControlName","mapPointType",1,"form-select"],["value","P"],["value","D"],["class","form-check form-switch mb-2",4,"ngIf"],["id","map",2,"height","500px"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge  bg-label-primary me-1",4,"ngIf"],["class","badge  bg-label-success me-1",4,"ngIf"],[1,"badge","bg-label-primary","me-1"],[1,"badge","bg-label-success","me-1"],["class","badge bg-label-danger me-11",4,"ngIf"],[1,"badge","bg-label-danger","me-11"],["mat-header-cell",""],[1,"dropdown"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"dropdown-item",3,"click"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"form-check","form-switch","mb-2"],["type","checkbox","id","flexSwitchCheckDefault","formControlName","isActive",1,"form-check-input",3,"checked"],["for","flexSwitchCheckDefault",1,"form-check-label"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Map Locations "),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),x(10,"Search"),A(),T(11,"input",7,8),Te("keyup",function(o){return r.applyFilter(o)}),A()()(),T(13,"div",9)(14,"button",10),Te("click",function(){return r.AddButton()}),x(15,"Add Map Location "),A()()(),T(16,"div",11)(17,"div")(18,"table",12),nn(19,13),J(20,p1e,2,0,"th",14),J(21,m1e,3,1,"td",15),rn(),nn(22,16),J(23,g1e,2,0,"th",14),J(24,v1e,2,1,"td",15),rn(),nn(25,17),J(26,_1e,2,0,"th",14),J(27,w1e,3,2,"td",15),rn(),nn(28,18),J(29,C1e,2,0,"th",14),J(30,T1e,3,2,"td",15),rn(),nn(31,19),J(32,D1e,2,0,"th",20),J(33,A1e,9,0,"td",15),rn(),J(34,I1e,1,0,"tr",21),J(35,k1e,1,0,"tr",22),J(36,M1e,3,1,"tr",23),A(),le(37,"mat-paginator",24),A()()()(),T(38,"div",25),le(39,"div",26),A()()(),T(40,"div",27)(41,"div",28)(42,"form",29),Te("ngSubmit",function(){return r.ShowAddbutton?r.SavePoint():r.UpdatePoint()}),T(43,"div",30)(44,"div",31)(45,"h5",32),x(46),A(),le(47,"button",33),A(),T(48,"div",34)(49,"div",35)(50,"div",36)(51,"label",37),x(52,"Title Arabic"),A(),le(53,"input",38),A(),T(54,"div",36)(55,"label",39),x(56,"Title English"),A(),le(57,"input",40),A(),T(58,"div",36)(59,"label",37),x(60,"TYPE"),A(),T(61,"select",41)(62,"option",42),x(63,"Pick up"),A(),T(64,"option",43),x(65,"Drop off "),A()()(),J(66,x1e,4,1,"div",44),A(),T(67,"div",35)(68,"div",36),le(69,"div",45),A()()(),T(70,"div",46)(71,"button",47),x(72," Close "),A(),T(73,"button",48),x(74,"Save changes"),A()()()()()()),2&t&&(j(18),te("dataSource",r.dataSource),j(16),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSize",5)("pageSizeOptions",Dd(8,R1e)),j(5),te("formGroup",r.formValues),j(4),mt(r.ShowAddbutton?"ADD Point":"Edit Point"),j(20),te("ngIf",0==r.ShowAddbutton))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,ri,ep,np,tp,rp,ip,Ca,Ll,Fl,vs,fa,Ka,Ya,Pd,vf,_f,P1],styles:[""]}),n})(),O1e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-reports"]],decls:204,vars:0,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","justify-content-between"],[1,"left-card",2,"flex-grow","1","display","flex"],[1,"form-select","search-card-style"],["value","1"],["value","2"],["value","3"],["type","date","value","2021-06-18",1,"form-control","search-card-style"],[1,"right-card"],["type","button",1,"btn","btn-sm","btn-primary",2,"width","100px"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],["aria-label","Page navigation ",1,"d-flex","justify-content-center"],[1,"pagination"],[1,"page-item","prev"],["href","javascript:void(0);",1,"page-link"],[1,"tf-icon","bx","bx-chevron-left"],[1,"page-item","active"],[1,"page-item"],[1,"page-item","next"],[1,"tf-icon","bx","bx-chevron-right"],[1,"card",2,"margin","30px 0"],["type","button",1,"btn","btn-sm","btn-primary","Other-table",2,"margin-left","10px"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Reports"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"select",6)(9,"option"),x(10,"Daily Report"),A(),T(11,"option",7),x(12,"Subscribed Student"),A(),T(13,"option",8),x(14,"Town Report"),A(),T(15,"option",9),x(16,"Universities Report"),A(),T(17,"option",9),x(18,"Student Report"),A(),T(19,"option",9),x(20,"bus Report -- fees"),A(),T(21,"option",9),x(22,"Montly Profit"),A()(),le(23,"input",10),A(),T(24,"div",11)(25,"button",12),x(26,"search"),A()()(),T(27,"div",13)(28,"table",14)(29,"thead",15)(30,"tr")(31,"th"),x(32,"Bus"),A(),T(33,"th"),x(34,"Driver"),A(),T(35,"th"),x(36,"Count of Studnets"),A(),T(37,"th"),x(38,"Scheduled"),A()()(),T(39,"tbody",16)(40,"tr")(41,"td")(42,"strong"),x(43,"Bus 1"),A()(),T(44,"td"),x(45,"Yasser"),A(),T(46,"td"),x(47," 45 "),A(),T(48,"td"),x(49,"6:30 AM"),A()(),T(50,"tr")(51,"td")(52,"strong"),x(53,"Bus 2"),A()(),T(54,"td"),x(55,"Elwsef"),A(),T(56,"td"),x(57," 35 "),A(),T(58,"td"),x(59,"7:30 AM"),A()(),T(60,"tr")(61,"td")(62,"strong"),x(63,"Bus 3"),A()(),T(64,"td"),x(65,"Elmogy"),A(),T(66,"td"),x(67," 10 "),A(),T(68,"td"),x(69,"8:30 AM"),A()(),T(70,"tr")(71,"td")(72,"strong"),x(73,"Bus 4"),A()(),T(74,"td"),x(75,"Ahmed"),A(),T(76,"td"),x(77," 66 "),A(),T(78,"td"),x(79,"9:30 AM"),A()()()()(),T(80,"nav",17)(81,"ul",18)(82,"li",19)(83,"a",20),le(84,"i",21),A()(),T(85,"li",22)(86,"a",20),x(87,"1"),A()(),T(88,"li",23)(89,"a",20),x(90,"2"),A()(),T(91,"li",23)(92,"a",20),x(93,"3"),A()(),T(94,"li",23)(95,"a",20),x(96,"4"),A()(),T(97,"li",23)(98,"a",20),x(99,"5"),A()(),T(100,"li",24)(101,"a",20),le(102,"i",25),A()()()()()(),T(103,"div",2)(104,"div",26)(105,"div",4)(106,"div",5)(107,"select",6)(108,"option"),x(109,"Daily Report"),A(),T(110,"option",7),x(111,"Subscribed Student"),A(),T(112,"option",8),x(113,"Town Report"),A(),T(114,"option",9),x(115,"Universities Report"),A(),T(116,"option",9),x(117,"Student Report"),A(),T(118,"option",9),x(119,"bus Report -- fees"),A(),T(120,"option",9),x(121,"Montly Profit"),A()(),le(122,"input",10),A(),T(123,"div",11)(124,"button",12),x(125,"search"),A()()(),T(126,"div",13)(127,"table",14)(128,"thead",15)(129,"tr")(130,"th"),x(131,"Bus"),A(),T(132,"th"),x(133,"Driver"),A(),T(134,"th"),x(135,"Count of Studnets"),A(),T(136,"th"),x(137,"Scheduled"),A()()(),T(138,"tbody",16)(139,"tr")(140,"td")(141,"strong"),x(142,"Bus 1"),A()(),T(143,"td"),x(144,"Yasser"),A(),T(145,"td"),x(146," 45 "),A(),T(147,"td"),x(148,"6:30 AM"),A()(),T(149,"tr")(150,"td")(151,"strong"),x(152,"Bus 2"),A()(),T(153,"td"),x(154,"Elwsef"),A(),T(155,"td"),x(156," 35 "),A(),T(157,"td"),x(158,"7:30 AM"),A()(),T(159,"tr")(160,"td")(161,"strong"),x(162,"Bus 3"),A()(),T(163,"td"),x(164,"Elmogy"),A(),T(165,"td"),x(166," 10 "),A(),T(167,"td"),x(168,"8:30 AM"),A()(),T(169,"tr")(170,"td")(171,"strong"),x(172,"Bus 4"),A()(),T(173,"td"),x(174,"Ahmed"),A(),T(175,"td"),x(176," 66 "),A(),T(177,"td"),x(178,"9:30 AM"),A()()()()(),T(179,"nav",17)(180,"ul",18)(181,"li",19)(182,"a",20),le(183,"i",21),A()(),T(184,"li",22)(185,"a",20),x(186,"1"),A()(),T(187,"li",23)(188,"a",20),x(189,"2"),A()(),T(190,"li",23)(191,"a",20),x(192,"3"),A()(),T(193,"li",23)(194,"a",20),x(195,"4"),A()(),T(196,"li",23)(197,"a",20),x(198,"5"),A()(),T(199,"li",24)(200,"a",20),le(201,"i",25),A()()()()(),T(202,"button",27),x(203," view Other table "),A()()()())},directives:[vf,_f],styles:["@media (max-width: 700px){.left-card[_ngcontent-%COMP%]{display:block!important}.report-card-style[_ngcontent-%COMP%]{width:100%;display:block}}"]}),n})();class N1e{}class F1e{}function L1e(n,e){1&n&&(T(0,"td")(1,"span",35),x(2," Active "),A()())}function V1e(n,e){1&n&&(T(0,"td")(1,"span",36),x(2," Not Active "),A()())}function B1e(n,e){if(1&n){const t=er();T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),J(6,L1e,3,0,"td",29),J(7,V1e,3,0,"td",29),T(8,"td")(9,"div",30)(10,"button",31),le(11,"i",32),A(),T(12,"div",33)(13,"a",34),Te("click",function(){const o=ft(t).$implicit;return de().Delete(o.id,1)}),x(14,"Delete"),A()()()()()}if(2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),mt(t.universityName),j(1),te("ngIf",1==t.isActive),j(1),te("ngIf",1!=t.isActive)}}function U1e(n,e){1&n&&(T(0,"td")(1,"span",35),x(2," Active "),A()())}function j1e(n,e){1&n&&(T(0,"td")(1,"span",36),x(2," Not Active "),A()())}function H1e(n,e){if(1&n){const t=er();T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),J(6,U1e,3,0,"td",29),J(7,j1e,3,0,"td",29),T(8,"td")(9,"div",30)(10,"button",37),le(11,"i",32),A(),T(12,"div",38)(13,"a",34),Te("click",function(){const o=ft(t).$implicit;return de().Delete(o.id,2)}),x(14,"Delete"),A()()()()()}if(2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),mt(t.townName),j(1),te("ngIf",1==t.isActive),j(1),te("ngIf",1!=t.isActive)}}let z1e=(()=>{class n{constructor(t,r,i,o){this.UniversityApi=t,this.TownApi=r,this.toastr=i,this.hepler=o,this.theDateNow=new Date,this.ShowAddbutton=!0,this.Town_Uni=1,this.formValues=new js({Name:new Xt("",[Nn.required]),isActive:new Xt("")})}ngOnInit(){this.getUniversities(),this.getTowns()}getUniversities(){this.UniversityApi.getAllUniversities(Number(we.Token)).subscribe(t=>{this.Universities=t},t=>{this.toastr.warning(t.statusText?"Internal Server Error":t.error?t.error:"Internal Server Error")})}getTowns(){this.TownApi.getAllTowns(Number(we.Token)).subscribe(t=>{this.Towns=t},t=>{this.toastr.warning(t.statusText?"Internal Server Error":t.error?t.error:"Internal Server Error")})}AddButtonUNi(){this.ShowAddbutton=!0,this.formValues.reset(),this.Town_Uni=1}AddButtonTown(){this.ShowAddbutton=!0,this.formValues.reset(),this.Town_Uni=2}get Name(){return this.formValues.get("Name")}get isActive(){return this.formValues.get("isActive")}validation(){return"VALID"==this.formValues.status}getUniversityDetails(){var t,r;this.UniversityModule.id=this.UniversityModule.id?this.UniversityModule.id:null,this.UniversityModule.universityName=this.UniversityModule.universityName?this.UniversityModule.universityName:this.Name.value,this.UniversityModule.company={id:we.Token},this.UniversityModule.isActive=1==this.ShowAddbutton||null!=(null===(t=this.isActive)||void 0===t?void 0:t.value)&&0!=(null===(r=this.isActive)||void 0===r?void 0:r.value)}getTownDetails(){var t,r;this.TownModule.id=this.TownModule.id?this.TownModule.id:null,this.TownModule.townName=this.TownModule.townName?this.TownModule.townName:this.Name.value,this.TownModule.company={id:we.Token},this.TownModule.isActive=1==this.ShowAddbutton||null!=(null===(t=this.isActive)||void 0===t?void 0:t.value)&&0!=(null===(r=this.isActive)||void 0===r?void 0:r.value)}Save(){1==this.Town_Uni?(this.SaveUniversity(),console.log(this.Universities)):(this.SaveTwon(),console.log(this.Towns))}SaveUniversity(){this.UniversityModule=new N1e,this.getUniversityDetails(),this.validation()?this.UniversityApi.PostUniversity(this.UniversityModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.UniversityModule.id=t.id,this.Universities.push(this.UniversityModule)},t=>{this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}SaveTwon(){this.TownModule=new F1e,this.getTownDetails(),this.validation()?this.TownApi.PostTown(this.TownModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.TownModule.id=t.id,this.Towns.push(this.TownModule)},t=>{this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}Delete(t,r){this.Town_Uni=r,1==this.Town_Uni?(this.DeleteUniversity(t),console.log(this.Universities)):(this.DeleteTwon(t),console.log(this.Towns))}DeleteUniversity(t){this.UniversityApi.DeleteUniversity(t).subscribe(r=>{this.toastr.success("Delete Successfully"),this.Universities.splice(this.hepler.findIndex(this.Universities,t),1)},r=>{this.toastr.warning(r.statusText)})}DeleteTwon(t){this.TownApi.DeleteTown(t).subscribe(r=>{this.toastr.success("Delete Successfully"),this.Towns.splice(this.hepler.findIndex(this.Towns,t),1)},r=>{this.toastr.warning(r.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(zz),H(Hz),H(So),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-Supports"]],decls:72,vars:4,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"fw-bold"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","placeholder","Enter Name","formControlName","Name",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[1,"dropdown"],["type","button","id","orederStatistics","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],[1,"bx","bx-dots-vertical-rounded"],["aria-labelledby","orederStatistics",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-11"],["type","button","id","orederStatistics1","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],["aria-labelledby","orederStatistics1",1,"dropdown-menu","dropdown-menu-end"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h4",2),x(3,"Universities"),A(),T(4,"div",3)(5,"div",4)(6,"div",5),le(7,"div",6),T(8,"div",7)(9,"button",8),Te("click",function(){return r.AddButtonUNi()}),x(10,"Add university"),A()()(),T(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th"),x(16,"#id"),A(),T(17,"th"),x(18,"Name"),A(),T(19,"th"),x(20,"Status"),A(),T(21,"th"),x(22,"Actions"),A()()(),T(23,"tbody",12),J(24,B1e,15,4,"tr",13),A()()()()()()(),le(25,"br")(26,"br"),T(27,"div",0)(28,"div",1),le(29,"span"),T(30,"h4",2),x(31,"Towns"),A(),T(32,"div",3)(33,"div",4)(34,"div",5),le(35,"div",6),T(36,"div",7)(37,"button",8),Te("click",function(){return r.AddButtonTown()}),x(38,"Add Town"),A()()(),T(39,"div",9)(40,"table",10)(41,"thead",11)(42,"tr")(43,"th"),x(44,"#id"),A(),T(45,"th"),x(46,"Name"),A(),T(47,"th"),x(48,"Status"),A(),T(49,"th"),x(50,"Actions"),A()()(),T(51,"tbody",12),J(52,H1e,15,4,"tr",13),A()()()()()(),T(53,"div",14)(54,"div",15)(55,"form",16),Te("ngSubmit",function(){return!!r.ShowAddbutton&&r.Save()}),T(56,"div",17)(57,"div",18)(58,"h5",19),x(59),A(),le(60,"button",20),A(),T(61,"div",21)(62,"div",22)(63,"div",23)(64,"label",24),x(65,"Name"),A(),le(66,"input",25),A()()(),T(67,"div",26)(68,"button",27),x(69," Close "),A(),T(70,"button",28),x(71,"Save changes"),A()()()()()()()),2&t&&(j(24),te("ngForOf",r.Universities),j(28),te("ngForOf",r.Towns),j(3),te("formGroup",r.formValues),j(4),Ke("",r.ShowAddbutton?"ADD"+(1==r.Town_Uni?" University":" Town"):"Edit"+(1==r.Town_Uni?" University":" Town")," "))},directives:[$a,ri,Ll,Fl,vs,fa,Ka,Ya],styles:[""]}),n})();class q1e{}function $1e(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),mt(t.companyName),j(2),Ke(" ",t.companyPhone," "),j(2),Ke(" ",t.companyLocation,"")}}let nq=(()=>{class n{constructor(t,r,i,o,a){this.api=t,this.CompanyService=r,this.toastr=i,this.datePipe=o,this.hepler=a,this.ShowAddbutton=!0,this.data=[],this.formValues=new js({companyName:new Xt("",[Nn.required]),companyPhone:new Xt("",[Nn.required]),description:new Xt("",[Nn.required]),empNationalId:new Xt("",[Nn.required]),companyLocation:new Xt("",[Nn.required]),facebookURL:new Xt("",[Nn.required]),empStartDate:new Xt("",[Nn.required])})}ngOnInit(){this.getCompanies()}getCompanies(){this.CompanyService.getAll().subscribe(t=>{this.Companies=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}AddButton(){this.ShowAddbutton=!0,this.formValues.reset()}get companyName(){return this.formValues.get("companyName")}get companyPhone(){return this.formValues.get("companyPhone")}get description(){return this.formValues.get("description")}get empNationalId(){return this.formValues.get("empNationalId")}get companyLocation(){return this.formValues.get("companyLocation")}get facebookURL(){return this.formValues.get("facebookURL")}get empStartDate(){return this.formValues.get("empStartDate")}getDetails(){this.CompanyModule.id=null,this.CompanyModule.companyPhone=this.companyPhone.value,this.CompanyModule.companyName=this.companyName.value,this.CompanyModule.description=this.description.value,this.CompanyModule.companyLocation=this.companyLocation.value,this.CompanyModule.facebookURL=this.facebookURL.value,this.CompanyModule.imgURL="",this.EmployeeModule.id=this.EmployeeModule.id?this.EmployeeModule.id:null,this.EmployeeModule.empCode="112555",this.EmployeeModule.empPhone=this.companyPhone.value,this.EmployeeModule.empName=this.companyName.value,this.EmployeeModule.empNationalId=this.empNationalId.value,this.EmployeeModule.empSalary=1e3,this.EmployeeModule.empStartDate=this.empStartDate.value,this.EmployeeModule.empLk={id:1},this.AdminModule.id=null,this.AdminModule.emp=this.EmployeeModule,this.AdminModule.username=this.companyName.value,this.AdminModule.password="123456789"}SaveCompany(){this.CompanyModule=new q1e,this.EmployeeModule=new rR,this.AdminModule=new iR,"VALID"==this.formValues.status?(this.getDetails(),this.PostCompany(),console.log(this.CompanyModule),console.log(this.AdminModule)):this.toastr.info("Please fill in the data correctly")}PostCompany(){this.CompanyService.PostCompany(this.CompanyModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.EmployeeModule.company={id:t.id},this.Companies.push(this.CompanyModule),this.PostAdmin()},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")})}PostAdmin(){this.api.PostAdmin(this.AdminModule).subscribe(t=>{},t=>{console.log(t),this.toastr.warning(t.error.error?t.error.error:"wrong in Server")})}}return n.\u0275fac=function(t){return new(t||n)(H(x1),H(Xz),H(So),H(Bs),H(uh))},n.\u0275cmp=Ft({type:n,selectors:[["app-company"]],decls:72,vars:3,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","placeholder","Enter Name","formControlName","companyName",1,"form-control"],["for","emailExLarge",1,"form-label"],["type","text","formControlName","companyLocation","placeholder","Location",1,"form-control"],["type","tel","formControlName","companyPhone","id","emailExLarge","placeholder","phone",1,"form-control"],["type","text","formControlName","facebookURL","placeholder","facebook URL",1,"form-control"],["type","text","formControlName","empNationalId","placeholder","NationalId",1,"form-control"],["type","date","placeholder","empStartDate","formControlName","empStartDate",1,"form-control"],["type","tel","formControlName","description","placeholder","Description",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Companies"),A(),T(4,"div",2)(5,"div",3)(6,"div",4),le(7,"div",5),T(8,"div",6)(9,"button",7),Te("click",function(){return r.AddButton()}),x(10,"Add Company"),A()()(),T(11,"div",8)(12,"table",9)(13,"thead",10)(14,"tr")(15,"th"),x(16,"#id"),A(),T(17,"th"),x(18,"Name"),A(),T(19,"th"),x(20,"Phone"),A(),T(21,"th"),x(22,"Location"),A()()(),T(23,"tbody",11),J(24,$1e,10,4,"tr",12),A()()()()()()(),T(25,"div",13)(26,"div",14)(27,"form",15),Te("ngSubmit",function(){return r.SaveCompany()}),T(28,"div",16)(29,"div",17)(30,"h5",18),x(31),A(),le(32,"button",19),A(),T(33,"div",20)(34,"div",21)(35,"div",22)(36,"label",23),x(37,"Name"),A(),le(38,"input",24),A(),T(39,"div",22)(40,"label",25),x(41,"Location"),A(),le(42,"input",26),A()(),T(43,"div",21)(44,"div",22)(45,"label",25),x(46,"phone"),A(),le(47,"input",27),A(),T(48,"div",22)(49,"label",25),x(50,"facebook URL"),A(),le(51,"input",28),A()(),T(52,"div",21)(53,"div",22)(54,"label",25),x(55,"NationalId"),A(),le(56,"input",29),A(),T(57,"div",22)(58,"label",25),x(59,"Start Date To Work"),A(),le(60,"input",30),A()(),T(61,"div",21)(62,"div",22)(63,"label",25),x(64,"Description"),A(),T(65,"textarea",31),x(66,"              "),A()()(),T(67,"div",32)(68,"button",33),x(69," Close "),A(),T(70,"button",34),x(71,"Save changes"),A()()()()()()()),2&t&&(j(24),te("ngForOf",r.Companies),j(3),te("formGroup",r.formValues),j(4),mt(r.ShowAddbutton?"ADD Company":"Edit Company"))},directives:[$a,Ll,Fl,vs,fa,Ka,Ya],styles:[""]}),n})(),oR=(()=>{class n{constructor(t,r){this.router=t,this.http=r}loggedIn(){return!!localStorage.getItem("token")}getToken(){return localStorage.getItem("token")}loggedOutUser(){localStorage.removeItem("token"),this.router.navigate(["/login"])}Login(t,r){return this.http.get(`${we.UrlWebsite}/admin/login?username=${t}&password=${r}`).pipe(ye(i=>i))}}return n.\u0275fac=function(t){return new(t||n)(oe(gi),oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W1e=(()=>{class n{constructor(t,r,i){this.toastr=t,this.router=r,this.api=i,this.loginForm=new js({username:new Xt("",[Nn.required]),password:new Xt("",[Nn.required])})}ngOnInit(){}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}login(){"INVALID"!=this.loginForm.status?"Admin"==this.username.value&&"123456789"==this.password.value?(this.toastr.success("Register Successfully"),localStorage.setItem("token","0"),history.go()):this.api.Login(this.username.value,this.password.value).subscribe(t=>{null==t?this.toastr.info("Company Not Found"):(this.toastr.success("Register Successfully"),localStorage.setItem("token",t.emp.company.id),history.go(0))},t=>{this.toastr.warning("wrong in Server")}):this.toastr.info("Please fill in the data correctly")}}return n.\u0275fac=function(t){return new(t||n)(H(So),H(gi),H(oR))},n.\u0275cmp=Ft({type:n,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"container-xxl"],[1,"authentication-wrapper","authentication-basic"],[1,"authentication-inner"],[1,"card"],[1,"card-body"],[1,"mb-2"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","text","id","email","name","email-username","formControlName","username","placeholder","Enter your username",1,"form-control"],[1,"mb-3","form-password-toggle"],[1,"d-flex","justify-content-between"],["for","password",1,"form-label"],[1,"input-group","input-group-merge"],["type","password","id","password","formControlName","password","name","password","placeholder","Enter your password","aria-describedby","password",1,"form-control"],["type","submit",1,"btn","btn-primary","d-grid","w-100"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),x(6,"Welcome to Yalla Bus! \u{1f44b}"),A(),T(7,"p",6),x(8,"Please sign-in to your account and start the adventure"),A(),T(9,"form",7),Te("ngSubmit",function(){return r.login()}),T(10,"div",8)(11,"label",9),x(12,"Username"),A(),le(13,"input",10),A(),T(14,"div",11)(15,"div",12)(16,"label",13),x(17,"Password"),A()(),T(18,"div",14),le(19,"input",15),A()(),T(20,"div",8)(21,"button",16),x(22,"Sign in"),A()()()()()()()()),2&t&&(j(9),te("formGroup",r.loginForm))},directives:[Ll,Fl,vs,fa,Ka,Ya],styles:["","@charset \"UTF-8\";.authentication-wrapper[_ngcontent-%COMP%]{display:flex;flex-basis:100%;min-height:100vh;width:100%}.authentication-wrapper[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]{width:100%}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]{align-items:center;justify-content:center;overflow:hidden}.authentication-wrapper.authentication-cover[_ngcontent-%COMP%]{align-items:flex-start}.authentication-wrapper.authentication-cover[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]{height:100vh}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]{max-width:400px;position:relative}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]:before{width:148px;height:148px;content:\" \";position:absolute;top:-40px;right:-40px;background-image:url(\"data:image/svg+xml,%3Csvg width='148px' height='148px' viewBox='0 0 148 148' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath d='M355,144 C356.104569,144 357,144.895431 357,146 C357,147.104569 356.104569,148 355,148 C353.895431,148 353,147.104569 353,146 C353,144.895431 353.895431,144 355,144 Z M382,144 C383.104569,144 384,144.895431 384,146 C384,147.104569 383.104569,148 382,148 C380.895431,148 380,147.104569 380,146 C380,144.895431 380.895431,144 382,144 Z M412,144 C413.104569,144 414,144.895431 414,146 C414,147.104569 413.104569,148 412,148 C410.895431,148 410,147.104569 410,146 C410,144.895431 410.895431,144 412,144 Z M442,144 C443.104569,144 444,144.895431 444,146 C444,147.104569 443.104569,148 442,148 C440.895431,148 440,147.104569 440,146 C440,144.895431 440.895431,144 442,144 Z M472,144 C473.104569,144 474,144.895431 474,146 C474,147.104569 473.104569,148 472,148 C470.895431,148 470,147.104569 470,146 C470,144.895431 470.895431,144 472,144 Z M499,144 C500.104569,144 501,144.895431 501,146 C501,147.104569 500.104569,148 499,148 C497.895431,148 497,147.104569 497,146 C497,144.895431 497.895431,144 499,144 Z M355,117 C356.104569,117 357,117.895431 357,119 C357,120.104569 356.104569,121 355,121 C353.895431,121 353,120.104569 353,119 C353,117.895431 353.895431,117 355,117 Z M382,117 C383.104569,117 384,117.895431 384,119 C384,120.104569 383.104569,121 382,121 C380.895431,121 380,120.104569 380,119 C380,117.895431 380.895431,117 382,117 Z M412,117 C413.104569,117 414,117.895431 414,119 C414,120.104569 413.104569,121 412,121 C410.895431,121 410,120.104569 410,119 C410,117.895431 410.895431,117 412,117 Z M442,117 C443.104569,117 444,117.895431 444,119 C444,120.104569 443.104569,121 442,121 C440.895431,121 440,120.104569 440,119 C440,117.895431 440.895431,117 442,117 Z M472,117 C473.104569,117 474,117.895431 474,119 C474,120.104569 473.104569,121 472,121 C470.895431,121 470,120.104569 470,119 C470,117.895431 470.895431,117 472,117 Z M499,117 C500.104569,117 501,117.895431 501,119 C501,120.104569 500.104569,121 499,121 C497.895431,121 497,120.104569 497,119 C497,117.895431 497.895431,117 499,117 Z M355,87 C356.104569,87 357,87.8954305 357,89 C357,90.1045695 356.104569,91 355,91 C353.895431,91 353,90.1045695 353,89 C353,87.8954305 353.895431,87 355,87 Z M382,87 C383.104569,87 384,87.8954305 384,89 C384,90.1045695 383.104569,91 382,91 C380.895431,91 380,90.1045695 380,89 C380,87.8954305 380.895431,87 382,87 Z M412,87 C413.104569,87 414,87.8954305 414,89 C414,90.1045695 413.104569,91 412,91 C410.895431,91 410,90.1045695 410,89 C410,87.8954305 410.895431,87 412,87 Z M442,87 C443.104569,87 444,87.8954305 444,89 C444,90.1045695 443.104569,91 442,91 C440.895431,91 440,90.1045695 440,89 C440,87.8954305 440.895431,87 442,87 Z M472,87 C473.104569,87 474,87.8954305 474,89 C474,90.1045695 473.104569,91 472,91 C470.895431,91 470,90.1045695 470,89 C470,87.8954305 470.895431,87 472,87 Z M499,87 C500.104569,87 501,87.8954305 501,89 C501,90.1045695 500.104569,91 499,91 C497.895431,91 497,90.1045695 497,89 C497,87.8954305 497.895431,87 499,87 Z M355,57 C356.104569,57 357,57.8954305 357,59 C357,60.1045695 356.104569,61 355,61 C353.895431,61 353,60.1045695 353,59 C353,57.8954305 353.895431,57 355,57 Z M472,57 C473.104569,57 474,57.8954305 474,59 C474,60.1045695 473.104569,61 472,61 C470.895431,61 470,60.1045695 470,59 C470,57.8954305 470.895431,57 472,57 Z M412,57 C413.104569,57 414,57.8954305 414,59 C414,60.1045695 413.104569,61 412,61 C410.895431,61 410,60.1045695 410,59 C410,57.8954305 410.895431,57 412,57 Z M499,57 C500.104569,57 501,57.8954305 501,59 C501,60.1045695 500.104569,61 499,61 C497.895431,61 497,60.1045695 497,59 C497,57.8954305 497.895431,57 499,57 Z M382,57 C383.104569,57 384,57.8954305 384,59 C384,60.1045695 383.104569,61 382,61 C380.895431,61 380,60.1045695 380,59 C380,57.8954305 380.895431,57 382,57 Z M442,57 C443.104569,57 444,57.8954305 444,59 C444,60.1045695 443.104569,61 442,61 C440.895431,61 440,60.1045695 440,59 C440,57.8954305 440.895431,57 442,57 Z M355,27 C356.104569,27 357,27.8954305 357,29 C357,30.1045695 356.104569,31 355,31 C353.895431,31 353,30.1045695 353,29 C353,27.8954305 353.895431,27 355,27 Z M382,27 C383.104569,27 384,27.8954305 384,29 C384,30.1045695 383.104569,31 382,31 C380.895431,31 380,30.1045695 380,29 C380,27.8954305 380.895431,27 382,27 Z M412,27 C413.104569,27 414,27.8954305 414,29 C414,30.1045695 413.104569,31 412,31 C410.895431,31 410,30.1045695 410,29 C410,27.8954305 410.895431,27 412,27 Z M442,27 C443.104569,27 444,27.8954305 444,29 C444,30.1045695 443.104569,31 442,31 C440.895431,31 440,30.1045695 440,29 C440,27.8954305 440.895431,27 442,27 Z M472,27 C473.104569,27 474,27.8954305 474,29 C474,30.1045695 473.104569,31 472,31 C470.895431,31 470,30.1045695 470,29 C470,27.8954305 470.895431,27 472,27 Z M499,27 C500.104569,27 501,27.8954305 501,29 C501,30.1045695 500.104569,31 499,31 C497.895431,31 497,30.1045695 497,29 C497,27.8954305 497.895431,27 499,27 Z M355,0 C356.104569,0 357,0.8954305 357,2 C357,3.1045695 356.104569,4 355,4 C353.895431,4 353,3.1045695 353,2 C353,0.8954305 353.895431,0 355,0 Z M382,0 C383.104569,0 384,0.8954305 384,2 C384,3.1045695 383.104569,4 382,4 C380.895431,4 380,3.1045695 380,2 C380,0.8954305 380.895431,0 382,0 Z M412,0 C413.104569,0 414,0.8954305 414,2 C414,3.1045695 413.104569,4 412,4 C410.895431,4 410,3.1045695 410,2 C410,0.8954305 410.895431,0 412,0 Z M442,0 C443.104569,0 444,0.8954305 444,2 C444,3.1045695 443.104569,4 442,4 C440.895431,4 440,3.1045695 440,2 C440,0.8954305 440.895431,0 442,0 Z M472,0 C473.104569,0 474,0.8954305 474,2 C474,3.1045695 473.104569,4 472,4 C470.895431,4 470,3.1045695 470,2 C470,0.8954305 470.895431,0 472,0 Z M499,0 C500.104569,0 501,0.8954305 501,2 C501,3.1045695 500.104569,4 499,4 C497.895431,4 497,3.1045695 497,2 C497,0.8954305 497.895431,0 499,0 Z' id='path-1'%3E%3C/path%3E%3C/defs%3E%3Cg id='\\1f4dd-Pages' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Login---V2' transform='translate(-822.000000, -197.000000)'%3E%3Cg id='top-illustration' transform='translate(469.000000, 197.000000)'%3E%3Cuse fill='%23696cff' xlink:href='%23path-1'%3E%3C/use%3E%3Cuse fill-opacity='0.6' fill='%23FFFFFF' xlink:href='%23path-1'%3E%3C/use%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]:after{width:243px;height:240px;content:\" \";position:absolute;bottom:-68px;left:-46px;background-image:url(\"data:image/svg+xml,%3Csvg width='243px' height='240px' viewBox='0 0 243 240' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath d='M34.5,182 C35.8807119,182 37,183.119288 37,184.5 C37,185.880712 35.8807119,187 34.5,187 C33.1192881,187 32,185.880712 32,184.5 C32,183.119288 33.1192881,182 34.5,182 Z M61.5,182 C62.8807119,182 64,183.119288 64,184.5 C64,185.880712 62.8807119,187 61.5,187 C60.1192881,187 59,185.880712 59,184.5 C59,183.119288 60.1192881,182 61.5,182 Z M91.5,182 C92.8807119,182 94,183.119288 94,184.5 C94,185.880712 92.8807119,187 91.5,187 C90.1192881,187 89,185.880712 89,184.5 C89,183.119288 90.1192881,182 91.5,182 Z M123.5,182 C124.880712,182 126,183.119288 126,184.5 C126,185.880712 124.880712,187 123.5,187 C122.119288,187 121,185.880712 121,184.5 C121,183.119288 122.119288,182 123.5,182 Z M153.5,182 C154.880712,182 156,183.119288 156,184.5 C156,185.880712 154.880712,187 153.5,187 C152.119288,187 151,185.880712 151,184.5 C151,183.119288 152.119288,182 153.5,182 Z M180.5,182 C181.880712,182 183,183.119288 183,184.5 C183,185.880712 181.880712,187 180.5,187 C179.119288,187 178,185.880712 178,184.5 C178,183.119288 179.119288,182 180.5,182 Z M34.5,154 C35.8807119,154 37,155.119288 37,156.5 C37,157.880712 35.8807119,159 34.5,159 C33.1192881,159 32,157.880712 32,156.5 C32,155.119288 33.1192881,154 34.5,154 Z M61.5,154 C62.8807119,154 64,155.119288 64,156.5 C64,157.880712 62.8807119,159 61.5,159 C60.1192881,159 59,157.880712 59,156.5 C59,155.119288 60.1192881,154 61.5,154 Z M91.5,154 C92.8807119,154 94,155.119288 94,156.5 C94,157.880712 92.8807119,159 91.5,159 C90.1192881,159 89,157.880712 89,156.5 C89,155.119288 90.1192881,154 91.5,154 Z M123.5,154 C124.880712,154 126,155.119288 126,156.5 C126,157.880712 124.880712,159 123.5,159 C122.119288,159 121,157.880712 121,156.5 C121,155.119288 122.119288,154 123.5,154 Z M153.5,154 C154.880712,154 156,155.119288 156,156.5 C156,157.880712 154.880712,159 153.5,159 C152.119288,159 151,157.880712 151,156.5 C151,155.119288 152.119288,154 153.5,154 Z M180.5,154 C181.880712,154 183,155.119288 183,156.5 C183,157.880712 181.880712,159 180.5,159 C179.119288,159 178,157.880712 178,156.5 C178,155.119288 179.119288,154 180.5,154 Z M34.5,124 C35.8807119,124 37,125.119288 37,126.5 C37,127.880712 35.8807119,129 34.5,129 C33.1192881,129 32,127.880712 32,126.5 C32,125.119288 33.1192881,124 34.5,124 Z M61.5,124 C62.8807119,124 64,125.119288 64,126.5 C64,127.880712 62.8807119,129 61.5,129 C60.1192881,129 59,127.880712 59,126.5 C59,125.119288 60.1192881,124 61.5,124 Z M91.5,124 C92.8807119,124 94,125.119288 94,126.5 C94,127.880712 92.8807119,129 91.5,129 C90.1192881,129 89,127.880712 89,126.5 C89,125.119288 90.1192881,124 91.5,124 Z M123.5,124 C124.880712,124 126,125.119288 126,126.5 C126,127.880712 124.880712,129 123.5,129 C122.119288,129 121,127.880712 121,126.5 C121,125.119288 122.119288,124 123.5,124 Z M153.5,124 C154.880712,124 156,125.119288 156,126.5 C156,127.880712 154.880712,129 153.5,129 C152.119288,129 151,127.880712 151,126.5 C151,125.119288 152.119288,124 153.5,124 Z M180.5,124 C181.880712,124 183,125.119288 183,126.5 C183,127.880712 181.880712,129 180.5,129 C179.119288,129 178,127.880712 178,126.5 C178,125.119288 179.119288,124 180.5,124 Z M34.5,94 C35.8807119,94 37,95.1192881 37,96.5 C37,97.8807119 35.8807119,99 34.5,99 C33.1192881,99 32,97.8807119 32,96.5 C32,95.1192881 33.1192881,94 34.5,94 Z M153.5,94 C154.880712,94 156,95.1192881 156,96.5 C156,97.8807119 154.880712,99 153.5,99 C152.119288,99 151,97.8807119 151,96.5 C151,95.1192881 152.119288,94 153.5,94 Z M91.5,94 C92.8807119,94 94,95.1192881 94,96.5 C94,97.8807119 92.8807119,99 91.5,99 C90.1192881,99 89,97.8807119 89,96.5 C89,95.1192881 90.1192881,94 91.5,94 Z M180.5,94 C181.880712,94 183,95.1192881 183,96.5 C183,97.8807119 181.880712,99 180.5,99 C179.119288,99 178,97.8807119 178,96.5 C178,95.1192881 179.119288,94 180.5,94 Z M61.5,94 C62.8807119,94 64,95.1192881 64,96.5 C64,97.8807119 62.8807119,99 61.5,99 C60.1192881,99 59,97.8807119 59,96.5 C59,95.1192881 60.1192881,94 61.5,94 Z M123.5,94 C124.880712,94 126,95.1192881 126,96.5 C126,97.8807119 124.880712,99 123.5,99 C122.119288,99 121,97.8807119 121,96.5 C121,95.1192881 122.119288,94 123.5,94 Z M34.5,64 C35.8807119,64 37,65.1192881 37,66.5 C37,67.8807119 35.8807119,69 34.5,69 C33.1192881,69 32,67.8807119 32,66.5 C32,65.1192881 33.1192881,64 34.5,64 Z M61.5,64 C62.8807119,64 64,65.1192881 64,66.5 C64,67.8807119 62.8807119,69 61.5,69 C60.1192881,69 59,67.8807119 59,66.5 C59,65.1192881 60.1192881,64 61.5,64 Z M91.5,64 C92.8807119,64 94,65.1192881 94,66.5 C94,67.8807119 92.8807119,69 91.5,69 C90.1192881,69 89,67.8807119 89,66.5 C89,65.1192881 90.1192881,64 91.5,64 Z M123.5,64 C124.880712,64 126,65.1192881 126,66.5 C126,67.8807119 124.880712,69 123.5,69 C122.119288,69 121,67.8807119 121,66.5 C121,65.1192881 122.119288,64 123.5,64 Z M153.5,64 C154.880712,64 156,65.1192881 156,66.5 C156,67.8807119 154.880712,69 153.5,69 C152.119288,69 151,67.8807119 151,66.5 C151,65.1192881 152.119288,64 153.5,64 Z M180.5,64 C181.880712,64 183,65.1192881 183,66.5 C183,67.8807119 181.880712,69 180.5,69 C179.119288,69 178,67.8807119 178,66.5 C178,65.1192881 179.119288,64 180.5,64 Z M34.5,37 C35.8807119,37 37,38.1192881 37,39.5 C37,40.8807119 35.8807119,42 34.5,42 C33.1192881,42 32,40.8807119 32,39.5 C32,38.1192881 33.1192881,37 34.5,37 Z M61.5,37 C62.8807119,37 64,38.1192881 64,39.5 C64,40.8807119 62.8807119,42 61.5,42 C60.1192881,42 59,40.8807119 59,39.5 C59,38.1192881 60.1192881,37 61.5,37 Z M91.5,37 C92.8807119,37 94,38.1192881 94,39.5 C94,40.8807119 92.8807119,42 91.5,42 C90.1192881,42 89,40.8807119 89,39.5 C89,38.1192881 90.1192881,37 91.5,37 Z M123.5,37 C124.880712,37 126,38.1192881 126,39.5 C126,40.8807119 124.880712,42 123.5,42 C122.119288,42 121,40.8807119 121,39.5 C121,38.1192881 122.119288,37 123.5,37 Z M153.5,37 C154.880712,37 156,38.1192881 156,39.5 C156,40.8807119 154.880712,42 153.5,42 C152.119288,42 151,40.8807119 151,39.5 C151,38.1192881 152.119288,37 153.5,37 Z M180.5,37 C181.880712,37 183,38.1192881 183,39.5 C183,40.8807119 181.880712,42 180.5,42 C179.119288,42 178,40.8807119 178,39.5 C178,38.1192881 179.119288,37 180.5,37 Z' id='path-1'%3E%3C/path%3E%3C/defs%3E%3Cg id='\\1f4dd-Pages' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Login---V2' transform='translate(-469.000000, -670.000000)'%3E%3Cg id='Shapes' transform='translate(469.000000, 197.000000)'%3E%3Cg id='bottom-illustration' transform='translate(0.000000, 473.000000)'%3E%3Crect id='Rectangle' fill='%23696cff' opacity='0.04' x='0' y='0' width='215' height='216' rx='10'%3E%3C/rect%3E%3Crect id='Rectangle' stroke='rgba(67, 89, 113, 0.5)' opacity='0.48' x='104.5' y='100.5' width='138' height='139' rx='10'%3E%3C/rect%3E%3Cg id='Dot'%3E%3Cuse fill='%23696cff' xlink:href='%23path-1'%3E%3C/use%3E%3Cuse fill-opacity='0.6' fill='%23FFFFFF' xlink:href='%23path-1'%3E%3C/use%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{z-index:1}.authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .app-brand[_ngcontent-%COMP%]{margin-bottom:2.5rem}.authentication-wrapper[_ngcontent-%COMP%]   .auth-input-wrapper[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{max-width:50px;padding-left:.4rem;padding-right:.4rem;font-size:150%}@media (max-width: 575.98px){.authentication-wrapper[_ngcontent-%COMP%]   .auth-input-wrapper[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{font-size:1.125rem}}.light-style[_ngcontent-%COMP%]   .authentication-wrapper[_ngcontent-%COMP%]   .authentication-bg[_ngcontent-%COMP%]{background-color:#fff}.light-style[_ngcontent-%COMP%]   .authentication-wrapper.authentication-basic[_ngcontent-%COMP%]   .authentication-inner[_ngcontent-%COMP%]:after{background-image:url(\"data:image/svg+xml,%3Csvg width='243px' height='240px' viewBox='0 0 243 240' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cpath d='M34.5,182 C35.8807119,182 37,183.119288 37,184.5 C37,185.880712 35.8807119,187 34.5,187 C33.1192881,187 32,185.880712 32,184.5 C32,183.119288 33.1192881,182 34.5,182 Z M61.5,182 C62.8807119,182 64,183.119288 64,184.5 C64,185.880712 62.8807119,187 61.5,187 C60.1192881,187 59,185.880712 59,184.5 C59,183.119288 60.1192881,182 61.5,182 Z M91.5,182 C92.8807119,182 94,183.119288 94,184.5 C94,185.880712 92.8807119,187 91.5,187 C90.1192881,187 89,185.880712 89,184.5 C89,183.119288 90.1192881,182 91.5,182 Z M123.5,182 C124.880712,182 126,183.119288 126,184.5 C126,185.880712 124.880712,187 123.5,187 C122.119288,187 121,185.880712 121,184.5 C121,183.119288 122.119288,182 123.5,182 Z M153.5,182 C154.880712,182 156,183.119288 156,184.5 C156,185.880712 154.880712,187 153.5,187 C152.119288,187 151,185.880712 151,184.5 C151,183.119288 152.119288,182 153.5,182 Z M180.5,182 C181.880712,182 183,183.119288 183,184.5 C183,185.880712 181.880712,187 180.5,187 C179.119288,187 178,185.880712 178,184.5 C178,183.119288 179.119288,182 180.5,182 Z M34.5,154 C35.8807119,154 37,155.119288 37,156.5 C37,157.880712 35.8807119,159 34.5,159 C33.1192881,159 32,157.880712 32,156.5 C32,155.119288 33.1192881,154 34.5,154 Z M61.5,154 C62.8807119,154 64,155.119288 64,156.5 C64,157.880712 62.8807119,159 61.5,159 C60.1192881,159 59,157.880712 59,156.5 C59,155.119288 60.1192881,154 61.5,154 Z M91.5,154 C92.8807119,154 94,155.119288 94,156.5 C94,157.880712 92.8807119,159 91.5,159 C90.1192881,159 89,157.880712 89,156.5 C89,155.119288 90.1192881,154 91.5,154 Z M123.5,154 C124.880712,154 126,155.119288 126,156.5 C126,157.880712 124.880712,159 123.5,159 C122.119288,159 121,157.880712 121,156.5 C121,155.119288 122.119288,154 123.5,154 Z M153.5,154 C154.880712,154 156,155.119288 156,156.5 C156,157.880712 154.880712,159 153.5,159 C152.119288,159 151,157.880712 151,156.5 C151,155.119288 152.119288,154 153.5,154 Z M180.5,154 C181.880712,154 183,155.119288 183,156.5 C183,157.880712 181.880712,159 180.5,159 C179.119288,159 178,157.880712 178,156.5 C178,155.119288 179.119288,154 180.5,154 Z M34.5,124 C35.8807119,124 37,125.119288 37,126.5 C37,127.880712 35.8807119,129 34.5,129 C33.1192881,129 32,127.880712 32,126.5 C32,125.119288 33.1192881,124 34.5,124 Z M61.5,124 C62.8807119,124 64,125.119288 64,126.5 C64,127.880712 62.8807119,129 61.5,129 C60.1192881,129 59,127.880712 59,126.5 C59,125.119288 60.1192881,124 61.5,124 Z M91.5,124 C92.8807119,124 94,125.119288 94,126.5 C94,127.880712 92.8807119,129 91.5,129 C90.1192881,129 89,127.880712 89,126.5 C89,125.119288 90.1192881,124 91.5,124 Z M123.5,124 C124.880712,124 126,125.119288 126,126.5 C126,127.880712 124.880712,129 123.5,129 C122.119288,129 121,127.880712 121,126.5 C121,125.119288 122.119288,124 123.5,124 Z M153.5,124 C154.880712,124 156,125.119288 156,126.5 C156,127.880712 154.880712,129 153.5,129 C152.119288,129 151,127.880712 151,126.5 C151,125.119288 152.119288,124 153.5,124 Z M180.5,124 C181.880712,124 183,125.119288 183,126.5 C183,127.880712 181.880712,129 180.5,129 C179.119288,129 178,127.880712 178,126.5 C178,125.119288 179.119288,124 180.5,124 Z M34.5,94 C35.8807119,94 37,95.1192881 37,96.5 C37,97.8807119 35.8807119,99 34.5,99 C33.1192881,99 32,97.8807119 32,96.5 C32,95.1192881 33.1192881,94 34.5,94 Z M153.5,94 C154.880712,94 156,95.1192881 156,96.5 C156,97.8807119 154.880712,99 153.5,99 C152.119288,99 151,97.8807119 151,96.5 C151,95.1192881 152.119288,94 153.5,94 Z M91.5,94 C92.8807119,94 94,95.1192881 94,96.5 C94,97.8807119 92.8807119,99 91.5,99 C90.1192881,99 89,97.8807119 89,96.5 C89,95.1192881 90.1192881,94 91.5,94 Z M180.5,94 C181.880712,94 183,95.1192881 183,96.5 C183,97.8807119 181.880712,99 180.5,99 C179.119288,99 178,97.8807119 178,96.5 C178,95.1192881 179.119288,94 180.5,94 Z M61.5,94 C62.8807119,94 64,95.1192881 64,96.5 C64,97.8807119 62.8807119,99 61.5,99 C60.1192881,99 59,97.8807119 59,96.5 C59,95.1192881 60.1192881,94 61.5,94 Z M123.5,94 C124.880712,94 126,95.1192881 126,96.5 C126,97.8807119 124.880712,99 123.5,99 C122.119288,99 121,97.8807119 121,96.5 C121,95.1192881 122.119288,94 123.5,94 Z M34.5,64 C35.8807119,64 37,65.1192881 37,66.5 C37,67.8807119 35.8807119,69 34.5,69 C33.1192881,69 32,67.8807119 32,66.5 C32,65.1192881 33.1192881,64 34.5,64 Z M61.5,64 C62.8807119,64 64,65.1192881 64,66.5 C64,67.8807119 62.8807119,69 61.5,69 C60.1192881,69 59,67.8807119 59,66.5 C59,65.1192881 60.1192881,64 61.5,64 Z M91.5,64 C92.8807119,64 94,65.1192881 94,66.5 C94,67.8807119 92.8807119,69 91.5,69 C90.1192881,69 89,67.8807119 89,66.5 C89,65.1192881 90.1192881,64 91.5,64 Z M123.5,64 C124.880712,64 126,65.1192881 126,66.5 C126,67.8807119 124.880712,69 123.5,69 C122.119288,69 121,67.8807119 121,66.5 C121,65.1192881 122.119288,64 123.5,64 Z M153.5,64 C154.880712,64 156,65.1192881 156,66.5 C156,67.8807119 154.880712,69 153.5,69 C152.119288,69 151,67.8807119 151,66.5 C151,65.1192881 152.119288,64 153.5,64 Z M180.5,64 C181.880712,64 183,65.1192881 183,66.5 C183,67.8807119 181.880712,69 180.5,69 C179.119288,69 178,67.8807119 178,66.5 C178,65.1192881 179.119288,64 180.5,64 Z M34.5,37 C35.8807119,37 37,38.1192881 37,39.5 C37,40.8807119 35.8807119,42 34.5,42 C33.1192881,42 32,40.8807119 32,39.5 C32,38.1192881 33.1192881,37 34.5,37 Z M61.5,37 C62.8807119,37 64,38.1192881 64,39.5 C64,40.8807119 62.8807119,42 61.5,42 C60.1192881,42 59,40.8807119 59,39.5 C59,38.1192881 60.1192881,37 61.5,37 Z M91.5,37 C92.8807119,37 94,38.1192881 94,39.5 C94,40.8807119 92.8807119,42 91.5,42 C90.1192881,42 89,40.8807119 89,39.5 C89,38.1192881 90.1192881,37 91.5,37 Z M123.5,37 C124.880712,37 126,38.1192881 126,39.5 C126,40.8807119 124.880712,42 123.5,42 C122.119288,42 121,40.8807119 121,39.5 C121,38.1192881 122.119288,37 123.5,37 Z M153.5,37 C154.880712,37 156,38.1192881 156,39.5 C156,40.8807119 154.880712,42 153.5,42 C152.119288,42 151,40.8807119 151,39.5 C151,38.1192881 152.119288,37 153.5,37 Z M180.5,37 C181.880712,37 183,38.1192881 183,39.5 C183,40.8807119 181.880712,42 180.5,42 C179.119288,42 178,40.8807119 178,39.5 C178,38.1192881 179.119288,37 180.5,37 Z' id='path-1'%3E%3C/path%3E%3C/defs%3E%3Cg id='\\1f4dd-Pages' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Login---V2' transform='translate(-469.000000, -670.000000)'%3E%3Cg id='Shapes' transform='translate(469.000000, 197.000000)'%3E%3Cg id='bottom-illustration' transform='translate(0.000000, 473.000000)'%3E%3Crect id='Rectangle' fill='%23696cff' opacity='0.04' x='0' y='0' width='215' height='216' rx='10'%3E%3C/rect%3E%3Crect id='Rectangle' stroke='rgba(67, 89, 113, 0.5)' opacity='0.48' x='104.5' y='100.5' width='138' height='139' rx='10'%3E%3C/rect%3E%3Cg id='Dot'%3E%3Cuse fill='%23696cff' xlink:href='%23path-1'%3E%3C/use%3E%3Cuse fill-opacity='0.6' fill='%23FFFFFF' xlink:href='%23path-1'%3E%3C/use%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")!important}"]}),n})(),rq=(()=>{class n{constructor(t,r,i){this.authService=t,this.location=r,this.router=i}canActivate(){return!this.authService.loggedIn()||(this.router.navigate(["/home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(oe(oR),oe(j_),oe(gi))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),No=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.loggedIn()||(localStorage.removeItem("token"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(oe(oR),oe(gi))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G1e=(()=>{class n{constructor(t){this.router=t}ngOnInit(){var t,r;this.id1=document.getElementById("layout-menu"),null===(t=this.id1)||void 0===t||t.classList.add("layout-menu-remove"),this.id2=document.getElementById("layout-wrapper"),null===(r=this.id2)||void 0===r||r.classList.add("layout-without-menu")}ngOnDestroy(){var t,r;null===(t=this.id1)||void 0===t||t.classList.remove("layout-menu-remove"),null===(r=this.id2)||void 0===r||r.classList.remove("layout-without-menu")}goHome(){this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(H(gi))},n.\u0275cmp=Ft({type:n,selectors:[["app-error"]],decls:9,vars:0,consts:[[1,"misc-wrapper"],[1,"mb-2","mx-2"],[1,"mb-4","mx-2"],[1,"btn","btn-primary",3,"click"],[1,"mt-3"],["src","../assets/img/illustrations/page-misc-error-light.png","alt","page-misc-error-light","width","500","data-app-dark-img","illustrations/page-misc-error-dark.png","data-app-light-img","illustrations/page-misc-error-light.png",1,"img-fluid"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"h2",1),x(2,"Page Not Found :("),A(),T(3,"p",2),x(4,"Oops! \u{1f616} The requested URL was not found on this server."),A(),T(5,"a",3),Te("click",function(){return r.goHome()}),x(6,"Back to home"),A(),T(7,"div",4),le(8,"img",5),A()())},styles:[""]}),n})(),iq=(()=>{class n{constructor(t){this.http=t}getPendingfees(){return this.http.get(`${we.UrlWebsite}/fee/company/get-all-Pending?id=`+we.Token).pipe(ye(t=>t))}getApprovedfees(){return this.http.get(`${we.UrlWebsite}/fee/company/get-all-Approved?id=`+we.Token).pipe(ye(t=>t))}getNotApprovedfees(){return this.http.get(`${we.UrlWebsite}/fee/company/get-all-NotApproved?id=`+we.Token).pipe(ye(t=>t))}getAllfees(){return this.http.get(`${we.UrlWebsite}/fee/company/get-all?id=`+we.Token).pipe(ye(t=>t))}ApprovedFee(t,r){return this.http.put(`${we.UrlWebsite}/fee/approve-by-fee-id?feeId=`+t+"&isApproved="+r,!0).pipe(ye(i=>i))}getAllfeesByBus(t){return this.http.get(`${we.UrlWebsite}/fee/bus/get-all?id=`+t).pipe(ye(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K1e(n,e){1&n&&(T(0,"div")(1,"span",18),x(2,"Approved"),A()())}function Y1e(n,e){1&n&&(T(0,"div")(1,"span",19),x(2,"refused"),A()())}function Q1e(n,e){1&n&&(T(0,"div")(1,"span",20),x(2,"Pending"),A()())}function X1e(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A(),T(10,"td"),x(11),A(),T(12,"td")(13,"span",17),x(14),A()(),T(15,"td"),J(16,K1e,3,0,"div",15),J(17,Y1e,3,0,"div",15),J(18,Q1e,3,0,"div",15),A()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),Td("",t.bus.model,"#",t.bus.capacity,""),j(2),Ke(" ",t.bus.phone," "),j(2),mt(t.feesLk.lkNameAr),j(2),mt(t.price),j(3),mt(t.fessDate),j(2),te("ngIf",1==t.isApproved),j(1),te("ngIf",0==t.isApproved),j(1),te("ngIf",null==t.isApproved)}}function Z1e(n,e){if(1&n&&(nn(0),J(1,X1e,19,10,"tr",16),rn()),2&n){const t=de();j(1),te("ngForOf",t.AllFees)}}function J1e(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A(),T(10,"td"),x(11),A(),T(12,"td")(13,"span",17),x(14),A()(),T(15,"td")(16,"span",18),x(17,"Approved"),A()()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),Td("",t.bus.model,"#",t.bus.capacity,""),j(2),Ke(" ",t.bus.phone," "),j(2),mt(t.feesLk.lkNameAr),j(2),mt(t.price),j(3),mt(t.fessDate)}}function eCe(n,e){if(1&n&&(nn(0),J(1,J1e,18,7,"tr",16),rn()),2&n){const t=de();j(1),te("ngForOf",t.ApprovedFees)}}function tCe(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A(),T(10,"td"),x(11),A(),T(12,"td")(13,"span",17),x(14),A()(),T(15,"td")(16,"span",20),x(17,"Pending"),A()()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),Td("",t.bus.model,"#",t.bus.capacity,""),j(2),Ke(" ",t.bus.phone," "),j(2),mt(t.feesLk.lkNameAr),j(2),mt(t.price),j(3),mt(t.fessDate)}}function nCe(n,e){if(1&n&&(nn(0),J(1,tCe,18,7,"tr",16),rn()),2&n){const t=de();j(1),te("ngForOf",t.PendingFees)}}function rCe(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A(),T(10,"td"),x(11),A(),T(12,"td")(13,"span",17),x(14),A()(),T(15,"td")(16,"span",19),x(17,"Not ApprovedFees"),A()()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),Td("",t.bus.model,"#",t.bus.capacity,""),j(2),Ke(" ",t.bus.phone," "),j(2),mt(t.feesLk.lkNameAr),j(2),mt(t.price),j(3),mt(t.fessDate)}}function iCe(n,e){if(1&n&&(nn(0),J(1,rCe,18,7,"tr",16),rn()),2&n){const t=de();j(1),te("ngForOf",t.NotApprovedFees)}}let oCe=(()=>{class n{constructor(t,r){this.api=t,this.toastr=r,this.filterFees="All"}ngOnInit(){this.getApprovedfees(),this.getAllfees(),this.getNotApprovedfees()}getPendingfees(){this.api.getPendingfees().subscribe(t=>{this.PendingFees=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getApprovedfees(){this.api.getApprovedfees().subscribe(t=>{this.ApprovedFees=t,console.log(this.ApprovedFees)},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getAllfees(){this.api.getAllfees().subscribe(t=>{this.AllFees=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}getNotApprovedfees(){this.api.getNotApprovedfees().subscribe(t=>{this.NotApprovedFees=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}ApprovedFee(t,r){this.api.ApprovedFee(t,r).subscribe(()=>{this.toastr.success(1==r?"Approved Successfully":" Not Approved Successfully"),this.getPendingfees(),this.getApprovedfees(),this.getAllfees()},i=>{this.toastr.warning(i.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(iq),H(So))},n.\u0275cmp=Ft({type:n,selectors:[["app-fees"]],decls:40,vars:5,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","justify-content-between"],[1,"left-card",2,"flex-grow","1","display","flex"],[1,"form-select","search-card-style",3,"ngModel","ngModelChange"],["value","All"],["value","Approved"],["value","NotApprovedFees"],["value","Pending"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"badge","bg-label-warning","me-1"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-1"],[1,"badge","bg-label-info","me-1"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Fees"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"select",6),Te("ngModelChange",function(o){return r.filterFees=o}),T(9,"option",7),x(10,"All Fees"),A(),T(11,"option",8),x(12,"Approved Fees"),A(),T(13,"option",9),x(14,"Not Approved Fees"),A(),T(15,"option",10),x(16,"Pending Fees"),A()()()(),T(17,"div",11)(18,"table",12)(19,"thead",13)(20,"tr")(21,"th"),x(22,"#id"),A(),T(23,"th"),x(24,"model#capacity"),A(),T(25,"th"),x(26,"phone"),A(),T(27,"th"),x(28,"fee Name"),A(),T(29,"th"),x(30,"price"),A(),T(31,"th"),x(32,"fee Date"),A(),T(33,"th"),x(34," Status "),A()()(),T(35,"tbody",14),J(36,Z1e,2,1,"ng-container",15),J(37,eCe,2,1,"ng-container",15),J(38,nCe,2,1,"ng-container",15),J(39,iCe,2,1,"ng-container",15),A()()()()()()()),2&t&&(j(8),te("ngModel",r.filterFees),j(28),te("ngIf","All"==r.filterFees),j(1),te("ngIf","Approved"==r.filterFees),j(1),te("ngIf","Pending"==r.filterFees),j(1),te("ngIf","NotApprovedFees"==r.filterFees))},directives:[Pd,Ka,ok,vf,_f,ri,$a],styles:[""]}),n})();function sCe(n,e){1&n&&(T(0,"div")(1,"span",11),x(2,"Approved"),A()())}function aCe(n,e){1&n&&(T(0,"div")(1,"span",12),x(2,"refused"),A()())}function lCe(n,e){if(1&n){const t=er();T(0,"div")(1,"button",13),Te("click",function(){ft(t);const i=de().$implicit;return de().ApprovedFee(i.id,!0)}),x(2,"Agree"),A(),T(3,"button",14),Te("click",function(){ft(t);const i=de().$implicit;return de().ApprovedFee(i.id,!1)}),x(4,"Refuse"),A()()}}function uCe(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),T(8,"td"),x(9),A(),T(10,"td"),x(11),A(),T(12,"td")(13,"span",9),x(14),A()(),T(15,"td"),J(16,sCe,3,0,"div",10),J(17,aCe,3,0,"div",10),J(18,lCe,5,0,"div",10),A()()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),Td("",t.bus.model,"#",t.bus.capacity,""),j(2),Ke(" ",t.bus.phone," "),j(2),mt(t.feesLk.lkNameAr),j(2),mt(t.price),j(3),mt(t.fessDate),j(2),te("ngIf",1==t.isApproved),j(1),te("ngIf",0==t.isApproved),j(1),te("ngIf",null==t.isApproved)}}let cCe=(()=>{class n{constructor(t,r,i){this.api=t,this.toastr=r,this.route=i,this.id=1}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id}),this.getAllfeesByBus(this.id)}getAllfeesByBus(t){this.api.getAllfeesByBus(t).subscribe(r=>{console.log(r),this.AllFees=r},r=>{this.toastr.warning(r.statusText?r.statusText:r.error?r.error:"Internal Server Error")})}ApprovedFee(t,r){this.api.ApprovedFee(t,r).subscribe(()=>{this.toastr.success(1==r?"Approved Successfully":" Not Approved Successfully"),this.getAllfeesByBus(this.id)},i=>{console.log(i),this.toastr.warning(i.statusText)})}}return n.\u0275fac=function(t){return new(t||n)(H(iq),H(So),H(ff))},n.\u0275cmp=Ft({type:n,selectors:[["fee-by-bus"]],decls:26,vars:1,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],[1,"badge","bg-label-warning","me-1"],[4,"ngIf"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-1"],["type","button",1,"btn","btn-success",2,"margin-right","10px","border-radius","15px",3,"click"],["type","button",1,"btn","btn-danger",2,"border-radius","15px",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Fees"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),x(11,"#id"),A(),T(12,"th"),x(13,"model#capacity"),A(),T(14,"th"),x(15,"phone"),A(),T(16,"th"),x(17,"fee Name"),A(),T(18,"th"),x(19,"price"),A(),T(20,"th"),x(21,"fessDate"),A(),T(22,"th"),x(23,"Actions"),A()()(),T(24,"tbody",7),J(25,uCe,19,10,"tr",8),A()()()()()()()),2&t&&(j(25),te("ngForOf",r.AllFees))},directives:[$a,ri],styles:[""]}),n})();var dCe=_t(226),oq=_t.n(dCe);let hCe=(()=>{class n{constructor(t){this.http=t}getAppointmentInProcess(){return this.http.get(`${we.UrlWebsite}/txRide/company/get-rides-need-to-assign?id=`+we.Token+"&status=process").pipe(ye(t=>t))}getAllStudentNotAssign(t){return this.http.get(`${we.UrlWebsite}/txBooking/company/appointment/get-all-not-assigned?companyId=`+we.Token+"&appointmentId="+t).pipe(ye(r=>r))}AssignBooking(t){return this.http.put(`${we.UrlWebsite}/txBooking/assign`,t).pipe(ye(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fCe(n,e){if(1&n){const t=er();T(0,"li",17),Te("click",function(){ft(t);const i=de(2).$implicit;return de(3).AddTOAssignment("Appointment",i)}),le(1,"i",18),T(2,"span",19),x(3),A(),T(4,"span",20),x(5),A()()}if(2&n){const t=de(2).$implicit,r=de(3);te("ngClass",r.Appointmentstatus==t.appointment.id?"AddTOAssignment":""),j(3),Td(" ",t.appointment.appointmentStartTime," ",t.appointment.appointmentType,""),j(2),Ke(" ",r.students[t.appointment.id]?r.students[t.appointment.id]:"0"," booked")}}function pCe(n,e){if(1&n&&(T(0,"div"),J(1,fCe,6,4,"li",16),A()),2&n){const t=de().$implicit;j(1),te("ngIf",null!=t&&"process"==(null==t?null:t.rideStatus))}}function mCe(n,e){if(1&n&&(T(0,"div"),J(1,pCe,2,1,"div",1),A()),2&n){const t=e.$implicit,r=de(3);j(1),te("ngIf",0!=r.students[t.appointment.id])}}function gCe(n,e){if(1&n){const t=er();T(0,"li",21),Te("mouseover",function(){const o=ft(t).$implicit;return de(3).showDataBus(o)})("mouseleave",function(){return ft(t),de(3).RemoveDataBus()})("click",function(){const o=ft(t).$implicit;return de(3).AddTOAssignment("Bus",o)}),le(1,"i",22),T(2,"span",19),x(3),A(),T(4,"span",20),x(5),A(),T(6,"span",20),x(7),A()()}if(2&n){const t=e.$implicit;te("ngClass",de(3).Busstatus==t.id?"AddTOAssignment":""),j(3),Ke(" ",t.model," "),j(2),Ke("",t.phone," "),j(2),Ke("capacity: ",t.capacity," ")}}function vCe(n,e){if(1&n){const t=er();T(0,"li",17),Te("click",function(){const o=ft(t).$implicit;return de(3).AddTOAssignment("Driver",o)}),le(1,"i",23),T(2,"span",19),x(3),A()()}if(2&n){const t=e.$implicit;te("ngClass",de(3).Driverstatus==t.id?"AddTOAssignment":""),j(3),Ke(" ",t.empName,"")}}function _Ce(n,e){if(1&n){const t=er();T(0,"div",6)(1,"div",7)(2,"h5"),x(3,"Availavle Rides"),A(),T(4,"div",8)(5,"div",9)(6,"ul",10),J(7,mCe,2,1,"div",11),A()()(),T(8,"h5"),x(9,"Availavle Buses"),A(),T(10,"div",8)(11,"div",9)(12,"ul",10),J(13,gCe,8,4,"li",12),A()()(),T(14,"h5"),x(15,"Availavle Drivers"),A(),T(16,"div",8)(17,"div",9)(18,"ul",10),J(19,vCe,4,2,"li",13),A()()(),T(20,"button",14),Te("click",function(){return ft(t),de(2).AddAssignment()}),x(21,"Add"),A(),T(22,"button",15),Te("click",function(){return ft(t),de(2).ClearAssignment()}),x(23,"Clear All"),A()()()}if(2&n){const t=de(2);j(7),te("ngForOf",t.AllNotAssignedAppointments),j(6),te("ngForOf",t.Buses),j(6),te("ngForOf",t.Drivers),j(1),te("disabled",3!=t.AssignmentCount)}}function yCe(n,e){if(1&n&&(T(0,"div",2)(1,"div",3)(2,"h2"),x(3,"Assignment"),A(),T(4,"div",4),J(5,_Ce,24,4,"div",5),A()()()),2&n){const t=de();j(5),te("ngIf",0!=t.AllNotAssignedAppointments.length)}}function bCe(n,e){1&n&&(T(0,"div")(1,"div",24)(2,"h2",25),x(3,"No Appointment To Assign"),A(),T(4,"div",26),le(5,"img",27),A()()())}let wCe=(()=>{class n{constructor(t,r,i,o,a,l,c,p){this.api=t,this.apiBuses=r,this.ApiAppointment=i,this.apiDrivers=o,this.toastr=a,this.helper=l,this.AssignmentService=c,this.datePipe=p,this.AllNotAssignedAppointments=[],this.Appointments=[],this.students=[],this.busInformation=!1,this.Assignments=[],this.myDate=new Date,this.countNotAssign=0,this.arrayToDeleteAppointments=[],this.Assignment=[],this.AssignmentCount=0,this.BookingToAssign=[],this.ArrayDataAssign=[],this.booking=[]}ngOnInit(){this.getAppointmentInProcess(),this.getBuses(),this.getDrivers()}getAppointmentInProcess(){this.api.getAppointmentInProcess().subscribe(t=>{this.AllNotAssignedAppointments=t,this.getAllStudentCountInAppointment(t)},t=>{this.toastr.warning("Internal Server Error")})}getAllStudentCountInAppointment(t){t.forEach((r,i)=>{this.api.getAllStudentNotAssign(r.appointment.id).subscribe(o=>{0!=o.length?this.students[r.appointment.id]=o.length:(this.students[r.appointment.id]=0,this.countNotAssign++)},o=>{this.toastr.warning("Internal Server Error")})})}getBuses(){this.apiBuses.AvailableBuses().subscribe(t=>{this.Buses=t},t=>{this.toastr.warning("Internal Server Error")})}getDrivers(){this.apiDrivers.getAvailableDrivers().subscribe(t=>{this.Drivers=t},t=>{this.toastr.warning("Internal Server Error")})}showDataBus(t){this.busInformation=!0,this.BusData=t}RemoveDataBus(){this.busInformation=!1}AddTOAssignment(t,r){this.Assignment[t]||this.AssignmentCount++,"Appointment"==t?(this.Assignment.rideId=r.id,this.Assignment.AppointmentID=r.appointment.id,this.Appointmentstatus=r.appointment.id,this.Assignment.AppointmentTime=r.appointment.appointmentStartTime+r.appointment.appointmentType):"Bus"==t?(this.Assignment[t]=r.id,this.Busstatus=r.id,this.Assignment.model=r.model,this.Assignment.capacity=r.capacity):"Driver"==t&&(this.Assignment[t]=r.id,this.Driverstatus=r.id,this.Assignment.DriverName=r.empName)}ClearAssignment(){this.AllNotAssignedAppointments.slice(this.Assignment.rideId,1),this.Assignment=[],this.Assignments=[],this.Appointmentstatus=0,this.Busstatus=0,this.Driverstatus=0,this.AssignmentCount=0,this.booking=[]}ReturnAllAssignment(){this.ClearAssignment(),this.getAppointmentInProcess(),this.getBuses(),this.getDrivers()}AddAssignment(){this.Assignments.push(this.Assignment),oq().fire({title:"Are you sure?",html:"<p>Appointment : "+this.Assignments[0].AppointmentTime+"</p>  <p>Driver : "+this.Assignments[0].DriverName+" </p> <p>Bus : "+this.Assignments[0].model+" -- capacity  :  "+this.Assignments[0].capacity+" </p> <p>Booking : "+this.students[this.Appointmentstatus]+"</p> ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Assign it!"}).then(t=>{t.isConfirmed?(oq().fire("Assign!","Your file has been Assigned.","success"),this.myDate=this.datePipe.transform(this.myDate,"yyyy-MM-dd"),Number(this.students[this.Appointmentstatus])<=Number(this.Assignment.capacity)?(this.students[this.Appointmentstatus]=0,this.countNotAssign++):this.students[this.Appointmentstatus]=Number(this.students[this.Appointmentstatus])-Number(this.Assignment.capacity),this.getAllStudentNotAssign(this.Assignment.AppointmentID),this.AssignmentService.getRideById(this.Assignment.rideId).subscribe(r=>{null==r.bus&&null==r.emp?(this.dataAssign={id:this.Assignments[0].rideId,emp:{id:this.Assignments[0].Driver},bus:{id:this.Assignments[0].Bus}},this.ArrayDataAssign.push(this.dataAssign),this.AssignmentService.AssignRide(this.ArrayDataAssign).subscribe(i=>{for(let o=0;o<this.booking[0].length&&(this.dataBooking={id:this.booking[0][o].id,emp:{id:this.Assignments[0].Driver},bus:{id:this.Assignments[0].Bus},txRide:{id:this.Assignments[0].rideId}},this.BookingToAssign.push(this.dataBooking),this.Assignments[0].capacity!=o+1);o++);this.AssignBooking(this.BookingToAssign),this.toastr.success("Added Successfully"),this.countNotAssign!=this.AllNotAssignedAppointments.length?this.ClearAssignment():this.ReturnAllAssignment()},i=>{this.toastr.warning("Internal Server Error")})):(this.dataAssign={rideData:this.myDate,rideStatus:"process",appointment:{id:this.Assignments[0].AppointmentID},emp:{id:this.Assignments[0].Driver},bus:{id:this.Assignments[0].Bus}},this.AssignmentService.CreateRide(this.dataAssign).subscribe(i=>{for(let o=0;o<this.booking[0].length;o++)this.dataBooking={id:this.booking[0][o].id,emp:{id:this.Assignments[0].Driver},bus:{id:this.Assignments[0].Bus},txRide:{id:i}},this.BookingToAssign.push(this.dataBooking);this.AssignBooking(this.BookingToAssign),this.toastr.success("Added Successfully"),this.countNotAssign!=this.AllNotAssignedAppointments.length?this.ClearAssignment():this.ReturnAllAssignment()},i=>{this.toastr.warning("Internal Server Error")}))}),this.Buses.splice(this.helper.findIndex(this.Buses,this.Busstatus),1),this.Drivers.splice(this.helper.findIndex(this.Drivers,this.Driverstatus),1)):this.ReturnAllAssignment()})}AssignBooking(t){this.api.AssignBooking(t).subscribe(r=>r)}getAllStudentNotAssign(t){this.api.getAllStudentNotAssign(t).subscribe(r=>{this.booking.push(r)})}}return n.\u0275fac=function(t){return new(t||n)(H(hCe),H(v8),H(Kz),H(x1),H(So),H(uh),H(g8),H(Bs))},n.\u0275cmp=Ft({type:n,selectors:[["app-assignment"]],decls:2,vars:2,consts:[["class","container-xxl flex-grow-1 ",4,"ngIf"],[4,"ngIf"],[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],["class","card","style","margin-top: 10px",4,"ngIf"],[1,"card",2,"margin-top","10px"],[1,"card-body","table-responsive","text-nowrap"],[1,"card-info","mb-4"],[1,"card-body-group"],[1,"p-0","m-0","d-flex","justify-content-center","align-items-center",2,"list-style","none"],[4,"ngFor","ngForOf"],["class","me-3 card-info-text",3,"ngClass","mouseover","mouseleave","click",4,"ngFor","ngForOf"],["class","me-3 card-info-text",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary","text-center","me-2",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-secondary","text-center","me-2",3,"click"],["class","me-3 card-info-text ",3,"ngClass","click",4,"ngIf"],[1,"me-3","card-info-text",3,"ngClass","click"],[1,"AssignmentIcon","bx","bx-time"],[1,"AppointmentDetails"],[1,"AppointmentDetails",2,"font-size","11px","color","#034D00","font-weight","500"],[1,"me-3","card-info-text",3,"ngClass","mouseover","mouseleave","click"],[1,"AssignmentIcon","bx","bx-bus"],[1,"AssignmentIcon","bx","bx-user"],[1,"misc-wrapper"],[1,"mb-2","mx-2"],[1,"mt-3"],["src","../assets/img/illustrations/Loading-rafiki.png","alt","page-misc-error-light","width","500","data-app-dark-img","illustrations/page-misc-error-dark.png","data-app-light-img","illustrations/page-misc-error-light.png",1,"img-fluid"]],template:function(t,r){1&t&&(J(0,yCe,6,1,"div",0),J(1,bCe,6,0,"div",1)),2&t&&(te("ngIf",0!=r.Assignments.length||0!=r.AllNotAssignedAppointments.length||r.countNotAssign!=r.AllNotAssignedAppointments.length),j(1),te("ngIf",0==r.Assignments.length&&0==r.AllNotAssignedAppointments.length||r.countNotAssign==r.AllNotAssignedAppointments.length))},directives:[ri,$a,s1],styles:[".card-info-text[_ngcontent-%COMP%]{background:#fff;color:#000;padding:6px 20px;border-radius:8px;cursor:pointer}.card-info-text[_ngcontent-%COMP%]:hover{color:#fff;background-color:#788393;border-color:#788393;box-shadow:0 .125rem .25rem #8592a366;transform:translateY(-1px)}.card-info-text.active[_ngcontent-%COMP%], .card-info-text[_ngcontent-%COMP%]:focus, .card-info-text[_ngcontent-%COMP%]:active{background-color:#eb671a!important;border-color:#eb671a!important;color:#fff}.card-body-group[_ngcontent-%COMP%]{background:#eaecf1!important;padding:14px 10px;border-radius:20px}.card-info.mb-4[_ngcontent-%COMP%]{overflow-x:scroll;display:grid}.card-info.mb-4[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#999;border-radius:20px;height:11px;width:11px}.card-info.mb-4[_ngcontent-%COMP%]::-webkit-scrollbar{background:none;width:5px;height:10px}.card-info.mb-4[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none}i.AssignmentIcon[_ngcontent-%COMP%]{display:block;text-align:center;font-size:50px;margin-bottom:12px;color:#eb671a!important}.AppointmentDetails[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:3px}.AddTOAssignment[_ngcontent-%COMP%]{color:#fff;background-color:#788393;border-color:#788393;box-shadow:0 .125rem .25rem #8592a366;transform:translateY(-1px)}"]}),n})();class CCe{}let ECe=(()=>{class n{constructor(t){this.http=t}getSubscriptionPrice(){return this.http.get(`${we.UrlWebsite}/subscriptionPrice/company/get-all?id=`+we.Token).pipe(ye(t=>t))}PostSubscriptionPrice(t){return this.http.post(`${we.UrlWebsite}/subscriptionPrice/save-subscriptionPrice`,t).pipe(ye(r=>r))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SCe(n,e){1&n&&(T(0,"td")(1,"span",28),x(2," Active "),A()())}function TCe(n,e){1&n&&(T(0,"td")(1,"span",29),x(2," Not Active "),A()())}function DCe(n,e){if(1&n&&(T(0,"tr")(1,"td")(2,"strong"),x(3),A()(),T(4,"td"),x(5),A(),T(6,"td"),x(7),A(),J(8,SCe,3,0,"td",27),J(9,TCe,3,0,"td",27),A()),2&n){const t=e.$implicit,r=e.index;j(3),mt(r+1),j(2),mt(t.subscriptionPrice),j(2),Ke(" ",t.subscriptionStartDate," "),j(1),te("ngIf",null==t.subscriptionEndDate),j(1),te("ngIf",null!=t.subscriptionEndDate)}}let ACe=(()=>{class n{constructor(t,r){this.api=t,this.toastr=r,this.formValues=new js({subscriptionPrice:new Xt("",[Nn.required])})}ngOnInit(){this.getSubscriptionPrice()}getSubscriptionPrice(){this.api.getSubscriptionPrice().subscribe(t=>{this.subscriptionPrices=t},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}AddNewsubscription(){this.formValues.reset()}get subscriptionPrice(){return this.formValues.get("subscriptionPrice")}validation(){return"VALID"==this.formValues.status}getDetails(){var t;this.SubscriptionPriceModule.id=null,this.SubscriptionPriceModule.subscriptionPrice=null===(t=this.subscriptionPrice)||void 0===t?void 0:t.value,this.SubscriptionPriceModule.company={id:we.Token}}SaveSubscriptionPrice(){this.SubscriptionPriceModule=new CCe,this.getDetails(),this.validation()?this.api.PostSubscriptionPrice(this.SubscriptionPriceModule).subscribe(t=>{this.toastr.success("Added Successfully");let r=document.getElementById("close-button");null==r||r.click(),this.getSubscriptionPrice()},t=>{console.log(t),this.toastr.warning(t.error?t.error:"wrong in Server")}):this.toastr.info("Please fill in the data correctly")}}return n.\u0275fac=function(t){return new(t||n)(H(ECe),H(So))},n.\u0275cmp=Ft({type:n,selectors:[["subscription-price"]],decls:41,vars:2,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"right-card"],["type","button","data-bs-target","#exLargeModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body","table-responsive","text-nowrap"],[1,"table","table-borderless"],[2,"border-bottom","1px solid #b3b3b3"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],["id","exLargeModal","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2","mb-3"],[1,"col","mb-0"],["for","nameExLarge",1,"form-label"],["type","text","id","nameExLarge","formControlName","subscriptionPrice",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal","id","close-button",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-11"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),Te("click",function(){return r.AddNewsubscription()}),x(7,"Add New subscription Price"),A()()(),T(8,"div",7)(9,"table",8)(10,"thead",9)(11,"tr")(12,"th"),x(13,"#id"),A(),T(14,"th"),x(15,"subscription Price"),A(),T(16,"th"),x(17,"subscription Start Date"),A(),T(18,"th"),x(19,"Status"),A()()(),T(20,"tbody",10),J(21,DCe,10,5,"tr",11),A()()()()()()(),T(22,"div",12)(23,"div",13)(24,"form",14),Te("ngSubmit",function(){return r.SaveSubscriptionPrice()}),T(25,"div",15)(26,"div",16)(27,"h5",17),x(28,"ADD New Subscription Price"),A(),le(29,"button",18),A(),T(30,"div",19)(31,"div",20)(32,"div",21)(33,"label",22),x(34,"Subscription Price"),A(),le(35,"input",23),A()()(),T(36,"div",24)(37,"button",25),x(38," Close "),A(),T(39,"button",26),x(40,"Save"),A()()()()()()),2&t&&(j(21),te("ngForOf",r.subscriptionPrices),j(3),te("formGroup",r.formValues))},directives:[$a,ri,Ll,Fl,vs,fa,Ka,Ya],styles:[""]}),n})(),ICe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-settings"]],decls:18,vars:0,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"mt-3"],[1,"col-md-3","col-12","mb-3","mb-md-0"],[1,"list-group"],["id","list-home-list","data-bs-toggle","list","href","#list-home",1,"list-group-item","list-group-item-action"],["id","subscriptionPrice-list","data-bs-toggle","list","href","#subscriptionPrice",1,"list-group-item","list-group-item-action","active"],[1,"col-md-9","col-12"],[1,"tab-content","p-0"],["id","list-home",1,"tab-pane","fade"],["id","subscriptionPrice",1,"tab-pane","fade","show","active"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Settings"),A(),T(4,"div",2)(5,"div",3)(6,"div",1)(7,"div",4)(8,"div",5)(9,"a",6),x(10,"All Settings"),A(),T(11,"a",7),x(12,"subscription Price"),A()()(),T(13,"div",8)(14,"div",9),le(15,"div",10),T(16,"div",11),le(17,"subscription-price"),A()()()()()()()())},directives:[ACe],styles:[""]}),n})(),kCe=(()=>{class n{constructor(t){this.http=t}getPayments(){return this.http.get(`${we.UrlWebsite}/payment/company/get-all?id=`+we.Token).pipe(ye(t=>t))}}return n.\u0275fac=function(t){return new(t||n)(oe(Yo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MCe(n,e){1&n&&(T(0,"th",24),x(1," ID "),A())}function xCe(n,e){if(1&n&&(T(0,"td",25)(1,"strong"),x(2),A()()),2&n){const t=e.index;j(2),mt(t+1)}}function RCe(n,e){1&n&&(T(0,"th",24),x(1," Name "),A())}function PCe(n,e){if(1&n&&(T(0,"td",25),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.std.stdName," ")}}function OCe(n,e){1&n&&(T(0,"th",24),x(1," Phone "),A())}function NCe(n,e){if(1&n&&(T(0,"td",25),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.std.stdPhone," ")}}function FCe(n,e){1&n&&(T(0,"th",24),x(1," start Date "),A())}function LCe(n,e){if(1&n&&(T(0,"td",25),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.paymentStartDate," ")}}function VCe(n,e){1&n&&(T(0,"th",24),x(1," End Date "),A())}function BCe(n,e){if(1&n&&(T(0,"td",25),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.paymentEndDate," ")}}function UCe(n,e){1&n&&(T(0,"th",24),x(1,"Price"),A())}function jCe(n,e){if(1&n&&(T(0,"td",25),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.paymentPrice," ")}}function HCe(n,e){1&n&&(T(0,"th",24),x(1," STATUS "),A())}function zCe(n,e){1&n&&(T(0,"span",28),x(1," Online Payment "),A())}function qCe(n,e){1&n&&(T(0,"span",29),x(1," Cash Payment "),A())}function $Ce(n,e){if(1&n&&(T(0,"td",25),J(1,zCe,2,0,"span",26),J(2,qCe,2,0,"span",27),A()),2&n){const t=e.$implicit;j(1),te("ngIf","O"==t.paymentMethodType),j(1),te("ngIf","C"==t.paymentMethodType)}}function WCe(n,e){1&n&&le(0,"tr",30)}function GCe(n,e){1&n&&le(0,"tr",31)}function KCe(n,e){if(1&n&&(T(0,"tr",32)(1,"td",33),x(2),A()()),2&n){de();const t=Cu(12);j(2),Ke('No data matching the filter "',t.value,'"')}}const YCe=function(){return[5,10,25,100]};let QCe=(()=>{class n{constructor(t,r){this.PaymentApi=t,this.toastr=r,this.theDateNow=new Date,this.ShowAddbutton=!0,this.displayedColumns=["id","stdName","stdPhone","paymentStartDate","paymentEndDate","paymentPrice","paymentMethodType"]}ngOnInit(){this.getPayments()}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}SearchAndPagination(){this.dataSource=new Xg(this.Payments),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getPayments(){this.PaymentApi.getPayments().subscribe(t=>{this.Payments=t,this.SearchAndPagination()},t=>{this.toastr.warning(t.statusText?t.statusText:t.error?t.error:"Internal Server Error")})}}return n.\u0275fac=function(t){return new(t||n)(H(kCe),H(So))},n.\u0275cmp=Ft({type:n,selectors:[["app-payment"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:41,vars:6,consts:[[1,"container-xxl","flex-grow-1"],[1,"row"],[1,"col-lg-12"],[1,"card",2,"margin-top","10px"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"left-card"],["appearance","standard",2,"width","257px"],["type","search","matInput","","placeholder","Search",1,"form-control","p-1",3,"keyup"],["input",""],[1,"card-body","table-responsive","text-nowrap"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","stdName"],["matColumnDef","stdPhone"],["matColumnDef","paymentStartDate"],["matColumnDef","paymentEndDate"],["matColumnDef","paymentPrice"],["matColumnDef","paymentMethodType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge  bg-label-success me-1",4,"ngIf"],["class","badge bg-label-danger me-11",4,"ngIf"],[1,"badge","bg-label-success","me-1"],[1,"badge","bg-label-danger","me-11"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Payments"),A(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),x(10,"Search"),A(),T(11,"input",7,8),Te("keyup",function(o){return r.applyFilter(o)}),A()()()(),T(13,"div",9)(14,"div")(15,"table",10),nn(16,11),J(17,MCe,2,0,"th",12),J(18,xCe,3,1,"td",13),rn(),nn(19,14),J(20,RCe,2,0,"th",12),J(21,PCe,2,1,"td",13),rn(),nn(22,15),J(23,OCe,2,0,"th",12),J(24,NCe,2,1,"td",13),rn(),nn(25,16),J(26,FCe,2,0,"th",12),J(27,LCe,2,1,"td",13),rn(),nn(28,17),J(29,VCe,2,0,"th",12),J(30,BCe,2,1,"td",13),rn(),nn(31,18),J(32,UCe,2,0,"th",12),J(33,jCe,2,1,"td",13),rn(),nn(34,19),J(35,HCe,2,0,"th",12),J(36,$Ce,3,2,"td",13),rn(),J(37,WCe,1,0,"tr",20),J(38,GCe,1,0,"tr",21),J(39,KCe,3,1,"tr",22),A(),le(40,"mat-paginator",23),A()()()()()()),2&t&&(j(15),te("dataSource",r.dataSource),j(22),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSize",5)("pageSizeOptions",Dd(5,YCe)))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,ri,ep,np,tp,rp,ip,Ca],styles:[""]}),n})();function XCe(n,e){1&n&&(T(0,"th",15),x(1," ID "),A())}function ZCe(n,e){if(1&n&&(T(0,"td",16),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.id," ")}}function JCe(n,e){1&n&&(T(0,"th",15),x(1," Progress "),A())}function eEe(n,e){if(1&n&&(T(0,"td",16),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.progress,"% ")}}function tEe(n,e){1&n&&(T(0,"th",15),x(1," Name "),A())}function nEe(n,e){if(1&n&&(T(0,"td",16),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.name," ")}}function rEe(n,e){1&n&&(T(0,"th",15),x(1," Fruit "),A())}function iEe(n,e){if(1&n&&(T(0,"td",16),x(1),A()),2&n){const t=e.$implicit;j(1),Ke(" ",t.fruit," ")}}function oEe(n,e){1&n&&le(0,"tr",17)}function sEe(n,e){1&n&&le(0,"tr",18)}function aEe(n,e){if(1&n&&(T(0,"tr",19)(1,"td",20),x(2),A()()),2&n){de();const t=Cu(4);j(2),Ke('No data matching the filter "',t.value,'"')}}const lEe=function(){return[5,10,25,100]},sq=["blueberry","lychee","kiwi","mango","peach","lime","pomegranate","pineapple"],pS=["Maia","Asher","Olivia","Atticus","Amelia","Jack","Charlotte","Theodore","Isla","Oliver","Isabella","Jasper","Cora","Levi","Violet","Arthur","Mia","Thomas","Elizabeth"];let uEe=(()=>{class n{constructor(){this.displayedColumns=["id","name","progress","fruit"];const t=Array.from({length:1},(r,i)=>function cEe(n){const e=pS[Math.round(Math.random()*(pS.length-1))]+" "+pS[Math.round(Math.random()*(pS.length-1))].charAt(0)+".";return{id:n.toString(),name:e,progress:Math.round(100*Math.random()).toString(),fruit:sq[Math.round(Math.random()*(sq.length-1))]}}(i+1));this.dataSource=new Xg(t),console.log(t)}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(this.dataSource)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-test"]],viewQuery:function(t,r){if(1&t&&(hr(Ca,5),hr(Ws,5)),2&t){let i;Lt(i=Vt())&&(r.paginator=i.first),Lt(i=Vt())&&(r.sort=i.first)}},decls:23,vars:5,consts:[["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","progress"],["matColumnDef","name"],["matColumnDef","fruit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,r){1&t&&(T(0,"mat-form-field",0)(1,"mat-label"),x(2,"Filter"),A(),T(3,"input",1,2),Te("keyup",function(o){return r.applyFilter(o)}),A()(),T(5,"div",3)(6,"table",4),nn(7,5),J(8,XCe,2,0,"th",6),J(9,ZCe,2,1,"td",7),rn(),nn(10,8),J(11,JCe,2,0,"th",6),J(12,eEe,2,1,"td",7),rn(),nn(13,9),J(14,tEe,2,0,"th",6),J(15,nEe,2,1,"td",7),rn(),nn(16,10),J(17,rEe,2,0,"th",6),J(18,iEe,2,1,"td",7),rn(),J(19,oEe,1,0,"tr",11),J(20,sEe,1,0,"tr",12),J(21,aEe,3,1,"tr",13),A(),le(22,"mat-paginator",14),A()),2&t&&(j(6),te("dataSource",r.dataSource),j(13),te("matHeaderRowDef",r.displayedColumns),j(1),te("matRowDefColumns",r.displayedColumns),j(2),te("pageSizeOptions",Dd(4,lEe)))},directives:[sp,ah,rv,Jf,Ws,ih,rh,oh,nv,nh,sh,ep,np,tp,rp,ip,Ca],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}"]}),n})();const dEe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:W1e,pathMatch:"full",canActivate:[rq]},{path:"Dashboard",component:zI,canActivate:[rq]},{path:"home",component:zI,canActivate:[No]},{path:"Students",component:Z0e,canActivate:[No]},{path:"Appointments",component:_we,canActivate:[No]},{path:"Buses",component:jwe,canActivate:[No]},{path:"Complaints",component:e1e,canActivate:[No]},{path:"Employees",component:d1e,canActivate:[No]},{path:"locations",component:P1e,canActivate:[No]},{path:"reports",component:O1e,canActivate:[No]},{path:"Supports",component:z1e,canActivate:[No]},{path:"Payments",component:QCe,canActivate:[No]},{path:"Test",component:uEe,canActivate:[No]},{path:"Fees",component:oCe,canActivate:[No]},{path:"Assignments",component:wCe,canActivate:[No]},{path:"Settings",component:ICe,canActivate:[No]},{path:"Company",component:nq,canActivate:[No]},{path:"Fees/bus/:id",component:cCe,canActivate:[No]},{path:"**",component:G1e,canActivate:[No]}];let hEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[t8.forRoot(dEe)],t8]}),n})();const fEe=function(){return{exact:!0}};function pEe(n,e){if(1&n){const t=er();T(0,"ul",8)(1,"li",9)(2,"a",10),Te("click",function(){return ft(t),de().removeNav()}),le(3,"i",11),T(4,"div",12),x(5,"Dashboard"),A()()(),T(6,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(7,"a",14),le(8,"i",15),T(9,"div",12),x(10,"Students"),A()()(),T(11,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(12,"a",16),le(13,"i",17),T(14,"div",12),x(15,"Employees"),A()()(),T(16,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(17,"a",18),le(18,"i",19),T(19,"div",12),x(20,"buses"),A()()(),T(21,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(22,"a",20),le(23,"i",21),T(24,"div",12),x(25,"Fees"),A()()(),T(26,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(27,"a",22),le(28,"i",23),T(29,"div",12),x(30,"Who has support?"),A()()(),T(31,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(32,"a",24),le(33,"i",25),T(34,"div",12),x(35,"Map Locations"),A()()(),T(36,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(37,"a",26),le(38,"i",27),T(39,"div",12),x(40,"Appointments"),A()()(),T(41,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(42,"a",28),le(43,"i",29),T(44,"div",12),x(45,"Assignment"),A()()(),T(46,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(47,"a",30),le(48,"i",31),T(49,"div",12),x(50,"Complaints"),A()()(),T(51,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(52,"a",32),le(53,"i",21),T(54,"div",12),x(55,"Payments"),A()()(),T(56,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(57,"a",33),le(58,"i",34),T(59,"div",12),x(60,"Settings"),A()()(),T(61,"li",13),Te("click",function(){return ft(t),de().logout()}),T(62,"a",35),Te("click",function(){return ft(t),de().logout()}),le(63,"i",36),T(64,"div",12),x(65,"Log Out"),A()()()()}2&n&&(j(1),te("routerLinkActiveOptions",Dd(1,fEe)))}function mEe(n,e){if(1&n){const t=er();T(0,"ul",8)(1,"li",13),Te("click",function(){return ft(t),de().removeNav()}),T(2,"a",37),le(3,"i",38),T(4,"div",12),x(5,"Company"),A()()(),T(6,"li",13),Te("click",function(){return ft(t),de().logout()}),T(7,"a",35),Te("click",function(){return ft(t),de().logout()}),le(8,"i",36),T(9,"div",12),x(10,"Log Out"),A()()()()}}let gEe=(()=>{class n{constructor(t){this.router=t,this.token=we.Token}ngOnInit(){}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}removeNav(){let t=document.getElementById("html");null==t||t.classList.remove("layout-menu-expanded")}}return n.\u0275fac=function(t){return new(t||n)(H(gi))},n.\u0275cmp=Ft({type:n,selectors:[["header"]],decls:9,vars:2,consts:[["id","layout-menu","data-bg-class","bg-menu-theme",1,"layout-menu","menu-vertical","menu","bg-menu-theme"],[1,"app-brand","demo"],["href","index.html",1,"app-brand-link"],["src","assets/img/logo.svg","alt","",2,"width","100%"],["href","javascript:void(0);",1,"layout-menu-toggle","menu-link","text-large","ms-auto","d-xl-none",3,"click"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-inner-shadow",2,"display","none"],["class","menu-inner py-1",4,"ngIf"],[1,"menu-inner","py-1"],["routerLinkActive","active",1,"menu-item",3,"routerLinkActiveOptions"],["routerLink","home",1,"menu-link",3,"click"],[1,"menu-icon","tf-icons","bx","bx-home-circle"],["data-i18n","Analytics"],["routerLinkActive","active",1,"menu-item",3,"click"],["routerLink","Students",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-user-circle"],["routerLink","Employees",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-user"],["routerLink","Buses",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-bus"],["routerLink","Fees",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-wallet"],["routerLink","Supports",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-user-voice"],["routerLink","locations",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-map"],["routerLink","Appointments",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-time"],["routerLink","Assignments",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-edit"],["routerLink","Complaints",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-chat"],["routerLink","Payments",1,"menu-link"],["routerLink","Settings",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-plus-circle"],["routerLink","login",1,"menu-link",3,"click"],[1,"menu-icon","tf-icons","bx","bxs-log-out"],["routerLink","Company",1,"menu-link"],[1,"menu-icon","tf-icons","bx","bxs-home"]],template:function(t,r){1&t&&(T(0,"aside",0)(1,"div",1)(2,"a",2),le(3,"img",3),A(),T(4,"a",4),Te("click",function(){return r.removeNav()}),le(5,"i",5),A()(),le(6,"div",6),J(7,pEe,66,2,"ul",7),J(8,mEe,11,0,"ul",7),A()),2&t&&(j(7),te("ngIf",0!=r.token),j(1),te("ngIf",0==r.token))},directives:[ri,Q4,iy],styles:[".menu-inner[_ngcontent-%COMP%]{overflow-y:scroll!important;overflow-x:hidden!important}.menu-inner[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#999;border-radius:20px;height:11px;width:11px}.menu-inner[_ngcontent-%COMP%]::-webkit-scrollbar{background:none;width:5px;height:10px}.menu-inner[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none}"]}),n})(),vEe=(()=>{class n{constructor(){}ngOnInit(){}navShow(){let t=document.getElementById("html");null==t||t.classList.add("layout-menu-expanded")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["navbar"]],decls:9,vars:0,consts:[["id","layout-navbar",1,"layout-navbar","container-xxl","navbar","navbar-expand-xl","align-items-center","bg-navbar-theme",2,"background-color","transparent !important","backdrop-filter","none"],[1,"layout-menu-toggle","navbar-nav","align-items-xl-center","me-3","me-xl-0","d-xl-none"],["href","javascript:void(0)",1,"nav-item","nav-link","px-0","me-xl-4",3,"click"],[1,"bx","bx-menu","bx-sm"],[1,"navbar-nav-right","d-flex","align-items-center"],[1,"navbar-nav","flex-row","align-items-center","ms-auto"],[1,"nav-item","lh-1","me-3"]],template:function(t,r){1&t&&(T(0,"nav",0)(1,"div",1)(2,"a",2),Te("click",function(){return r.navShow()}),le(3,"i",3),A()(),T(4,"div",4)(5,"ul",5)(6,"li",6),le(7,"span"),A()()()(),le(8,"br"))},styles:[""]}),n})(),_Ee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["footer"]],decls:0,vars:0,template:function(t,r){},styles:[""]}),n})();function yEe(n,e){1&n&&(T(0,"div")(1,"div",1)(2,"div",2),le(3,"header"),T(4,"div",3),le(5,"navbar"),T(6,"div",4)(7,"div"),le(8,"router-outlet"),A()(),le(9,"div",5)(10,"footer"),A()()()())}function bEe(n,e){1&n&&(T(0,"div"),le(1,"router-outlet"),A())}let wEe=(()=>{class n{constructor(t){this.router=t,this.title="YallaBus",this.loginActive=null!=localStorage.getItem("token")}}return n.\u0275fac=function(t){return new(t||n)(H(gi))},n.\u0275cmp=Ft({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["id","layout-wrapper",1,"layout-wrapper","layout-content-navbar"],[1,"layout-container"],[1,"layout-page"],[1,"content-wrapper"],[1,"layout-overlay","layout-menu-toggle"]],template:function(t,r){1&t&&(J(0,yEe,11,0,"div",0),J(1,bEe,2,0,"div",0)),2&t&&(te("ngIf","/login"!=r.router.url),j(1),te("ngIf","/login"==r.router.url))},directives:[ri,gEe,vEe,AI,_Ee],styles:[""]}),n})();function CEe(n,e){if(1&n&&(Fs(),le(0,"circle",4)),2&n){const t=de(),r=Cu(1);Go("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ir("r",t._getCircleRadius())}}function EEe(n,e){if(1&n&&(Fs(),le(0,"circle",4)),2&n){const t=de(),r=Cu(1);Go("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ir("r",t._getCircleRadius())}}const TEe=Yx(class{constructor(n){this._elementRef=n}},"primary"),DEe=new We("mat-progress-spinner-default-options",{providedIn:"root",factory:function AEe(){return{diameter:100}}});class ch extends TEe{constructor(e,t,r,i,o,a,l,c){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Tt.EMPTY,this.mode="determinate";const p=ch._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),p.has(r.head)||p.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&l&&a&&c&&(this._resizeSubscription=l.change(150).subscribe(()=>{"indeterminate"===this.mode&&c.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=nl(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=nl(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,nl(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=L7(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=ch._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ch._diameters=new WeakMap,ch.\u0275fac=function(e){return new(e||ch)(H(Wn),H(Oo),H(Mn,8),H(Gc,8),H(DEe),H(ha),H(yb),H(bn))},ch.\u0275cmp=Ft({type:ch,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(ir("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Go("width",t.diameter,"px")("height",t.diameter,"px"),Ei("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[dt],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Fs(),T(0,"svg",0,1),J(2,CEe,1,11,"circle",2),J(3,EEe,1,9,"circle",3),A()),2&e&&(Go("width",t.diameter,"px")("height",t.diameter,"px"),te("ngSwitch","indeterminate"===t.mode),ir("viewBox",t._getViewBox()),j(2),te("ngSwitchCase",!0),j(1),te("ngSwitchCase",!1))},directives:[Km,a1],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let kEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n}),n.\u0275inj=Dt({imports:[[Gi,Ac],Gi]}),n})(),MEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cn({type:n,bootstrap:[wEe]}),n.\u0275inj=Dt({providers:[Bs],imports:[[q5,hEe,Zoe,Sie,Xoe,N_e,Kie.forRoot(),E0e,dz,Bz,Uz,kEe],dz,Bz,Uz]}),n})();we.production&&function IJ(){J3=!1}(),Fte().bootstrapModule(MEe).catch(n=>console.error(n))},940:function(Uo,wr){!function(_t){"use strict";function ze(Be){return Array.prototype.slice.call(Be)}function wt(Be){return new Promise(function(tt,ht){Be.onsuccess=function(){tt(Be.result)},Be.onerror=function(){ht(Be.error)}})}function L(Be,tt,ht){var Pt,Nt=new Promise(function(ct,Gn){wt(Pt=Be[tt].apply(Be,ht)).then(ct,Gn)});return Nt.request=Pt,Nt}function fe(Be,tt,ht){var Pt=L(Be,tt,ht);return Pt.then(function(Nt){if(Nt)return new _e(Nt,Pt.request)})}function Tt(Be,tt,ht){ht.forEach(function(Pt){Object.defineProperty(Be.prototype,Pt,{get:function(){return this[tt][Pt]},set:function(Nt){this[tt][Pt]=Nt}})})}function Xr(Be,tt,ht,Pt){Pt.forEach(function(Nt){Nt in ht.prototype&&(Be.prototype[Nt]=function(){return L(this[tt],Nt,arguments)})})}function cr(Be,tt,ht,Pt){Pt.forEach(function(Nt){Nt in ht.prototype&&(Be.prototype[Nt]=function(){return this[tt][Nt].apply(this[tt],arguments)})})}function In(Be,tt,ht,Pt){Pt.forEach(function(Nt){Nt in ht.prototype&&(Be.prototype[Nt]=function(){return fe(this[tt],Nt,arguments)})})}function at(Be){this._index=Be}function _e(Be,tt){this._cursor=Be,this._request=tt}function Je(Be){this._store=Be}function Ue(Be){this._tx=Be,this.complete=new Promise(function(tt,ht){Be.oncomplete=function(){tt()},Be.onerror=function(){ht(Be.error)},Be.onabort=function(){ht(Be.error)}})}function Me(Be,tt,ht){this._db=Be,this.oldVersion=tt,this.transaction=new Ue(ht)}function He(Be){this._db=Be}Tt(at,"_index",["name","keyPath","multiEntry","unique"]),Xr(at,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),In(at,"_index",IDBIndex,["openCursor","openKeyCursor"]),Tt(_e,"_cursor",["direction","key","primaryKey","value"]),Xr(_e,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Be){Be in IDBCursor.prototype&&(_e.prototype[Be]=function(){var tt=this,ht=arguments;return Promise.resolve().then(function(){return tt._cursor[Be].apply(tt._cursor,ht),wt(tt._request).then(function(Pt){if(Pt)return new _e(Pt,tt._request)})})})}),Je.prototype.createIndex=function(){return new at(this._store.createIndex.apply(this._store,arguments))},Je.prototype.index=function(){return new at(this._store.index.apply(this._store,arguments))},Tt(Je,"_store",["name","keyPath","indexNames","autoIncrement"]),Xr(Je,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),In(Je,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),cr(Je,"_store",IDBObjectStore,["deleteIndex"]),Ue.prototype.objectStore=function(){return new Je(this._tx.objectStore.apply(this._tx,arguments))},Tt(Ue,"_tx",["objectStoreNames","mode"]),cr(Ue,"_tx",IDBTransaction,["abort"]),Me.prototype.createObjectStore=function(){return new Je(this._db.createObjectStore.apply(this._db,arguments))},Tt(Me,"_db",["name","version","objectStoreNames"]),cr(Me,"_db",IDBDatabase,["deleteObjectStore","close"]),He.prototype.transaction=function(){return new Ue(this._db.transaction.apply(this._db,arguments))},Tt(He,"_db",["name","version","objectStoreNames"]),cr(He,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Be){[Je,at].forEach(function(tt){Be in tt.prototype&&(tt.prototype[Be.replace("open","iterate")]=function(){var ht=ze(arguments),Pt=ht[ht.length-1],Nt=this._store||this._index,ct=Nt[Be].apply(Nt,ht.slice(0,-1));ct.onsuccess=function(){Pt(ct.result)}})})}),[at,Je].forEach(function(Be){Be.prototype.getAll||(Be.prototype.getAll=function(tt,ht){var Pt=this,Nt=[];return new Promise(function(ct){Pt.iterateCursor(tt,function(Gn){Gn?(Nt.push(Gn.value),void 0===ht||Nt.length!=ht?Gn.continue():ct(Nt)):ct(Nt)})})})}),_t.openDb=function Ct(Be,tt,ht){var Pt=L(indexedDB,"open",[Be,tt]),Nt=Pt.request;return Nt&&(Nt.onupgradeneeded=function(ct){ht&&ht(new Me(Nt.result,ct.oldVersion,Nt.transaction))}),Pt.then(function(ct){return new He(ct)})},_t.deleteDb=function cn(Be){return L(indexedDB,"deleteDatabase",[Be])},Object.defineProperty(_t,"__esModule",{value:!0})}(wr)},226:function(Uo){Uo.exports=function(){"use strict";const wr="SweetAlert2:",ze=C=>C.charAt(0).toUpperCase()+C.slice(1),wt=C=>Array.prototype.slice.call(C),L=C=>{console.warn("".concat(wr," ").concat("object"==typeof C?C.join(" "):C))},fe=C=>{console.error("".concat(wr," ").concat(C))},Tt=[],cr=(C,E)=>{(C=>{Tt.includes(C)||(Tt.push(C),L(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(E,'" instead.'))},In=C=>"function"==typeof C?C():C,at=C=>C&&"function"==typeof C.toPromise,_e=C=>at(C)?C.toPromise():Promise.resolve(C),Je=C=>C&&Promise.resolve(C)===C,Me={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},He=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ct={},cn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Be=C=>Object.prototype.hasOwnProperty.call(Me,C),tt=C=>-1!==He.indexOf(C),ht=C=>Ct[C],Pt=C=>{Be(C)||L('Unknown parameter "'.concat(C,'"'))},Nt=C=>{cn.includes(C)&&L('The parameter "'.concat(C,'" is incompatible with toasts'))},ct=C=>{ht(C)&&cr(C,ht(C))},dn=C=>{const E={};for(const O in C)E[C[O]]="swal2-"+C[O];return E},ie=dn(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),me=dn(["success","warning","info","question","error"]),ge=()=>document.body.querySelector(".".concat(ie.container)),Ae=C=>{const E=ge();return E?E.querySelector(C):null},ve=C=>Ae(".".concat(C)),ke=()=>ve(ie.popup),Re=()=>ve(ie.icon),Ye=()=>ve(ie.title),Jt=()=>ve(ie["html-container"]),Rr=()=>ve(ie.image),kt=()=>ve(ie["progress-steps"]),en=()=>ve(ie["validation-message"]),Ie=()=>Ae(".".concat(ie.actions," .").concat(ie.confirm)),Ge=()=>Ae(".".concat(ie.actions," .").concat(ie.deny)),Et=()=>Ae(".".concat(ie.loader)),Bt=()=>Ae(".".concat(ie.actions," .").concat(ie.cancel)),zr=()=>ve(ie.actions),ye=()=>ve(ie.footer),k=()=>ve(ie["timer-progress-bar"]),li=()=>ve(ie.close),Ni=()=>{const C=wt(ke().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((O,W)=>{const Ce=parseInt(O.getAttribute("tabindex")),et=parseInt(W.getAttribute("tabindex"));return Ce>et?1:Ce<et?-1:0}),E=wt(ke().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(O=>"-1"!==O.getAttribute("tabindex"));return(C=>{const E=[];for(let O=0;O<C.length;O++)-1===E.indexOf(C[O])&&E.push(C[O]);return E})(C.concat(E)).filter(O=>Qn(O))},ks=()=>Ln(document.body,ie.shown)&&!Ln(document.body,ie["toast-shown"])&&!Ln(document.body,ie["no-backdrop"]),hn=()=>ke()&&Ln(ke(),ie.toast),fr={previousBodyPadding:null},Tn=(C,E)=>{if(C.textContent="",E){const W=(new DOMParser).parseFromString(E,"text/html");wt(W.querySelector("head").childNodes).forEach(Ce=>{C.appendChild(Ce)}),wt(W.querySelector("body").childNodes).forEach(Ce=>{C.appendChild(Ce)})}},Ln=(C,E)=>{if(!E)return!1;const O=E.split(/\s+/);for(let W=0;W<O.length;W++)if(!C.classList.contains(O[W]))return!1;return!0},qt=(C,E,O)=>{if(((C,E)=>{wt(C.classList).forEach(O=>{!Object.values(ie).includes(O)&&!Object.values(me).includes(O)&&!Object.values(E.showClass).includes(O)&&C.classList.remove(O)})})(C,E),E.customClass&&E.customClass[O]){if("string"!=typeof E.customClass[O]&&!E.customClass[O].forEach)return L("Invalid type of customClass.".concat(O,'! Expected string or iterable object, got "').concat(typeof E.customClass[O],'"'));ln(C,E.customClass[O])}},Vr=(C,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return C.querySelector(".".concat(ie.popup," > .").concat(ie[E]));case"checkbox":return C.querySelector(".".concat(ie.popup," > .").concat(ie.checkbox," input"));case"radio":return C.querySelector(".".concat(ie.popup," > .").concat(ie.radio," input:checked"))||C.querySelector(".".concat(ie.popup," > .").concat(ie.radio," input:first-child"));case"range":return C.querySelector(".".concat(ie.popup," > .").concat(ie.range," input"));default:return C.querySelector(".".concat(ie.popup," > .").concat(ie.input))}},Js=C=>{if(C.focus(),"file"!==C.type){const E=C.value;C.value="",C.value=E}},ea=(C,E,O)=>{!C||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(W=>{Array.isArray(C)?C.forEach(Ce=>{O?Ce.classList.add(W):Ce.classList.remove(W)}):O?C.classList.add(W):C.classList.remove(W)}))},ln=(C,E)=>{ea(C,E,!0)},ci=(C,E)=>{ea(C,E,!1)},mo=(C,E)=>{const O=wt(C.childNodes);for(let W=0;W<O.length;W++)if(Ln(O[W],E))return O[W]},Xi=(C,E,O)=>{O==="".concat(parseInt(O))&&(O=parseInt(O)),O||0===parseInt(O)?C.style[E]="number"==typeof O?"".concat(O,"px"):O:C.style.removeProperty(E)},qn=function(C){C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Pr=C=>{C.style.display="none"},Cr=(C,E,O,W)=>{const Ce=C.querySelector(E);Ce&&(Ce.style[O]=W)},Fi=function(C,E){E?qn(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Pr(C)},Qn=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),Zl=C=>C.scrollHeight>C.clientHeight,cl=C=>{const E=window.getComputedStyle(C),O=parseFloat(E.getPropertyValue("animation-duration")||"0"),W=parseFloat(E.getPropertyValue("transition-duration")||"0");return O>0||W>0},Ms=function(C){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=k();Qn(O)&&(E&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition="width ".concat(C/1e3,"s linear"),O.style.width="0%"},10))},X=()=>"undefined"==typeof window||"undefined"==typeof document,B={},ee=C=>new Promise(E=>{if(!C)return E();const O=window.scrollX,W=window.scrollY;B.restoreFocusTimeout=setTimeout(()=>{B.previousActiveElement instanceof HTMLElement?(B.previousActiveElement.focus(),B.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(O,W)}),ue='\n <div aria-labelledby="'.concat(ie.title,'" aria-describedby="').concat(ie["html-container"],'" class="').concat(ie.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ie.close,'"></button>\n   <ul class="').concat(ie["progress-steps"],'"></ul>\n   <div class="').concat(ie.icon,'"></div>\n   <img class="').concat(ie.image,'" />\n   <h2 class="').concat(ie.title,'" id="').concat(ie.title,'"></h2>\n   <div class="').concat(ie["html-container"],'" id="').concat(ie["html-container"],'"></div>\n   <input class="').concat(ie.input,'" />\n   <input type="file" class="').concat(ie.file,'" />\n   <div class="').concat(ie.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ie.select,'"></select>\n   <div class="').concat(ie.radio,'"></div>\n   <label for="').concat(ie.checkbox,'" class="').concat(ie.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ie.label,'"></span>\n   </label>\n   <textarea class="').concat(ie.textarea,'"></textarea>\n   <div class="').concat(ie["validation-message"],'" id="').concat(ie["validation-message"],'"></div>\n   <div class="').concat(ie.actions,'">\n     <div class="').concat(ie.loader,'"></div>\n     <button type="button" class="').concat(ie.confirm,'"></button>\n     <button type="button" class="').concat(ie.deny,'"></button>\n     <button type="button" class="').concat(ie.cancel,'"></button>\n   </div>\n   <div class="').concat(ie.footer,'"></div>\n   <div class="').concat(ie["timer-progress-bar-container"],'">\n     <div class="').concat(ie["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Oe=()=>{B.currentInstance.resetValidationMessage()},nr=C=>{const E=(()=>{const C=ge();return!!C&&(C.remove(),ci([document.documentElement,document.body],[ie["no-backdrop"],ie["toast-shown"],ie["has-column"]]),!0)})();if(X())return void fe("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=ie.container,E&&ln(O,ie["no-transition"]),Tn(O,ue);const W=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);W.appendChild(O),(C=>{const E=ke();E.setAttribute("role",C.toast?"alert":"dialog"),E.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||E.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&ln(ge(),ie.rtl)})(W),(()=>{const C=ke(),E=mo(C,ie.input),O=mo(C,ie.file),W=C.querySelector(".".concat(ie.range," input")),Ce=C.querySelector(".".concat(ie.range," output")),et=mo(C,ie.select),Ir=C.querySelector(".".concat(ie.checkbox," input")),qo=mo(C,ie.textarea);E.oninput=Oe,O.onchange=Oe,et.onchange=Oe,Ir.onchange=Oe,qo.oninput=Oe,W.oninput=()=>{Oe(),Ce.value=W.value},W.onchange=()=>{Oe(),Ce.value=W.value}})(),pr(O,C)},pr=(C,E)=>{if(E.toast)return;const O=(C=>C[Math.floor(Math.random()*C.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if(/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const W=document.createElement("div");W.className=ie["no-war"],Tn(W,'<a href="https://www.youtube.com/watch?v='.concat(O.youtubeId,'" target="_blank">').concat(O.text,"</a>")),C.appendChild(W),C.style.paddingTop="4em"}},os=(C,E)=>{C instanceof HTMLElement?E.appendChild(C):"object"==typeof C?Or(C,E):C&&Tn(E,C)},Or=(C,E)=>{C.jquery?wn(E,C):Tn(E,C.toString())},wn=(C,E)=>{if(C.textContent="",0 in E)for(let O=0;O in E;O++)C.appendChild(E[O].cloneNode(!0));else C.appendChild(E.cloneNode(!0))},dl=(()=>{if(X())return!1;const C=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in E)if(Object.prototype.hasOwnProperty.call(E,O)&&void 0!==C.style[O])return E[O];return!1})(),hl=(C,E)=>{const O=zr(),W=Et();E.showConfirmButton||E.showDenyButton||E.showCancelButton?qn(O):Pr(O),qt(O,E,"actions"),function fl(C,E,O){const W=Ie(),Ce=Ge(),et=Bt();Yt(W,"confirm",O),Yt(Ce,"deny",O),Yt(et,"cancel",O),function dr(C,E,O,W){if(!W.buttonsStyling)return ci([C,E,O],ie.styled);ln([C,E,O],ie.styled),W.confirmButtonColor&&(C.style.backgroundColor=W.confirmButtonColor,ln(C,ie["default-outline"])),W.denyButtonColor&&(E.style.backgroundColor=W.denyButtonColor,ln(E,ie["default-outline"])),W.cancelButtonColor&&(O.style.backgroundColor=W.cancelButtonColor,ln(O,ie["default-outline"]))}(W,Ce,et,O),O.reverseButtons&&(O.toast?(C.insertBefore(et,W),C.insertBefore(Ce,W)):(C.insertBefore(et,E),C.insertBefore(Ce,E),C.insertBefore(W,E)))}(O,W,E),Tn(W,E.loaderHtml),qt(W,E,"loader")};function Yt(C,E,O){Fi(C,O["show".concat(ze(E),"Button")],"inline-block"),Tn(C,O["".concat(E,"ButtonText")]),C.setAttribute("aria-label",O["".concat(E,"ButtonAriaLabel")]),C.className=ie[E],qt(C,O,"".concat(E,"Button")),ln(C,O["".concat(E,"ButtonClass")])}const Mp=(C,E)=>{const O=ge();!O||(function h0(C,E){"string"==typeof E?C.style.background=E:E||ln([document.documentElement,document.body],ie["no-backdrop"])}(O,E.backdrop),function st(C,E){E in ie?ln(C,ie[E]):(L('The "position" parameter is not valid, defaulting to "center"'),ln(C,ie.center))}(O,E.position),function Yu(C,E){if(E&&"string"==typeof E){const O="grow-".concat(E);O in ie&&ln(C,ie[O])}}(O,E.grow),qt(O,E,"container"))};var qe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Li=["input","file","range","select","radio","checkbox","textarea"],f0=C=>{if(!Ji[C.input])return fe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const E=Rp(C.input),O=Ji[C.input](E,C);qn(E),setTimeout(()=>{Js(O)})},Qu=(C,E)=>{const O=Vr(ke(),C);if(O){(C=>{for(let E=0;E<C.attributes.length;E++){const O=C.attributes[E].name;["type","value","style"].includes(O)||C.removeAttribute(O)}})(O);for(const W in E)O.setAttribute(W,E[W])}},Zi=C=>{const E=Rp(C.input);"object"==typeof C.customClass&&ln(E,C.customClass.input)},wh=(C,E)=>{(!C.placeholder||E.inputPlaceholder)&&(C.placeholder=E.inputPlaceholder)},Xu=(C,E,O)=>{if(O.inputLabel){C.id=ie.input;const W=document.createElement("label"),Ce=ie["input-label"];W.setAttribute("for",C.id),W.className=Ce,"object"==typeof O.customClass&&ln(W,O.customClass.inputLabel),W.innerText=O.inputLabel,E.insertAdjacentElement("beforebegin",W)}},Rp=C=>mo(ke(),ie[C]||ie.input),go=(C,E)=>{["string","number"].includes(typeof E)?C.value="".concat(E):Je(E)||L('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof E,'"'))},Ji={};Ji.text=Ji.email=Ji.password=Ji.number=Ji.tel=Ji.url=(C,E)=>(go(C,E.inputValue),Xu(C,C,E),wh(C,E),C.type=E.input,C),Ji.file=(C,E)=>(Xu(C,C,E),wh(C,E),C),Ji.range=(C,E)=>{const O=C.querySelector("input"),W=C.querySelector("output");return go(O,E.inputValue),O.type=E.input,go(W,E.inputValue),Xu(O,C,E),C},Ji.select=(C,E)=>{if(C.textContent="",E.inputPlaceholder){const O=document.createElement("option");Tn(O,E.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,C.appendChild(O)}return Xu(C,C,E),C},Ji.radio=C=>(C.textContent="",C),Ji.checkbox=(C,E)=>{const O=Vr(ke(),"checkbox");O.value="1",O.id=ie.checkbox,O.checked=Boolean(E.inputValue);const W=C.querySelector("span");return Tn(W,E.inputPlaceholder),O},Ji.textarea=(C,E)=>{go(C,E.inputValue),wh(C,E),Xu(C,C,E);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle(ke()).width);new MutationObserver(()=>{const et=C.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(C);ke().style.width=et>W?"".concat(et,"px"):null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const kv=(C,E)=>{const O=Jt();qt(O,E,"htmlContainer"),E.html?(os(E.html,O),qn(O,"block")):E.text?(O.textContent=E.text,qn(O,"block")):Pr(O),((C,E)=>{const O=ke(),W=qe.innerParams.get(C),Ce=!W||E.input!==W.input;Li.forEach(et=>{const Ir=mo(O,ie[et]);Qu(et,E.inputAttributes),Ir.className=ie[et],Ce&&Pr(Ir)}),E.input&&(Ce&&f0(E),Zi(E))})(C,E)},Vn=(C,E)=>{for(const O in me)E.icon!==O&&ci(C,me[O]);ln(C,me[E.icon]),p0(C,E),pn(),qt(C,E,"icon")},pn=()=>{const C=ke(),E=window.getComputedStyle(C).getPropertyValue("background-color"),O=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<O.length;W++)O[W].style.backgroundColor=E},rr=(C,E)=>{let W,O=C.innerHTML;E.iconHtml?W=Zu(E.iconHtml):"success"===E.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):W="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Zu({question:"?",warning:"!",info:"i"}[E.icon]),O.trim()!==W.trim()&&Tn(C,W)},p0=(C,E)=>{if(E.iconColor){C.style.color=E.iconColor,C.style.borderColor=E.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Cr(C,O,"backgroundColor",E.iconColor);Cr(C,".swal2-success-ring","borderColor",E.iconColor)}},Zu=C=>'<div class="'.concat(ie["icon-content"],'">').concat(C,"</div>"),_n=C=>{const E=document.createElement("li");return ln(E,ie["progress-step"]),Tn(E,C),E},Dt=C=>{const E=document.createElement("li");return ln(E,ie["progress-step-line"]),C.progressStepsDistance&&Xi(E,"width",C.progressStepsDistance),E},jo=(C,E)=>{C.className="".concat(ie.popup," ").concat(Qn(C)?E.showClass.popup:""),E.toast?(ln([document.documentElement,document.body],ie["toast-shown"]),ln(C,ie.toast)):ln(C,ie.modal),qt(C,E,"popup"),"string"==typeof E.customClass&&ln(C,E.customClass),E.icon&&ln(C,ie["icon-".concat(E.icon)])},Pp=(C,E)=>{((C,E)=>{const O=ge(),W=ke();E.toast?(Xi(O,"width",E.width),W.style.width="100%",W.insertBefore(Et(),Re())):Xi(W,"width",E.width),Xi(W,"padding",E.padding),E.color&&(W.style.color=E.color),E.background&&(W.style.background=E.background),Pr(en()),jo(W,E)})(0,E),Mp(0,E),((C,E)=>{const O=kt();if(!E.progressSteps||0===E.progressSteps.length)return Pr(O);qn(O),O.textContent="",E.currentProgressStep>=E.progressSteps.length&&L("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((W,Ce)=>{const et=_n(W);if(O.appendChild(et),Ce===E.currentProgressStep&&ln(et,ie["active-progress-step"]),Ce!==E.progressSteps.length-1){const Ir=Dt(E);O.appendChild(Ir)}})})(0,E),((C,E)=>{const O=qe.innerParams.get(C),W=Re();O&&E.icon===O.icon?(rr(W,E),Vn(W,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(me).indexOf(E.icon)?(fe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(E.icon,'"')),Pr(W)):(qn(W),rr(W,E),Vn(W,E),ln(W,E.showClass.icon)):Pr(W)})(C,E),((C,E)=>{const O=Rr();if(!E.imageUrl)return Pr(O);qn(O,""),O.setAttribute("src",E.imageUrl),O.setAttribute("alt",E.imageAlt),Xi(O,"width",E.imageWidth),Xi(O,"height",E.imageHeight),O.className=ie.image,qt(O,E,"image")})(0,E),((C,E)=>{const O=Ye();Fi(O,E.title||E.titleText,"block"),E.title&&os(E.title,O),E.titleText&&(O.innerText=E.titleText),qt(O,E,"title")})(0,E),((C,E)=>{const O=li();Tn(O,E.closeButtonHtml),qt(O,E,"closeButton"),Fi(O,E.showCloseButton),O.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),kv(C,E),hl(0,E),((C,E)=>{const O=ye();Fi(O,E.footer),E.footer&&os(E.footer,O),qt(O,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(ke())},ml=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ju=()=>{wt(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},ta=["swal-title","swal-html","swal-footer"],Ot=C=>{const E={};return wt(C.querySelectorAll("swal-param")).forEach(O=>{Zr(O,["name","value"]);const W=O.getAttribute("name"),Ce=O.getAttribute("value");"boolean"==typeof Me[W]&&"false"===Ce&&(E[W]=!1),"object"==typeof Me[W]&&(E[W]=JSON.parse(Ce))}),E},Eh=C=>{const E={};return wt(C.querySelectorAll("swal-button")).forEach(O=>{Zr(O,["type","color","aria-label"]);const W=O.getAttribute("type");E["".concat(W,"ButtonText")]=O.innerHTML,E["show".concat(ze(W),"Button")]=!0,O.hasAttribute("color")&&(E["".concat(W,"ButtonColor")]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(E["".concat(W,"ButtonAriaLabel")]=O.getAttribute("aria-label"))}),E},Ov=C=>{const E={},O=C.querySelector("swal-image");return O&&(Zr(O,["src","width","height","alt"]),O.hasAttribute("src")&&(E.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(E.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(E.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(E.imageAlt=O.getAttribute("alt"))),E},na=C=>{const E={},O=C.querySelector("swal-icon");return O&&(Zr(O,["type","color"]),O.hasAttribute("type")&&(E.icon=O.getAttribute("type")),O.hasAttribute("color")&&(E.iconColor=O.getAttribute("color")),E.iconHtml=O.innerHTML),E},Op=C=>{const E={},O=C.querySelector("swal-input");O&&(Zr(O,["type","label","placeholder","value"]),E.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(E.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(E.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(E.inputValue=O.getAttribute("value")));const W=C.querySelectorAll("swal-input-option");return W.length&&(E.inputOptions={},wt(W).forEach(Ce=>{Zr(Ce,["value"]);const et=Ce.getAttribute("value");E.inputOptions[et]=Ce.innerHTML})),E},m0=(C,E)=>{const O={};for(const W in E){const Ce=E[W],et=C.querySelector(Ce);et&&(Zr(et,[]),O[Ce.replace(/^swal-/,"")]=et.innerHTML.trim())}return O},Da=C=>{const E=ta.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);wt(C.children).forEach(O=>{const W=O.tagName.toLowerCase();-1===E.indexOf(W)&&L("Unrecognized element <".concat(W,">"))})},Zr=(C,E)=>{wt(C.attributes).forEach(O=>{-1===E.indexOf(O.name)&&L(['Unrecognized attribute "'.concat(O.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(E.length?"Allowed attributes are: ".concat(E.join(", ")):"To set the value, use HTML within the element.")])})};var gl={email:(C,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(C,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function rd(C){(function Dn(C){C.inputValidator||Object.keys(gl).forEach(E=>{C.input===E&&(C.inputValidator=gl[E])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&L("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function eo(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(L('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),nr(C)}class Np{constructor(E,O){this.callback=E,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const O=this.running;return O&&this.stop(),this.remaining+=E,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const xs=()=>{null===fr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(fr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(fr.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=ie["scrollbar-measure"],document.body.appendChild(C);const E=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),E})(),"px"))},g0=()=>{const C=navigator.userAgent,E=!!C.match(/iPad/i)||!!C.match(/iPhone/i),O=!!C.match(/WebKit/i);E&&O&&!C.match(/CriOS/i)&&ke().scrollHeight>window.innerHeight-44&&(ge().style.paddingBottom="".concat(44,"px"))},Aa=()=>{const C=ge();let E;C.ontouchstart=O=>{E=Jl(O)},C.ontouchmove=O=>{E&&(O.preventDefault(),O.stopPropagation())}},Jl=C=>{const E=C.target,O=ge();return!(Zn(C)||eu(C)||E!==O&&(Zl(O)||"INPUT"===E.tagName||"TEXTAREA"===E.tagName||Zl(Jt())&&Jt().contains(E)))},Zn=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,eu=C=>C.touches&&C.touches.length>1,Dh=C=>{const E=ge(),O=ke();"function"==typeof C.willOpen&&C.willOpen(O);const Ce=window.getComputedStyle(document.body).overflowY;Ft(E,O,C),setTimeout(()=>{Rs(E,O)},10),ks()&&(Fp(E,C.scrollbarPadding,Ce),wt(document.body.children).forEach(E=>{E===ge()||E.contains(ge())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!hn()&&!B.previousActiveElement&&(B.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(O)),ci(E,ie["no-transition"])},ss=C=>{const E=ke();if(C.target!==E)return;const O=ge();E.removeEventListener(dl,ss),O.style.overflowY="auto"},Rs=(C,E)=>{dl&&cl(E)?(C.style.overflowY="hidden",E.addEventListener(dl,ss)):C.style.overflowY="auto"},Fp=(C,E,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Ln(document.body,ie.iosfix)){const E=document.body.scrollTop;document.body.style.top="".concat(-1*E,"px"),ln(document.body,ie.iosfix),Aa(),g0()}})(),E&&"hidden"!==O&&xs(),setTimeout(()=>{C.scrollTop=0})},Ft=(C,E,O)=>{ln(C,O.showClass.backdrop),E.style.setProperty("opacity","0","important"),qn(E,"grid"),setTimeout(()=>{ln(E,O.showClass.popup),E.style.removeProperty("opacity")},10),ln([document.documentElement,document.body],ie.shown),O.heightAuto&&O.backdrop&&!O.toast&&ln([document.documentElement,document.body],ie["height-auto"])},tu=C=>{let E=ke();E||new Nh,E=ke();const O=Et();hn()?Pr(Re()):Lp(E,C),qn(O),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},Lp=(C,E)=>{const O=zr(),W=Et();!E&&Qn(Ie())&&(E=Ie()),qn(O),E&&(Pr(E),W.setAttribute("data-button-to-replace",E.className)),W.parentNode.insertBefore(W,E),ln([C,O],ie.loading)},Cn=C=>C.checked?1:0,Nv=C=>C.checked?C.value:null,tc=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,Le=(C,E)=>{const O=ke(),W=Ce=>$r[E.input](O,to(Ce),E);at(E.inputOptions)||Je(E.inputOptions)?(tu(Ie()),_e(E.inputOptions).then(Ce=>{C.hideLoading(),W(Ce)})):"object"==typeof E.inputOptions?W(E.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof E.inputOptions))},qr=(C,E)=>{const O=C.getInput();Pr(O),_e(E.inputValue).then(W=>{O.value="number"===E.input?parseFloat(W)||0:"".concat(W),qn(O),O.focus(),C.hideLoading()}).catch(W=>{fe("Error in inputValue promise: ".concat(W)),O.value="",qn(O),O.focus(),C.hideLoading()})},$r={select:(C,E,O)=>{const W=mo(C,ie.select),Ce=(et,Ir,qo)=>{const ti=document.createElement("option");ti.value=qo,Tn(ti,Ir),ti.selected=Mt(qo,O.inputValue),et.appendChild(ti)};E.forEach(et=>{const Ir=et[0],qo=et[1];if(Array.isArray(qo)){const ti=document.createElement("optgroup");ti.label=Ir,ti.disabled=!1,W.appendChild(ti),qo.forEach(Ui=>Ce(ti,Ui[1],Ui[0]))}else Ce(W,qo,Ir)}),W.focus()},radio:(C,E,O)=>{const W=mo(C,ie.radio);E.forEach(et=>{const Ir=et[0],qo=et[1],ti=document.createElement("input"),Ui=document.createElement("label");ti.type="radio",ti.name=ie.radio,ti.value=Ir,Mt(Ir,O.inputValue)&&(ti.checked=!0);const sc=document.createElement("span");Tn(sc,qo),sc.className=ie.label,Ui.appendChild(ti),Ui.appendChild(sc),W.appendChild(Ui)});const Ce=W.querySelectorAll("input");Ce.length&&Ce[0].focus()}},to=C=>{const E=[];return"undefined"!=typeof Map&&C instanceof Map?C.forEach((O,W)=>{let Ce=O;"object"==typeof Ce&&(Ce=to(Ce)),E.push([W,Ce])}):Object.keys(C).forEach(O=>{let W=C[O];"object"==typeof W&&(W=to(W)),E.push([O,W])}),E},Mt=(C,E)=>E&&E.toString()===C.toString();function vo(){const C=qe.innerParams.get(this);if(!C)return;const E=qe.domCache.get(this);Pr(E.loader),hn()?C.icon&&qn(Re()):Ia(E),ci([E.popup,E.actions],ie.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const Ia=C=>{const E=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));E.length?qn(E[0],"inline-block"):!Qn(Ie())&&!Qn(Ge())&&!Qn(Bt())&&Pr(C.actions)};var $n={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ka=()=>Ie()&&Ie().click(),Vi=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},sn=(C,E,O)=>{const W=Ni();if(W.length)return(E+=O)===W.length?E=0:-1===E&&(E=W.length-1),W[E].focus();ke().focus()},mr=["ArrowRight","ArrowDown"],no=["ArrowLeft","ArrowUp"],Ma=(C,E,O)=>{const W=qe.innerParams.get(C);!W||E.isComposing||229===E.keyCode||(W.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Wr(C,E,W):"Tab"===E.key?Ho(E,W):[...mr,...no].includes(E.key)?gr(E.key):"Escape"===E.key&&ra(E,W,O))},Wr=(C,E,O)=>{if(In(O.allowEnterKey)&&E.target&&C.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;ka(),E.preventDefault()}},Ho=(C,E)=>{const O=C.target,W=Ni();let Ce=-1;for(let et=0;et<W.length;et++)if(O===W[et]){Ce=et;break}sn(0,Ce,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},gr=C=>{const E=Ie(),O=Ge(),W=Bt();if(document.activeElement instanceof HTMLElement&&![E,O,W].includes(document.activeElement))return;const Ce=mr.includes(C)?"nextElementSibling":"previousElementSibling";let et=document.activeElement;for(let Ir=0;Ir<zr().children.length;Ir++){if(et=et[Ce],!et)return;if(et instanceof HTMLButtonElement&&Qn(et))break}et instanceof HTMLButtonElement&&et.focus()},ra=(C,E,O)=>{In(E.allowEscapeKey)&&(C.preventDefault(),O(ml.esc))};function vl(C,E,O,W){hn()?Jn(C,W):(ee(O).then(()=>Jn(C,W)),Vi(B)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),ks()&&(null!==fr.previousBodyPadding&&(document.body.style.paddingRight="".concat(fr.previousBodyPadding,"px"),fr.previousBodyPadding=null),(()=>{if(Ln(document.body,ie.iosfix)){const C=parseInt(document.body.style.top,10);ci(document.body,ie.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),Ju()),function Qt(){ci([document.documentElement,document.body],[ie.shown,ie["height-auto"],ie["no-backdrop"],ie["toast-shown"]])}()}function xa(C){C=nc(C);const E=$n.swalPromiseResolve.get(this),O=id(this);this.isAwaitingPromise()?C.isDismissed||(ei(this),E(C)):O&&E(C)}const id=C=>{const E=ke();if(!E)return!1;const O=qe.innerParams.get(C);if(!O||Ln(E,O.hideClass.popup))return!1;ci(E,O.showClass.popup),ln(E,O.hideClass.popup);const W=ge();return ci(W,O.showClass.backdrop),ln(W,O.hideClass.backdrop),Ra(C,E,O),!0};const ei=C=>{C.isAwaitingPromise()&&(qe.awaitingPromise.delete(C),qe.innerParams.get(C)||C._destroy())},nc=C=>void 0===C?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Ra=(C,E,O)=>{const W=ge(),Ce=dl&&cl(E);"function"==typeof O.willClose&&O.willClose(E),Ce?as(C,E,W,O.returnFocus,O.didClose):vl(C,W,O.returnFocus,O.didClose)},as=(C,E,O,W,Ce)=>{B.swalCloseEventFinishedCallback=vl.bind(null,C,O,W,Ce),E.addEventListener(dl,function(et){et.target===E&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback)})},Jn=(C,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(C.params)(),C._destroy()})};function Bp(C,E,O){const W=qe.domCache.get(C);E.forEach(Ce=>{W[Ce].disabled=O})}function rc(C,E){if(!C)return!1;if("radio"===C.type){const W=C.parentNode.parentNode.querySelectorAll("input");for(let Ce=0;Ce<W.length;Ce++)W[Ce].disabled=E}else C.disabled=E}const Fv=C=>{const E={};return Object.keys(C).forEach(O=>{tt(O)?E[O]=C[O]:L("Invalid parameter to update: ".concat(O))}),E};const Lv=C=>{Vv(C),delete C.params,delete B.keydownHandler,delete B.keydownTarget,delete B.currentInstance},Vv=C=>{C.isAwaitingPromise()?(Hp(qe,C),qe.awaitingPromise.set(C,!0)):(Hp($n,C),Hp(qe,C))},Hp=(C,E)=>{for(const O in C)C[O].delete(E)};var Bv=Object.freeze({hideLoading:vo,disableLoading:vo,getInput:function Ah(C){const E=qe.innerParams.get(C||this),O=qe.domCache.get(C||this);return O?Vr(O.popup,E.input):null},close:xa,isAwaitingPromise:function iu(){return!!qe.awaitingPromise.get(this)},rejectPromise:function ou(C){const E=$n.swalPromiseReject.get(this);ei(this),E&&E(C)},handleAwaitingPromise:ei,closePopup:xa,closeModal:xa,closeToast:xa,enableButtons:function ls(){Bp(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function zo(){Bp(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ih(){return rc(this.getInput(),!1)},disableInput:function od(){return rc(this.getInput(),!0)},showValidationMessage:function _l(C){const E=qe.domCache.get(this),O=qe.innerParams.get(this);Tn(E.validationMessage,C),E.validationMessage.className=ie["validation-message"],O.customClass&&O.customClass.validationMessage&&ln(E.validationMessage,O.customClass.validationMessage),qn(E.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid",!0),W.setAttribute("aria-describedby",ie["validation-message"]),Js(W),ln(W,ie.inputerror))},resetValidationMessage:function Ci(){const C=qe.domCache.get(this);C.validationMessage&&Pr(C.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),ci(E,ie.inputerror))},getProgressSteps:function kh(){return qe.domCache.get(this).progressSteps},update:function Up(C){const E=ke(),O=qe.innerParams.get(this);if(!E||Ln(E,O.hideClass.popup))return L("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=Fv(C),Ce=Object.assign({},O,W);Pp(this,Ce),qe.innerParams.set(this,Ce),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function jp(){const C=qe.domCache.get(this),E=qe.innerParams.get(this);E?(C.popup&&B.swalCloseEventFinishedCallback&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),Lv(this)):Vv(this)}});const Mh=(C,E)=>{const O=qe.innerParams.get(C);if(!O.input)return fe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ze(E)));const W=((C,E)=>{const O=C.getInput();if(!O)return null;switch(E.input){case"checkbox":return Cn(O);case"radio":return Nv(O);case"file":return tc(O);default:return E.inputAutoTrim?O.value.trim():O.value}})(C,O);O.inputValidator?qp(C,W,E):C.getInput().checkValidity()?"deny"===E?$p(C,W):ad(C,W):(C.enableButtons(),C.showValidationMessage(O.validationMessage))},qp=(C,E,O)=>{const W=qe.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>_e(W.inputValidator(E,W.validationMessage))).then(et=>{C.enableButtons(),C.enableInput(),et?C.showValidationMessage(et):"deny"===O?$p(C,E):ad(C,E)})},$p=(C,E)=>{const O=qe.innerParams.get(C||void 0);O.showLoaderOnDeny&&tu(Ge()),O.preDeny?(qe.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>_e(O.preDeny(E,O.validationMessage))).then(Ce=>{!1===Ce?(C.hideLoading(),ei(C)):C.closePopup({isDenied:!0,value:void 0===Ce?E:Ce})}).catch(Ce=>sd(C||void 0,Ce))):C.closePopup({isDenied:!0,value:E})},Wp=(C,E)=>{C.closePopup({isConfirmed:!0,value:E})},sd=(C,E)=>{C.rejectPromise(E)},ad=(C,E)=>{const O=qe.innerParams.get(C||void 0);O.showLoaderOnConfirm&&tu(),O.preConfirm?(C.resetValidationMessage(),qe.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>_e(O.preConfirm(E,O.validationMessage))).then(Ce=>{Qn(en())||!1===Ce?(C.hideLoading(),ei(C)):Wp(C,void 0===Ce?E:Ce)}).catch(Ce=>sd(C||void 0,Ce))):Wp(C,E)},Gp=(C,E,O)=>{E.popup.onclick=()=>{const W=qe.innerParams.get(C);W&&(xh(W)||W.timer||W.input)||O(ml.close)}},xh=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let bl=!1;const _0=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(E){C.container.onmouseup=void 0,E.target===C.container&&(bl=!0)}}},y0=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(E){C.popup.onmouseup=void 0,(E.target===C.popup||C.popup.contains(E.target))&&(bl=!0)}}},Ps=(C,E,O)=>{E.container.onclick=W=>{const Ce=qe.innerParams.get(C);bl?bl=!1:W.target===E.container&&In(Ce.allowOutsideClick)&&O(ml.backdrop)}},Nr=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const Bi=()=>{if(B.timeout)return(()=>{const C=k(),E=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const W=E/parseInt(window.getComputedStyle(C).width)*100;C.style.removeProperty("transition"),C.style.width="".concat(W,"%")})(),B.timeout.stop()},Os=()=>{if(B.timeout){const C=B.timeout.start();return Ms(C),C}};let su=!1;const ia={};const Pa=C=>{for(let E=C.target;E&&E!==document;E=E.parentNode)for(const O in ia){const W=E.getAttribute(O);if(W)return void ia[O].fire({template:W})}};var Oh=Object.freeze({isValidParameter:Be,isUpdatableParameter:tt,isDeprecatedParameter:ht,argsToParams:C=>{const E={};return"object"!=typeof C[0]||Nr(C[0])?["title","html","icon"].forEach((O,W)=>{const Ce=C[W];"string"==typeof Ce||Nr(Ce)?E[O]=Ce:void 0!==Ce&&fe("Unexpected type of ".concat(O,'! Expected "string" or "Element", got ').concat(typeof Ce))}):Object.assign(E,C[0]),E},isVisible:()=>Qn(ke()),clickConfirm:ka,clickDeny:()=>Ge()&&Ge().click(),clickCancel:()=>Bt()&&Bt().click(),getContainer:ge,getPopup:ke,getTitle:Ye,getHtmlContainer:Jt,getImage:Rr,getIcon:Re,getInputLabel:()=>ve(ie["input-label"]),getCloseButton:li,getActions:zr,getConfirmButton:Ie,getDenyButton:Ge,getCancelButton:Bt,getLoader:Et,getFooter:ye,getTimerProgressBar:k,getFocusableElements:Ni,getValidationMessage:en,isLoading:()=>ke().hasAttribute("data-loading"),fire:function wl(){const C=this;for(var E=arguments.length,O=new Array(E),W=0;W<E;W++)O[W]=arguments[W];return new C(...O)},mixin:function Rh(C){return class E extends(this){_main(W,Ce){return super._main(W,Object.assign({},C,Ce))}}},showLoading:tu,enableLoading:tu,getTimerLeft:()=>B.timeout&&B.timeout.getTimerLeft(),stopTimer:Bi,resumeTimer:Os,toggleTimer:()=>{const C=B.timeout;return C&&(C.running?Bi():Os())},increaseTimer:C=>{if(B.timeout){const E=B.timeout.increase(C);return Ms(E,!0),E}},isTimerRunning:()=>B.timeout&&B.timeout.isRunning(),bindClickHandler:function ld(){ia[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,su||(document.body.addEventListener("click",Pa),su=!0)}});let di;class El{constructor(){if("undefined"==typeof window)return;di=this;for(var E=arguments.length,O=new Array(E),W=0;W<E;W++)O[W]=arguments[W];const Ce=Object.freeze(this.constructor.argsToParams(O));Object.defineProperties(this,{params:{value:Ce,writable:!1,enumerable:!0,configurable:!0}});const et=di._main(di.params);qe.promise.set(this,et)}_main(E){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!C.backdrop&&C.allowOutsideClick&&L('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in C)Pt(E),C.toast&&Nt(E),ct(E)})(Object.assign({},O,E)),B.currentInstance&&(B.currentInstance._destroy(),ks()&&Ju()),B.currentInstance=di;const W=b0(E,O);rd(W),Object.freeze(W),B.timeout&&(B.timeout.stop(),delete B.timeout),clearTimeout(B.restoreFocusTimeout);const Ce=Ar(di);return Pp(di,W),qe.innerParams.set(di,W),au(di,Ce,W)}then(E){return qe.promise.get(this).then(E)}finally(E){return qe.promise.get(this).finally(E)}}const au=(C,E,O)=>new Promise((W,Ce)=>{const et=Ir=>{C.closePopup({isDismissed:!0,dismiss:Ir})};$n.swalPromiseResolve.set(C,W),$n.swalPromiseReject.set(C,Ce),E.confirmButton.onclick=()=>(C=>{const E=qe.innerParams.get(C);C.disableButtons(),E.input?Mh(C,"confirm"):ad(C,!0)})(C),E.denyButton.onclick=()=>(C=>{const E=qe.innerParams.get(C);C.disableButtons(),E.returnInputValueOnDeny?Mh(C,"deny"):$p(C,!1)})(C),E.cancelButton.onclick=()=>((C,E)=>{C.disableButtons(),E(ml.cancel)})(C,et),E.closeButton.onclick=()=>et(ml.close),((C,E,O)=>{qe.innerParams.get(C).toast?Gp(C,E,O):(_0(E),y0(E),Ps(C,E,O))})(C,E,et),((C,E,O,W)=>{Vi(E),O.toast||(E.keydownHandler=Ce=>Ma(C,Ce,W),E.keydownTarget=O.keydownListenerCapture?window:ke(),E.keydownListenerCapture=O.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(C,B,O,et),((C,E)=>{"select"===E.input||"radio"===E.input?Le(C,E):["text","email","number","tel","textarea"].includes(E.input)&&(at(E.inputValue)||Je(E.inputValue))&&(tu(Ie()),qr(C,E))})(C,O),Dh(O),Yp(B,O,et),Uv(E,O),setTimeout(()=>{E.container.scrollTop=0})}),b0=(C,E)=>{const O=(C=>{const E="string"==typeof C.template?document.querySelector(C.template):C.template;if(!E)return{};const O=E.content;return Da(O),Object.assign(Ot(O),Eh(O),Ov(O),na(O),Op(O),m0(O,ta))})(C),W=Object.assign({},Me,E,O,C);return W.showClass=Object.assign({},Me.showClass,W.showClass),W.hideClass=Object.assign({},Me.hideClass,W.hideClass),W},Ar=C=>{const E={popup:ke(),container:ge(),actions:zr(),confirmButton:Ie(),denyButton:Ge(),cancelButton:Bt(),loader:Et(),closeButton:li(),validationMessage:en(),progressSteps:kt()};return qe.domCache.set(C,E),E},Yp=(C,E,O)=>{const W=k();Pr(W),E.timer&&(C.timeout=new Np(()=>{O("timer"),delete C.timeout},E.timer),E.timerProgressBar&&(qn(W),qt(W,E,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&Ms(E.timer)})))},Uv=(C,E)=>{if(!E.toast){if(!In(E.allowEnterKey))return jv();Br(C,E)||sn(0,-1,1)}},Br=(C,E)=>E.focusDeny&&Qn(C.denyButton)?(C.denyButton.focus(),!0):E.focusCancel&&Qn(C.cancelButton)?(C.cancelButton.focus(),!0):!(!E.focusConfirm||!Qn(C.confirmButton)||(C.confirmButton.focus(),0)),jv=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(El.prototype,Bv),Object.assign(El,Oh),Object.keys(Bv).forEach(C=>{El[C]=function(){if(di)return di[C](...arguments)}}),El.DismissReason=ml,El.version="11.4.19";const Nh=El;return Nh.default=Nh,Nh}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(wr,_t){var ze=wr.createElement("style");if(wr.getElementsByTagName("head")[0].appendChild(ze),ze.styleSheet)ze.styleSheet.disabled||(ze.styleSheet.cssText=_t);else try{ze.innerHTML=_t}catch(wt){ze.innerText=_t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Uo,wr,_t)=>{"use strict";_t.r(wr),_t.d(wr,{__assign:()=>L,__asyncDelegator:()=>ht,__asyncGenerator:()=>tt,__asyncValues:()=>Pt,__await:()=>Be,__awaiter:()=>In,__classPrivateFieldGet:()=>dn,__classPrivateFieldSet:()=>ie,__createBinding:()=>_e,__decorate:()=>Tt,__exportStar:()=>Je,__extends:()=>wt,__generator:()=>at,__importDefault:()=>ai,__importStar:()=>Gn,__makeTemplateObject:()=>Nt,__metadata:()=>cr,__param:()=>Xr,__read:()=>Me,__rest:()=>fe,__spread:()=>He,__spreadArray:()=>cn,__spreadArrays:()=>Ct,__values:()=>Ue});var ze=function(me,ge){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,ve){Ae.__proto__=ve}||function(Ae,ve){for(var ke in ve)Object.prototype.hasOwnProperty.call(ve,ke)&&(Ae[ke]=ve[ke])})(me,ge)};function wt(me,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Ae(){this.constructor=me}ze(me,ge),me.prototype=null===ge?Object.create(ge):(Ae.prototype=ge.prototype,new Ae)}var L=function(){return L=Object.assign||function(ge){for(var Ae,ve=1,ke=arguments.length;ve<ke;ve++)for(var Re in Ae=arguments[ve])Object.prototype.hasOwnProperty.call(Ae,Re)&&(ge[Re]=Ae[Re]);return ge},L.apply(this,arguments)};function fe(me,ge){var Ae={};for(var ve in me)Object.prototype.hasOwnProperty.call(me,ve)&&ge.indexOf(ve)<0&&(Ae[ve]=me[ve]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ve=Object.getOwnPropertySymbols(me);ke<ve.length;ke++)ge.indexOf(ve[ke])<0&&Object.prototype.propertyIsEnumerable.call(me,ve[ke])&&(Ae[ve[ke]]=me[ve[ke]])}return Ae}function Tt(me,ge,Ae,ve){var Ye,ke=arguments.length,Re=ke<3?ge:null===ve?ve=Object.getOwnPropertyDescriptor(ge,Ae):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(me,ge,Ae,ve);else for(var Jt=me.length-1;Jt>=0;Jt--)(Ye=me[Jt])&&(Re=(ke<3?Ye(Re):ke>3?Ye(ge,Ae,Re):Ye(ge,Ae))||Re);return ke>3&&Re&&Object.defineProperty(ge,Ae,Re),Re}function Xr(me,ge){return function(Ae,ve){ge(Ae,ve,me)}}function cr(me,ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(me,ge)}function In(me,ge,Ae,ve){return new(Ae||(Ae=Promise))(function(Re,Ye){function Jt(en){try{kt(ve.next(en))}catch(Ie){Ye(Ie)}}function Rr(en){try{kt(ve.throw(en))}catch(Ie){Ye(Ie)}}function kt(en){en.done?Re(en.value):function ke(Re){return Re instanceof Ae?Re:new Ae(function(Ye){Ye(Re)})}(en.value).then(Jt,Rr)}kt((ve=ve.apply(me,ge||[])).next())})}function at(me,ge){var ve,ke,Re,Ye,Ae={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return Ye={next:Jt(0),throw:Jt(1),return:Jt(2)},"function"==typeof Symbol&&(Ye[Symbol.iterator]=function(){return this}),Ye;function Jt(kt){return function(en){return function Rr(kt){if(ve)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(ve=1,ke&&(Re=2&kt[0]?ke.return:kt[0]?ke.throw||((Re=ke.return)&&Re.call(ke),0):ke.next)&&!(Re=Re.call(ke,kt[1])).done)return Re;switch(ke=0,Re&&(kt=[2&kt[0],Re.value]),kt[0]){case 0:case 1:Re=kt;break;case 4:return Ae.label++,{value:kt[1],done:!1};case 5:Ae.label++,ke=kt[1],kt=[0];continue;case 7:kt=Ae.ops.pop(),Ae.trys.pop();continue;default:if(!(Re=(Re=Ae.trys).length>0&&Re[Re.length-1])&&(6===kt[0]||2===kt[0])){Ae=0;continue}if(3===kt[0]&&(!Re||kt[1]>Re[0]&&kt[1]<Re[3])){Ae.label=kt[1];break}if(6===kt[0]&&Ae.label<Re[1]){Ae.label=Re[1],Re=kt;break}if(Re&&Ae.label<Re[2]){Ae.label=Re[2],Ae.ops.push(kt);break}Re[2]&&Ae.ops.pop(),Ae.trys.pop();continue}kt=ge.call(me,Ae)}catch(en){kt=[6,en],ke=0}finally{ve=Re=0}if(5&kt[0])throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}([kt,en])}}}var _e=Object.create?function(me,ge,Ae,ve){void 0===ve&&(ve=Ae),Object.defineProperty(me,ve,{enumerable:!0,get:function(){return ge[Ae]}})}:function(me,ge,Ae,ve){void 0===ve&&(ve=Ae),me[ve]=ge[Ae]};function Je(me,ge){for(var Ae in me)"default"!==Ae&&!Object.prototype.hasOwnProperty.call(ge,Ae)&&_e(ge,me,Ae)}function Ue(me){var ge="function"==typeof Symbol&&Symbol.iterator,Ae=ge&&me[ge],ve=0;if(Ae)return Ae.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&ve>=me.length&&(me=void 0),{value:me&&me[ve++],done:!me}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(me,ge){var Ae="function"==typeof Symbol&&me[Symbol.iterator];if(!Ae)return me;var ke,Ye,ve=Ae.call(me),Re=[];try{for(;(void 0===ge||ge-- >0)&&!(ke=ve.next()).done;)Re.push(ke.value)}catch(Jt){Ye={error:Jt}}finally{try{ke&&!ke.done&&(Ae=ve.return)&&Ae.call(ve)}finally{if(Ye)throw Ye.error}}return Re}function He(){for(var me=[],ge=0;ge<arguments.length;ge++)me=me.concat(Me(arguments[ge]));return me}function Ct(){for(var me=0,ge=0,Ae=arguments.length;ge<Ae;ge++)me+=arguments[ge].length;var ve=Array(me),ke=0;for(ge=0;ge<Ae;ge++)for(var Re=arguments[ge],Ye=0,Jt=Re.length;Ye<Jt;Ye++,ke++)ve[ke]=Re[Ye];return ve}function cn(me,ge,Ae){if(Ae||2===arguments.length)for(var Re,ve=0,ke=ge.length;ve<ke;ve++)(Re||!(ve in ge))&&(Re||(Re=Array.prototype.slice.call(ge,0,ve)),Re[ve]=ge[ve]);return me.concat(Re||Array.prototype.slice.call(ge))}function Be(me){return this instanceof Be?(this.v=me,this):new Be(me)}function tt(me,ge,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ve=Ae.apply(me,ge||[]),Re=[];return ke={},Ye("next"),Ye("throw"),Ye("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Ye(Ge){ve[Ge]&&(ke[Ge]=function(zt){return new Promise(function(Et,Bt){Re.push([Ge,zt,Et,Bt])>1||Jt(Ge,zt)})})}function Jt(Ge,zt){try{!function Rr(Ge){Ge.value instanceof Be?Promise.resolve(Ge.value.v).then(kt,en):Ie(Re[0][2],Ge)}(ve[Ge](zt))}catch(Et){Ie(Re[0][3],Et)}}function kt(Ge){Jt("next",Ge)}function en(Ge){Jt("throw",Ge)}function Ie(Ge,zt){Ge(zt),Re.shift(),Re.length&&Jt(Re[0][0],Re[0][1])}}function ht(me){var ge,Ae;return ge={},ve("next"),ve("throw",function(ke){throw ke}),ve("return"),ge[Symbol.iterator]=function(){return this},ge;function ve(ke,Re){ge[ke]=me[ke]?function(Ye){return(Ae=!Ae)?{value:Be(me[ke](Ye)),done:"return"===ke}:Re?Re(Ye):Ye}:Re}}function Pt(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ge=me[Symbol.asyncIterator];return ge?ge.call(me):(me=Ue(me),Ae={},ve("next"),ve("throw"),ve("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function ve(Re){Ae[Re]=me[Re]&&function(Ye){return new Promise(function(Jt,Rr){!function ke(Re,Ye,Jt,Rr){Promise.resolve(Rr).then(function(kt){Re({value:kt,done:Jt})},Ye)}(Jt,Rr,(Ye=me[Re](Ye)).done,Ye.value)})}}}function Nt(me,ge){return Object.defineProperty?Object.defineProperty(me,"raw",{value:ge}):me.raw=ge,me}var ct=Object.create?function(me,ge){Object.defineProperty(me,"default",{enumerable:!0,value:ge})}:function(me,ge){me.default=ge};function Gn(me){if(me&&me.__esModule)return me;var ge={};if(null!=me)for(var Ae in me)"default"!==Ae&&Object.prototype.hasOwnProperty.call(me,Ae)&&_e(ge,me,Ae);return ct(ge,me),ge}function ai(me){return me&&me.__esModule?me:{default:me}}function dn(me,ge,Ae,ve){if("a"===Ae&&!ve)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ge?me!==ge||!ve:!ge.has(me))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Ae?ve:"a"===Ae?ve.call(me):ve?ve.value:ge.get(me)}function ie(me,ge,Ae,ve,ke){if("m"===ve)throw new TypeError("Private method is not writable");if("a"===ve&&!ke)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ge?me!==ge||!ke:!ge.has(me))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ve?ke.call(me,Ae):ke?ke.value=Ae:ge.set(me,Ae),Ae}}},Uo=>{Uo(Uo.s=192)}]);